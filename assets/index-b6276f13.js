import{F as Iu,M as eo,J as te,E as wn,N as up,K as cp}from"./index-d40b60fe.js";import{p as lp,h as fp}from"./hooks.module-fd12dd03.js";function hp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ru={},Hi={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.walletLogo=void 0;const dp=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};to.walletLogo=dp;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.LINK_API_URL=void 0;ro.LINK_API_URL="https://www.walletlink.org";var no={};Object.defineProperty(no,"__esModule",{value:!0});no.ScopedLocalStorage=void 0;class pp{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}no.ScopedLocalStorage=pp;var ti={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});const gp=Iu;function Fc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function yp(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let bp=class extends gp.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Fc(s,this,r);else{const o=s.length,a=yp(s);for(let c=0;c<o;c+=1)Fc(a[c],this,r)}return!0}};_n.default=bp;var Au={exports:{}};Au.exports;(function(t){(function(e,r){function n(w,u){if(!w)throw new Error(u||"Assertion failed")}function i(w,u){w.super_=u;var p=function(){};p.prototype=u.prototype,w.prototype=new p,w.prototype.constructor=w}function s(w,u,p){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(w||0,u||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=eo.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,v){if(typeof u=="number")return this._initNumber(u,p,v);if(typeof u=="object")return this._initArray(u,p,v);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var E=0;u[0]==="-"&&(E++,this.negative=1),E<u.length&&(p===16?this._parseHex(u,E,v):(this._parseBase(u,p,E),v==="le"&&this._initArray(this.toArray(),p,v)))},s.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},s.prototype._initArray=function(u,p,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S,T,L=0;if(v==="be")for(E=u.length-1,S=0;E>=0;E-=3)T=u[E]|u[E-1]<<8|u[E-2]<<16,this.words[S]|=T<<L&67108863,this.words[S+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,S++);else if(v==="le")for(E=0,S=0;E<u.length;E+=3)T=u[E]|u[E+1]<<8|u[E+2]<<16,this.words[S]|=T<<L&67108863,this.words[S+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,S++);return this._strip()};function a(w,u){var p=w.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+w)}function c(w,u,p){var v=a(w,p);return p-1>=u&&(v|=a(w,p-1)<<4),v}s.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var S=0,T=0,L;if(v==="be")for(E=u.length-1;E>=p;E-=2)L=c(u,p,E)<<S,this.words[T]|=L&67108863,S>=18?(S-=18,T+=1,this.words[T]|=L>>>26):S+=8;else{var _=u.length-p;for(E=_%2===0?p+1:p;E<u.length;E+=2)L=c(u,p,E)<<S,this.words[T]|=L&67108863,S>=18?(S-=18,T+=1,this.words[T]|=L>>>26):S+=8}this._strip()};function f(w,u,p,v){for(var E=0,S=0,T=Math.min(w.length,p),L=u;L<T;L++){var _=w.charCodeAt(L)-48;E*=v,_>=49?S=_-49+10:_>=17?S=_-17+10:S=_,n(_>=0&&S<v,"Invalid character"),E+=S}return E}s.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var E=0,S=1;S<=67108863;S*=p)E++;E--,S=S/p|0;for(var T=u.length-v,L=T%E,_=Math.min(T,T-L)+v,d=0,I=v;I<_;I+=E)d=f(u,I,I+E,p),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(L!==0){var Y=1;for(d=f(u,I,u.length,p),I=0;I<L;I++)Y*=p;this.imuln(Y),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function g(w,u){w.words=u.words,w.length=u.length,w.negative=u.negative,w.red=u.red}if(s.prototype._move=function(u){g(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{s.prototype.inspect=y}else s.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var v;if(u===16||u==="hex"){v="";for(var E=0,S=0,T=0;T<this.length;T++){var L=this.words[T],_=((L<<E|S)&16777215).toString(16);S=L>>>24-E&16777215,E+=2,E>=26&&(E-=26,T--),S!==0||T!==this.length-1?v=m[6-_.length]+_+v:v=_+v}for(S!==0&&(v=S.toString(16)+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],I=k[u];v="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var X=Y.modrn(I).toString(u);Y=Y.idivn(I),Y.isZero()?v=X+v:v=m[d-X.length]+X+v}for(this.isZero()&&(v="0"+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(o,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var U=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,v){this._strip();var E=this.byteLength(),S=v||Math.max(1,E);n(E<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var T=U(u,S),L=p==="le"?"LE":"BE";return this["_toArrayLike"+L](T,E),T},s.prototype._toArrayLikeLE=function(u,p){for(var v=0,E=0,S=0,T=0;S<this.length;S++){var L=this.words[S]<<T|E;u[v++]=L&255,v<u.length&&(u[v++]=L>>8&255),v<u.length&&(u[v++]=L>>16&255),T===6?(v<u.length&&(u[v++]=L>>24&255),E=0,T=0):(E=L>>>24,T+=2)}if(v<u.length)for(u[v++]=E;v<u.length;)u[v++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var v=u.length-1,E=0,S=0,T=0;S<this.length;S++){var L=this.words[S]<<T|E;u[v--]=L&255,v>=0&&(u[v--]=L>>8&255),v>=0&&(u[v--]=L>>16&255),T===6?(v>=0&&(u[v--]=L>>24&255),E=0,T=0):(E=L>>>24,T+=2)}if(v>=0)for(u[v--]=E;v>=0;)u[v--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,v=0;return p&8191||(v+=13,p>>>=13),p&127||(v+=7,p>>>=7),p&15||(v+=4,p>>>=4),p&3||(v+=2,p>>>=2),p&1||v++,v},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function F(w){for(var u=new Array(w.bitLength()),p=0;p<u.length;p++){var v=p/26|0,E=p%26;u[p]=w.words[v]>>>E&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,v!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var E=0;E<v.length;E++)this.words[E]=p.words[E]^v.words[E];if(this!==p)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,v=u%26;this._expand(p),v>0&&p--;for(var E=0;E<p;E++)this.words[E]=~this.words[E]&67108863;return v>0&&(this.words[E]=~this.words[E]&67108863>>26-v),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var v=u/26|0,E=u%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<E:this.words[v]=this.words[v]&~(1<<E),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var v,E;this.length>u.length?(v=this,E=u):(v=u,E=this);for(var S=0,T=0;T<E.length;T++)p=(v.words[T]|0)+(E.words[T]|0)+S,this.words[T]=p&67108863,S=p>>>26;for(;S!==0&&T<v.length;T++)p=(v.words[T]|0)+S,this.words[T]=p&67108863,S=p>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,S;v>0?(E=this,S=u):(E=u,S=this);for(var T=0,L=0;L<S.length;L++)p=(E.words[L]|0)-(S.words[L]|0)+T,T=p>>26,this.words[L]=p&67108863;for(;T!==0&&L<E.length;L++)p=(E.words[L]|0)+T,T=p>>26,this.words[L]=p&67108863;if(T===0&&L<E.length&&E!==this)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=Math.max(this.length,L),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function R(w,u,p){p.negative=u.negative^w.negative;var v=w.length+u.length|0;p.length=v,v=v-1|0;var E=w.words[0]|0,S=u.words[0]|0,T=E*S,L=T&67108863,_=T/67108864|0;p.words[0]=L;for(var d=1;d<v;d++){for(var I=_>>>26,Y=_&67108863,X=Math.min(d,u.length-1),N=Math.max(0,d-w.length+1);N<=X;N++){var P=d-N|0;E=w.words[P]|0,S=u.words[N]|0,T=E*S+Y,I+=T/67108864|0,Y=T&67108863}p.words[d]=Y|0,_=I|0}return _!==0?p.words[d]=_|0:p.length--,p._strip()}var O=function(u,p,v){var E=u.words,S=p.words,T=v.words,L=0,_,d,I,Y=E[0]|0,X=Y&8191,N=Y>>>13,P=E[1]|0,V=P&8191,Q=P>>>13,ge=E[2]|0,M=ge&8191,C=ge>>>13,q=E[3]|0,J=q&8191,fe=q>>>13,ye=E[4]|0,ae=ye&8191,Se=ye>>>13,Bt=E[5]|0,Ae=Bt&8191,Ie=Bt>>>13,ot=E[6]|0,Me=ot&8191,Te=ot>>>13,ct=E[7]|0,Ce=ct&8191,b=ct>>>13,l=E[8]|0,h=l&8191,x=l>>>13,B=E[9]|0,D=B&8191,W=B>>>13,de=S[0]|0,he=de&8191,ce=de>>>13,ke=S[1]|0,ue=ke&8191,Le=ke>>>13,An=S[2]|0,Be=An&8191,Pe=An>>>13,Tn=S[3]|0,$e=Tn&8191,De=Tn>>>13,kn=S[4]|0,Fe=kn&8191,je=kn>>>13,Nn=S[5]|0,Ue=Nn&8191,We=Nn>>>13,On=S[6]|0,He=On&8191,Ve=On>>>13,Ln=S[7]|0,ze=Ln&8191,qe=Ln>>>13,Bn=S[8]|0,Ge=Bn&8191,Je=Bn>>>13,Pn=S[9]|0,Ze=Pn&8191,Qe=Pn>>>13;v.negative=u.negative^p.negative,v.length=19,_=Math.imul(X,he),d=Math.imul(X,ce),d=d+Math.imul(N,he)|0,I=Math.imul(N,ce);var Wr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,_=Math.imul(V,he),d=Math.imul(V,ce),d=d+Math.imul(Q,he)|0,I=Math.imul(Q,ce),_=_+Math.imul(X,ue)|0,d=d+Math.imul(X,Le)|0,d=d+Math.imul(N,ue)|0,I=I+Math.imul(N,Le)|0;var Hr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,_=Math.imul(M,he),d=Math.imul(M,ce),d=d+Math.imul(C,he)|0,I=Math.imul(C,ce),_=_+Math.imul(V,ue)|0,d=d+Math.imul(V,Le)|0,d=d+Math.imul(Q,ue)|0,I=I+Math.imul(Q,Le)|0,_=_+Math.imul(X,Be)|0,d=d+Math.imul(X,Pe)|0,d=d+Math.imul(N,Be)|0,I=I+Math.imul(N,Pe)|0;var Vr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,_=Math.imul(J,he),d=Math.imul(J,ce),d=d+Math.imul(fe,he)|0,I=Math.imul(fe,ce),_=_+Math.imul(M,ue)|0,d=d+Math.imul(M,Le)|0,d=d+Math.imul(C,ue)|0,I=I+Math.imul(C,Le)|0,_=_+Math.imul(V,Be)|0,d=d+Math.imul(V,Pe)|0,d=d+Math.imul(Q,Be)|0,I=I+Math.imul(Q,Pe)|0,_=_+Math.imul(X,$e)|0,d=d+Math.imul(X,De)|0,d=d+Math.imul(N,$e)|0,I=I+Math.imul(N,De)|0;var zr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(zr>>>26)|0,zr&=67108863,_=Math.imul(ae,he),d=Math.imul(ae,ce),d=d+Math.imul(Se,he)|0,I=Math.imul(Se,ce),_=_+Math.imul(J,ue)|0,d=d+Math.imul(J,Le)|0,d=d+Math.imul(fe,ue)|0,I=I+Math.imul(fe,Le)|0,_=_+Math.imul(M,Be)|0,d=d+Math.imul(M,Pe)|0,d=d+Math.imul(C,Be)|0,I=I+Math.imul(C,Pe)|0,_=_+Math.imul(V,$e)|0,d=d+Math.imul(V,De)|0,d=d+Math.imul(Q,$e)|0,I=I+Math.imul(Q,De)|0,_=_+Math.imul(X,Fe)|0,d=d+Math.imul(X,je)|0,d=d+Math.imul(N,Fe)|0,I=I+Math.imul(N,je)|0;var qr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(qr>>>26)|0,qr&=67108863,_=Math.imul(Ae,he),d=Math.imul(Ae,ce),d=d+Math.imul(Ie,he)|0,I=Math.imul(Ie,ce),_=_+Math.imul(ae,ue)|0,d=d+Math.imul(ae,Le)|0,d=d+Math.imul(Se,ue)|0,I=I+Math.imul(Se,Le)|0,_=_+Math.imul(J,Be)|0,d=d+Math.imul(J,Pe)|0,d=d+Math.imul(fe,Be)|0,I=I+Math.imul(fe,Pe)|0,_=_+Math.imul(M,$e)|0,d=d+Math.imul(M,De)|0,d=d+Math.imul(C,$e)|0,I=I+Math.imul(C,De)|0,_=_+Math.imul(V,Fe)|0,d=d+Math.imul(V,je)|0,d=d+Math.imul(Q,Fe)|0,I=I+Math.imul(Q,je)|0,_=_+Math.imul(X,Ue)|0,d=d+Math.imul(X,We)|0,d=d+Math.imul(N,Ue)|0,I=I+Math.imul(N,We)|0;var Gr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,_=Math.imul(Me,he),d=Math.imul(Me,ce),d=d+Math.imul(Te,he)|0,I=Math.imul(Te,ce),_=_+Math.imul(Ae,ue)|0,d=d+Math.imul(Ae,Le)|0,d=d+Math.imul(Ie,ue)|0,I=I+Math.imul(Ie,Le)|0,_=_+Math.imul(ae,Be)|0,d=d+Math.imul(ae,Pe)|0,d=d+Math.imul(Se,Be)|0,I=I+Math.imul(Se,Pe)|0,_=_+Math.imul(J,$e)|0,d=d+Math.imul(J,De)|0,d=d+Math.imul(fe,$e)|0,I=I+Math.imul(fe,De)|0,_=_+Math.imul(M,Fe)|0,d=d+Math.imul(M,je)|0,d=d+Math.imul(C,Fe)|0,I=I+Math.imul(C,je)|0,_=_+Math.imul(V,Ue)|0,d=d+Math.imul(V,We)|0,d=d+Math.imul(Q,Ue)|0,I=I+Math.imul(Q,We)|0,_=_+Math.imul(X,He)|0,d=d+Math.imul(X,Ve)|0,d=d+Math.imul(N,He)|0,I=I+Math.imul(N,Ve)|0;var Jr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,_=Math.imul(Ce,he),d=Math.imul(Ce,ce),d=d+Math.imul(b,he)|0,I=Math.imul(b,ce),_=_+Math.imul(Me,ue)|0,d=d+Math.imul(Me,Le)|0,d=d+Math.imul(Te,ue)|0,I=I+Math.imul(Te,Le)|0,_=_+Math.imul(Ae,Be)|0,d=d+Math.imul(Ae,Pe)|0,d=d+Math.imul(Ie,Be)|0,I=I+Math.imul(Ie,Pe)|0,_=_+Math.imul(ae,$e)|0,d=d+Math.imul(ae,De)|0,d=d+Math.imul(Se,$e)|0,I=I+Math.imul(Se,De)|0,_=_+Math.imul(J,Fe)|0,d=d+Math.imul(J,je)|0,d=d+Math.imul(fe,Fe)|0,I=I+Math.imul(fe,je)|0,_=_+Math.imul(M,Ue)|0,d=d+Math.imul(M,We)|0,d=d+Math.imul(C,Ue)|0,I=I+Math.imul(C,We)|0,_=_+Math.imul(V,He)|0,d=d+Math.imul(V,Ve)|0,d=d+Math.imul(Q,He)|0,I=I+Math.imul(Q,Ve)|0,_=_+Math.imul(X,ze)|0,d=d+Math.imul(X,qe)|0,d=d+Math.imul(N,ze)|0,I=I+Math.imul(N,qe)|0;var Zr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,_=Math.imul(h,he),d=Math.imul(h,ce),d=d+Math.imul(x,he)|0,I=Math.imul(x,ce),_=_+Math.imul(Ce,ue)|0,d=d+Math.imul(Ce,Le)|0,d=d+Math.imul(b,ue)|0,I=I+Math.imul(b,Le)|0,_=_+Math.imul(Me,Be)|0,d=d+Math.imul(Me,Pe)|0,d=d+Math.imul(Te,Be)|0,I=I+Math.imul(Te,Pe)|0,_=_+Math.imul(Ae,$e)|0,d=d+Math.imul(Ae,De)|0,d=d+Math.imul(Ie,$e)|0,I=I+Math.imul(Ie,De)|0,_=_+Math.imul(ae,Fe)|0,d=d+Math.imul(ae,je)|0,d=d+Math.imul(Se,Fe)|0,I=I+Math.imul(Se,je)|0,_=_+Math.imul(J,Ue)|0,d=d+Math.imul(J,We)|0,d=d+Math.imul(fe,Ue)|0,I=I+Math.imul(fe,We)|0,_=_+Math.imul(M,He)|0,d=d+Math.imul(M,Ve)|0,d=d+Math.imul(C,He)|0,I=I+Math.imul(C,Ve)|0,_=_+Math.imul(V,ze)|0,d=d+Math.imul(V,qe)|0,d=d+Math.imul(Q,ze)|0,I=I+Math.imul(Q,qe)|0,_=_+Math.imul(X,Ge)|0,d=d+Math.imul(X,Je)|0,d=d+Math.imul(N,Ge)|0,I=I+Math.imul(N,Je)|0;var Qr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,_=Math.imul(D,he),d=Math.imul(D,ce),d=d+Math.imul(W,he)|0,I=Math.imul(W,ce),_=_+Math.imul(h,ue)|0,d=d+Math.imul(h,Le)|0,d=d+Math.imul(x,ue)|0,I=I+Math.imul(x,Le)|0,_=_+Math.imul(Ce,Be)|0,d=d+Math.imul(Ce,Pe)|0,d=d+Math.imul(b,Be)|0,I=I+Math.imul(b,Pe)|0,_=_+Math.imul(Me,$e)|0,d=d+Math.imul(Me,De)|0,d=d+Math.imul(Te,$e)|0,I=I+Math.imul(Te,De)|0,_=_+Math.imul(Ae,Fe)|0,d=d+Math.imul(Ae,je)|0,d=d+Math.imul(Ie,Fe)|0,I=I+Math.imul(Ie,je)|0,_=_+Math.imul(ae,Ue)|0,d=d+Math.imul(ae,We)|0,d=d+Math.imul(Se,Ue)|0,I=I+Math.imul(Se,We)|0,_=_+Math.imul(J,He)|0,d=d+Math.imul(J,Ve)|0,d=d+Math.imul(fe,He)|0,I=I+Math.imul(fe,Ve)|0,_=_+Math.imul(M,ze)|0,d=d+Math.imul(M,qe)|0,d=d+Math.imul(C,ze)|0,I=I+Math.imul(C,qe)|0,_=_+Math.imul(V,Ge)|0,d=d+Math.imul(V,Je)|0,d=d+Math.imul(Q,Ge)|0,I=I+Math.imul(Q,Je)|0,_=_+Math.imul(X,Ze)|0,d=d+Math.imul(X,Qe)|0,d=d+Math.imul(N,Ze)|0,I=I+Math.imul(N,Qe)|0;var Yr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,_=Math.imul(D,ue),d=Math.imul(D,Le),d=d+Math.imul(W,ue)|0,I=Math.imul(W,Le),_=_+Math.imul(h,Be)|0,d=d+Math.imul(h,Pe)|0,d=d+Math.imul(x,Be)|0,I=I+Math.imul(x,Pe)|0,_=_+Math.imul(Ce,$e)|0,d=d+Math.imul(Ce,De)|0,d=d+Math.imul(b,$e)|0,I=I+Math.imul(b,De)|0,_=_+Math.imul(Me,Fe)|0,d=d+Math.imul(Me,je)|0,d=d+Math.imul(Te,Fe)|0,I=I+Math.imul(Te,je)|0,_=_+Math.imul(Ae,Ue)|0,d=d+Math.imul(Ae,We)|0,d=d+Math.imul(Ie,Ue)|0,I=I+Math.imul(Ie,We)|0,_=_+Math.imul(ae,He)|0,d=d+Math.imul(ae,Ve)|0,d=d+Math.imul(Se,He)|0,I=I+Math.imul(Se,Ve)|0,_=_+Math.imul(J,ze)|0,d=d+Math.imul(J,qe)|0,d=d+Math.imul(fe,ze)|0,I=I+Math.imul(fe,qe)|0,_=_+Math.imul(M,Ge)|0,d=d+Math.imul(M,Je)|0,d=d+Math.imul(C,Ge)|0,I=I+Math.imul(C,Je)|0,_=_+Math.imul(V,Ze)|0,d=d+Math.imul(V,Qe)|0,d=d+Math.imul(Q,Ze)|0,I=I+Math.imul(Q,Qe)|0;var Kr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,_=Math.imul(D,Be),d=Math.imul(D,Pe),d=d+Math.imul(W,Be)|0,I=Math.imul(W,Pe),_=_+Math.imul(h,$e)|0,d=d+Math.imul(h,De)|0,d=d+Math.imul(x,$e)|0,I=I+Math.imul(x,De)|0,_=_+Math.imul(Ce,Fe)|0,d=d+Math.imul(Ce,je)|0,d=d+Math.imul(b,Fe)|0,I=I+Math.imul(b,je)|0,_=_+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,We)|0,d=d+Math.imul(Te,Ue)|0,I=I+Math.imul(Te,We)|0,_=_+Math.imul(Ae,He)|0,d=d+Math.imul(Ae,Ve)|0,d=d+Math.imul(Ie,He)|0,I=I+Math.imul(Ie,Ve)|0,_=_+Math.imul(ae,ze)|0,d=d+Math.imul(ae,qe)|0,d=d+Math.imul(Se,ze)|0,I=I+Math.imul(Se,qe)|0,_=_+Math.imul(J,Ge)|0,d=d+Math.imul(J,Je)|0,d=d+Math.imul(fe,Ge)|0,I=I+Math.imul(fe,Je)|0,_=_+Math.imul(M,Ze)|0,d=d+Math.imul(M,Qe)|0,d=d+Math.imul(C,Ze)|0,I=I+Math.imul(C,Qe)|0;var Xr=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,_=Math.imul(D,$e),d=Math.imul(D,De),d=d+Math.imul(W,$e)|0,I=Math.imul(W,De),_=_+Math.imul(h,Fe)|0,d=d+Math.imul(h,je)|0,d=d+Math.imul(x,Fe)|0,I=I+Math.imul(x,je)|0,_=_+Math.imul(Ce,Ue)|0,d=d+Math.imul(Ce,We)|0,d=d+Math.imul(b,Ue)|0,I=I+Math.imul(b,We)|0,_=_+Math.imul(Me,He)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Te,He)|0,I=I+Math.imul(Te,Ve)|0,_=_+Math.imul(Ae,ze)|0,d=d+Math.imul(Ae,qe)|0,d=d+Math.imul(Ie,ze)|0,I=I+Math.imul(Ie,qe)|0,_=_+Math.imul(ae,Ge)|0,d=d+Math.imul(ae,Je)|0,d=d+Math.imul(Se,Ge)|0,I=I+Math.imul(Se,Je)|0,_=_+Math.imul(J,Ze)|0,d=d+Math.imul(J,Qe)|0,d=d+Math.imul(fe,Ze)|0,I=I+Math.imul(fe,Qe)|0;var en=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(en>>>26)|0,en&=67108863,_=Math.imul(D,Fe),d=Math.imul(D,je),d=d+Math.imul(W,Fe)|0,I=Math.imul(W,je),_=_+Math.imul(h,Ue)|0,d=d+Math.imul(h,We)|0,d=d+Math.imul(x,Ue)|0,I=I+Math.imul(x,We)|0,_=_+Math.imul(Ce,He)|0,d=d+Math.imul(Ce,Ve)|0,d=d+Math.imul(b,He)|0,I=I+Math.imul(b,Ve)|0,_=_+Math.imul(Me,ze)|0,d=d+Math.imul(Me,qe)|0,d=d+Math.imul(Te,ze)|0,I=I+Math.imul(Te,qe)|0,_=_+Math.imul(Ae,Ge)|0,d=d+Math.imul(Ae,Je)|0,d=d+Math.imul(Ie,Ge)|0,I=I+Math.imul(Ie,Je)|0,_=_+Math.imul(ae,Ze)|0,d=d+Math.imul(ae,Qe)|0,d=d+Math.imul(Se,Ze)|0,I=I+Math.imul(Se,Qe)|0;var tn=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(D,Ue),d=Math.imul(D,We),d=d+Math.imul(W,Ue)|0,I=Math.imul(W,We),_=_+Math.imul(h,He)|0,d=d+Math.imul(h,Ve)|0,d=d+Math.imul(x,He)|0,I=I+Math.imul(x,Ve)|0,_=_+Math.imul(Ce,ze)|0,d=d+Math.imul(Ce,qe)|0,d=d+Math.imul(b,ze)|0,I=I+Math.imul(b,qe)|0,_=_+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,Je)|0,d=d+Math.imul(Te,Ge)|0,I=I+Math.imul(Te,Je)|0,_=_+Math.imul(Ae,Ze)|0,d=d+Math.imul(Ae,Qe)|0,d=d+Math.imul(Ie,Ze)|0,I=I+Math.imul(Ie,Qe)|0;var aa=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(aa>>>26)|0,aa&=67108863,_=Math.imul(D,He),d=Math.imul(D,Ve),d=d+Math.imul(W,He)|0,I=Math.imul(W,Ve),_=_+Math.imul(h,ze)|0,d=d+Math.imul(h,qe)|0,d=d+Math.imul(x,ze)|0,I=I+Math.imul(x,qe)|0,_=_+Math.imul(Ce,Ge)|0,d=d+Math.imul(Ce,Je)|0,d=d+Math.imul(b,Ge)|0,I=I+Math.imul(b,Je)|0,_=_+Math.imul(Me,Ze)|0,d=d+Math.imul(Me,Qe)|0,d=d+Math.imul(Te,Ze)|0,I=I+Math.imul(Te,Qe)|0;var ua=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(ua>>>26)|0,ua&=67108863,_=Math.imul(D,ze),d=Math.imul(D,qe),d=d+Math.imul(W,ze)|0,I=Math.imul(W,qe),_=_+Math.imul(h,Ge)|0,d=d+Math.imul(h,Je)|0,d=d+Math.imul(x,Ge)|0,I=I+Math.imul(x,Je)|0,_=_+Math.imul(Ce,Ze)|0,d=d+Math.imul(Ce,Qe)|0,d=d+Math.imul(b,Ze)|0,I=I+Math.imul(b,Qe)|0;var ca=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(ca>>>26)|0,ca&=67108863,_=Math.imul(D,Ge),d=Math.imul(D,Je),d=d+Math.imul(W,Ge)|0,I=Math.imul(W,Je),_=_+Math.imul(h,Ze)|0,d=d+Math.imul(h,Qe)|0,d=d+Math.imul(x,Ze)|0,I=I+Math.imul(x,Qe)|0;var la=(L+_|0)+((d&8191)<<13)|0;L=(I+(d>>>13)|0)+(la>>>26)|0,la&=67108863,_=Math.imul(D,Ze),d=Math.imul(D,Qe),d=d+Math.imul(W,Ze)|0,I=Math.imul(W,Qe);var fa=(L+_|0)+((d&8191)<<13)|0;return L=(I+(d>>>13)|0)+(fa>>>26)|0,fa&=67108863,T[0]=Wr,T[1]=Hr,T[2]=Vr,T[3]=zr,T[4]=qr,T[5]=Gr,T[6]=Jr,T[7]=Zr,T[8]=Qr,T[9]=Yr,T[10]=Kr,T[11]=Xr,T[12]=en,T[13]=tn,T[14]=aa,T[15]=ua,T[16]=ca,T[17]=la,T[18]=fa,L!==0&&(T[19]=L,v.length++),v};Math.imul||(O=R);function $(w,u,p){p.negative=u.negative^w.negative,p.length=w.length+u.length;for(var v=0,E=0,S=0;S<p.length-1;S++){var T=E;E=0;for(var L=v&67108863,_=Math.min(S,u.length-1),d=Math.max(0,S-w.length+1);d<=_;d++){var I=S-d,Y=w.words[I]|0,X=u.words[d]|0,N=Y*X,P=N&67108863;T=T+(N/67108864|0)|0,P=P+L|0,L=P&67108863,T=T+(P>>>26)|0,E+=T>>>26,T&=67108863}p.words[S]=L,v=T,T=E}return v!==0?p.words[S]=v:p.length--,p._strip()}function H(w,u,p){return $(w,u,p)}s.prototype.mulTo=function(u,p){var v,E=this.length+u.length;return this.length===10&&u.length===10?v=O(this,u,p):E<63?v=R(this,u,p):E<1024?v=$(this,u,p):v=H(this,u,p),v},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),H(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,E=0;E<this.length;E++){var S=(this.words[E]|0)*u,T=(S&67108863)+(v&67108863);v>>=26,v+=S/67108864|0,v+=T>>>26,this.words[E]=T&67108863}return v!==0&&(this.words[E]=v,this.length++),p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=F(u);if(p.length===0)return new s(1);for(var v=this,E=0;E<p.length&&p[E]===0;E++,v=v.sqr());if(++E<p.length)for(var S=v.sqr();E<p.length;E++,S=S.sqr())p[E]!==0&&(v=v.mul(S));return v},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,E=67108863>>>26-p<<26-p,S;if(p!==0){var T=0;for(S=0;S<this.length;S++){var L=this.words[S]&E,_=(this.words[S]|0)-L<<p;this.words[S]=_|T,T=L>>>26-p}T&&(this.words[S]=T,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,v){n(typeof u=="number"&&u>=0);var E;p?E=(p-p%26)/26:E=0;var S=u%26,T=Math.min((u-S)/26,this.length),L=67108863^67108863>>>S<<S,_=v;if(E-=T,E=Math.max(0,E),_){for(var d=0;d<T;d++)_.words[d]=this.words[d];_.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var I=0;for(d=this.length-1;d>=0&&(I!==0||d>=E);d--){var Y=this.words[d]|0;this.words[d]=I<<26-S|Y>>>S,I=Y&L}return _&&I!==0&&(_.words[_.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,v){return n(this.negative===0),this.iushrn(u,p,v)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,E=1<<p;if(this.length<=v)return!1;var S=this.words[v];return!!(S&E)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var E=67108863^67108863>>>p<<p;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,v){var E=u.length+v,S;this._expand(E);var T,L=0;for(S=0;S<u.length;S++){T=(this.words[S+v]|0)+L;var _=(u.words[S]|0)*p;T-=_&67108863,L=(T>>26)-(_/67108864|0),this.words[S+v]=T&67108863}for(;S<this.length-v;S++)T=(this.words[S+v]|0)+L,L=T>>26,this.words[S+v]=T&67108863;if(L===0)return this._strip();for(n(L===-1),L=0,S=0;S<this.length;S++)T=-(this.words[S]|0)+L,L=T>>26,this.words[S]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var v=this.length-u.length,E=this.clone(),S=u,T=S.words[S.length-1]|0,L=this._countBits(T);v=26-L,v!==0&&(S=S.ushln(v),E.iushln(v),T=S.words[S.length-1]|0);var _=E.length-S.length,d;if(p!=="mod"){d=new s(null),d.length=_+1,d.words=new Array(d.length);for(var I=0;I<d.length;I++)d.words[I]=0}var Y=E.clone()._ishlnsubmul(S,1,_);Y.negative===0&&(E=Y,d&&(d.words[_]=1));for(var X=_-1;X>=0;X--){var N=(E.words[S.length+X]|0)*67108864+(E.words[S.length+X-1]|0);for(N=Math.min(N/T|0,67108863),E._ishlnsubmul(S,N,X);E.negative!==0;)N--,E.negative=0,E._ishlnsubmul(S,1,X),E.isZero()||(E.negative^=1);d&&(d.words[X]=N)}return d&&d._strip(),E._strip(),p!=="div"&&v!==0&&E.iushrn(v),{div:d||null,mod:E}},s.prototype.divmod=function(u,p,v){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,S,T;return this.negative!==0&&u.negative===0?(T=this.neg().divmod(u,p),p!=="mod"&&(E=T.div.neg()),p!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.iadd(u)),{div:E,mod:S}):this.negative===0&&u.negative!==0?(T=this.divmod(u.neg(),p),p!=="mod"&&(E=T.div.neg()),{div:E,mod:T.mod}):this.negative&u.negative?(T=this.neg().divmod(u.neg(),p),p!=="div"&&(S=T.mod.neg(),v&&S.negative!==0&&S.isub(u)),{div:T.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(u):p.mod,E=u.ushrn(1),S=u.andln(1),T=v.cmp(E);return T<0||S===1&&T===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,E=0,S=this.length-1;S>=0;S--)E=(v*E+(this.words[S]|0))%u;return p?-E:E},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var v=0,E=this.length-1;E>=0;E--){var S=(this.words[E]|0)+v*67108864;this.words[E]=S/u|0,v=S%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new s(1),S=new s(0),T=new s(0),L=new s(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var d=v.clone(),I=p.clone();!p.isZero();){for(var Y=0,X=1;!(p.words[0]&X)&&Y<26;++Y,X<<=1);if(Y>0)for(p.iushrn(Y);Y-- >0;)(E.isOdd()||S.isOdd())&&(E.iadd(d),S.isub(I)),E.iushrn(1),S.iushrn(1);for(var N=0,P=1;!(v.words[0]&P)&&N<26;++N,P<<=1);if(N>0)for(v.iushrn(N);N-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(d),L.isub(I)),T.iushrn(1),L.iushrn(1);p.cmp(v)>=0?(p.isub(v),E.isub(T),S.isub(L)):(v.isub(p),T.isub(E),L.isub(S))}return{a:T,b:L,gcd:v.iushln(_)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new s(1),S=new s(0),T=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var L=0,_=1;!(p.words[0]&_)&&L<26;++L,_<<=1);if(L>0)for(p.iushrn(L);L-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);for(var d=0,I=1;!(v.words[0]&I)&&d<26;++d,I<<=1);if(d>0)for(v.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(T),S.iushrn(1);p.cmp(v)>=0?(p.isub(v),E.isub(S)):(v.isub(p),S.isub(E))}var Y;return p.cmpn(1)===0?Y=E:Y=S,Y.cmpn(0)<0&&Y.iadd(u),Y},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var E=0;p.isEven()&&v.isEven();E++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=p.cmp(v);if(S<0){var T=p;p=v,v=T}else if(S===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(E)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,v=(u-p)/26,E=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=E,this;for(var S=E,T=v;S!==0&&T<this.length;T++){var L=this.words[T]|0;L+=S,S=L>>>26,L&=67108863,this.words[T]=L}return S!==0&&(this.words[T]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var v;if(this.length>1)v=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var E=this.words[0]|0;v=E===u?0:E<u?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var E=this.words[v]|0,S=u.words[v]|0;if(E!==S){E<S?p=-1:E>S&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new ne(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var j={k256:null,p224:null,p192:null,p25519:null};function z(w,u){this.name=w,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var p=u,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var E=v<this.n?-1:p.ucmp(this.p);return E===0?(p.words[0]=0,p.length=1):E>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},z.prototype.imulK=function(u){return u.imul(this.k)};function ee(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ee,z),ee.prototype.split=function(u,p){for(var v=4194303,E=Math.min(u.length,9),S=0;S<E;S++)p.words[S]=u.words[S];if(p.length=E,u.length<=9){u.words[0]=0,u.length=1;return}var T=u.words[9];for(p.words[p.length++]=T&v,S=10;S<u.length;S++){var L=u.words[S]|0;u.words[S-10]=(L&v)<<4|T>>>22,T=L}T>>>=22,u.words[S-10]=T,T===0&&u.length>10?u.length-=10:u.length-=9},ee.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var E=u.words[v]|0;p+=E*977,u.words[v]=p&67108863,p=E*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function K(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,z);function Z(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,z);function se(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(se,z),se.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var E=(u.words[v]|0)*19+p,S=E&67108863;E>>>=26,u.words[v]=S,p=E}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(j[u])return j[u];var p;if(u==="k256")p=new ee;else if(u==="p224")p=new K;else if(u==="p192")p=new Z;else if(u==="p25519")p=new se;else throw new Error("Unknown prime "+u);return j[u]=p,p};function ne(w){if(typeof w=="string"){var u=s._prime(w);this.m=u.p,this.prime=u}else n(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}ne.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},ne.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},ne.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(g(u,u.umod(this.m)._forceRed(this)),u)},ne.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ne.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},ne.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},ne.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},ne.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},ne.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},ne.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},ne.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},ne.prototype.isqr=function(u){return this.imul(u,u.clone())},ne.prototype.sqr=function(u){return this.mul(u,u)},ne.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var E=this.m.subn(1),S=0;!E.isZero()&&E.andln(1)===0;)S++,E.iushrn(1);n(!E.isZero());var T=new s(1).toRed(this),L=T.redNeg(),_=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,_).cmp(L)!==0;)d.redIAdd(L);for(var I=this.pow(d,E),Y=this.pow(u,E.addn(1).iushrn(1)),X=this.pow(u,E),N=S;X.cmp(T)!==0;){for(var P=X,V=0;P.cmp(T)!==0;V++)P=P.redSqr();n(V<N);var Q=this.pow(I,new s(1).iushln(N-V-1));Y=Y.redMul(Q),I=Q.redSqr(),X=X.redMul(I),N=V}return Y},ne.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ne.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var v=4,E=new Array(1<<v);E[0]=new s(1).toRed(this),E[1]=u;for(var S=2;S<E.length;S++)E[S]=this.mul(E[S-1],u);var T=E[0],L=0,_=0,d=p.bitLength()%26;for(d===0&&(d=26),S=p.length-1;S>=0;S--){for(var I=p.words[S],Y=d-1;Y>=0;Y--){var X=I>>Y&1;if(T!==E[0]&&(T=this.sqr(T)),X===0&&L===0){_=0;continue}L<<=1,L|=X,_++,!(_!==v&&(S!==0||Y!==0))&&(T=this.mul(T,E[L]),_=0,L=0)}d=26}return T},ne.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},ne.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new oe(u)};function oe(w){ne.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,ne),oe.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},oe.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},oe.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(E).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},oe.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var v=u.mul(p),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(E).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},oe.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,te)})(Au);var io=Au.exports,gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.EVENTS=void 0;gi.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Qi={},rh={},Or={},nh=Vi;Vi.default=Vi;Vi.stable=oh;Vi.stableStringify=oh;var Us="[...]",ih="[Circular]",gn=[],ln=[];function sh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Vi(t,e,r,n){typeof n>"u"&&(n=sh()),tu(t,"",0,[],void 0,0,n);var i;try{ln.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,ah(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var s=gn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Zn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),gn.push([n,r,e,i])):ln.push([e,r,t]):(n[r]=t,gn.push([n,r,e]))}function tu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Zn(ih,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Zn(Us,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Zn(Us,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)tu(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var f=c[a];tu(t[f],f,a,n,t,s,o)}}n.pop()}}function vp(t,e){return t<e?-1:t>e?1:0}function oh(t,e,r,n){typeof n>"u"&&(n=sh());var i=ru(t,"",0,[],void 0,0,n)||t,s;try{ln.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,ah(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var o=gn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ru(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Zn(ih,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Zn(Us,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Zn(Us,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ru(t[a],a,a,n,t,s,o);else{var c={},f=Object.keys(t).sort(vp);for(a=0;a<f.length;a++){var g=f[a];ru(t[g],g,a,n,t,s,o),c[g]=t[g]}if(typeof i<"u")gn.push([i,e,t]),i[e]=c;else return c}n.pop()}}function ah(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(ln.length>0)for(var n=0;n<ln.length;n++){var i=ln[n];if(i[1]===e&&i[0]===r){r=i[2],ln.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Or,"__esModule",{value:!0});Or.EthereumProviderError=Or.EthereumRpcError=void 0;const mp=nh;let uh=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return mp.default(this.serialize(),Ep,2)}};Or.EthereumRpcError=uh;let wp=class extends uh{constructor(e,r,n){if(!_p(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Or.EthereumProviderError=wp;function _p(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Ep(t,e){if(e!=="[Circular]")return e}var Tu={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.errorValues=Lr.errorCodes=void 0;Lr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Lr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Lr,r=Or,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(m,A=i){if(Number.isInteger(m)){const k=m.toString();if(y(e.errorValues,k))return e.errorValues[k].message;if(f(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return A}t.getMessageFromCode=o;function a(m){if(!Number.isInteger(m))return!1;const A=m.toString();return!!(e.errorValues[A]||f(m))}t.isValidCode=a;function c(m,{fallbackError:A=s,shouldIncludeStack:k=!1}={}){var U,F;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const R={};if(m&&typeof m=="object"&&!Array.isArray(m)&&y(m,"code")&&a(m.code)){const $=m;R.code=$.code,$.message&&typeof $.message=="string"?(R.message=$.message,y($,"data")&&(R.data=$.data)):(R.message=o(R.code),R.data={originalError:g(m)})}else{R.code=A.code;const $=(U=m)===null||U===void 0?void 0:U.message;R.message=$&&typeof $=="string"?$:A.message,R.data={originalError:g(m)}}const O=(F=m)===null||F===void 0?void 0:F.stack;return k&&m&&O&&typeof O=="string"&&(R.stack=O),R}t.serializeError=c;function f(m){return m>=-32099&&m<=-32e3}function g(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function y(m,A){return Object.prototype.hasOwnProperty.call(m,A)}})(Tu);var so={};Object.defineProperty(so,"__esModule",{value:!0});so.ethErrors=void 0;const ku=Or,ch=Tu,mt=Lr;so.ethErrors={rpc:{parse:t=>Pt(mt.errorCodes.rpc.parse,t),invalidRequest:t=>Pt(mt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Pt(mt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Pt(mt.errorCodes.rpc.methodNotFound,t),internal:t=>Pt(mt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Pt(e,t)},invalidInput:t=>Pt(mt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Pt(mt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Pt(mt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Pt(mt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Pt(mt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Pt(mt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ri(mt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ri(mt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ri(mt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ri(mt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ri(mt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ku.EthereumProviderError(e,r,n)}}};function Pt(t,e){const[r,n]=lh(e);return new ku.EthereumRpcError(t,r||ch.getMessageFromCode(t),n)}function Ri(t,e){const[r,n]=lh(e);return new ku.EthereumProviderError(t,r||ch.getMessageFromCode(t),n)}function lh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Or;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Tu;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=so;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Lr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(rh);var Oe={},oo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(oo);Object.defineProperty(Oe,"__esModule",{value:!0});Oe.EthereumAddressFromSignedMessageResponse=Oe.SubmitEthereumTransactionResponse=Oe.SignEthereumTransactionResponse=Oe.SignEthereumMessageResponse=Oe.isRequestEthereumAccountsResponse=Oe.SelectProviderResponse=Oe.WatchAssetReponse=Oe.RequestEthereumAccountsResponse=Oe.SwitchEthereumChainResponse=Oe.AddEthereumChainResponse=Oe.isErrorResponse=void 0;const yr=oo;function Sp(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Oe.isErrorResponse=Sp;function xp(t){return{method:yr.Web3Method.addEthereumChain,result:t}}Oe.AddEthereumChainResponse=xp;function Mp(t){return{method:yr.Web3Method.switchEthereumChain,result:t}}Oe.SwitchEthereumChainResponse=Mp;function Cp(t){return{method:yr.Web3Method.requestEthereumAccounts,result:t}}Oe.RequestEthereumAccountsResponse=Cp;function Ip(t){return{method:yr.Web3Method.watchAsset,result:t}}Oe.WatchAssetReponse=Ip;function Rp(t){return{method:yr.Web3Method.selectProvider,result:t}}Oe.SelectProviderResponse=Rp;function Ap(t){return t&&t.method===yr.Web3Method.requestEthereumAccounts}Oe.isRequestEthereumAccountsResponse=Ap;function Tp(t){return{method:yr.Web3Method.signEthereumMessage,result:t}}Oe.SignEthereumMessageResponse=Tp;function kp(t){return{method:yr.Web3Method.signEthereumTransaction,result:t}}Oe.SignEthereumTransactionResponse=kp;function Np(t){return{method:yr.Web3Method.submitEthereumTransaction,result:t}}Oe.SubmitEthereumTransactionResponse=Np;function Op(t){return{method:yr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Oe.EthereumAddressFromSignedMessageResponse=Op;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.LIB_VERSION=void 0;yi.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=rh,r=Oe,n=yi;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(g){return g!==void 0?(0,e.getMessageFromCode)(g):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(g="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${g}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(g,y){const m=(0,e.serializeError)(o(g),{shouldIncludeStack:!0}),A=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");A.searchParams.set("version",n.LIB_VERSION),A.searchParams.set("code",m.code.toString());const k=a(m.data,y);return k&&A.searchParams.set("method",k),A.searchParams.set("message",m.message),Object.assign(Object.assign({},m),{docUrl:A.href})}t.serializeError=s;function o(g){return typeof g=="string"?{message:g,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(g)?Object.assign(Object.assign({},g),{message:g.errorMessage,code:g.errorCode,data:{method:g.method,result:g.result}}):g}function a(g,y){var m;const A=(m=g)===null||m===void 0?void 0:m.method;if(A)return A;if(y!==void 0)return typeof y=="string"?y:Array.isArray(y)?y.length>0?y[0].method:void 0:y.method}function c(g){var y;if(typeof g=="number")return g;if(f(g))return(y=g.code)!==null&&y!==void 0?y:g.errorCode}t.getErrorCode=c;function f(g){return typeof g=="object"&&g!==null&&(typeof g.code=="number"||typeof g.errorCode=="number")}})(Qi);var bi={},fh={exports:{}},nu={exports:{}};typeof Object.create=="function"?nu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:nu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var er=nu.exports,iu={exports:{}},Yi={},ao={};ao.byteLength=Pp;ao.toByteArray=Dp;ao.fromByteArray=Up;var lr=[],jt=[],Lp=typeof Uint8Array<"u"?Uint8Array:Array,ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $n=0,Bp=ha.length;$n<Bp;++$n)lr[$n]=ha[$n],jt[ha.charCodeAt($n)]=$n;jt["-".charCodeAt(0)]=62;jt["_".charCodeAt(0)]=63;function hh(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Pp(t){var e=hh(t),r=e[0],n=e[1];return(r+n)*3/4-n}function $p(t,e,r){return(e+r)*3/4-r}function Dp(t){var e,r=hh(t),n=r[0],i=r[1],s=new Lp($p(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=jt[t.charCodeAt(c)]<<18|jt[t.charCodeAt(c+1)]<<12|jt[t.charCodeAt(c+2)]<<6|jt[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=jt[t.charCodeAt(c)]<<2|jt[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=jt[t.charCodeAt(c)]<<10|jt[t.charCodeAt(c+1)]<<4|jt[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Fp(t){return lr[t>>18&63]+lr[t>>12&63]+lr[t>>6&63]+lr[t&63]}function jp(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Fp(n));return i.join("")}function Up(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(jp(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(lr[e>>2]+lr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(lr[e>>10]+lr[e>>4&63]+lr[e<<2&63]+"=")),i.join("")}var Nu={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Nu.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,f=c>>1,g=-7,y=r?i-1:0,m=r?-1:1,A=t[e+y];for(y+=m,s=A&(1<<-g)-1,A>>=-g,g+=a;g>0;s=s*256+t[e+y],y+=m,g-=8);for(o=s&(1<<-g)-1,s>>=-g,g+=n;g>0;o=o*256+t[e+y],y+=m,g-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(A?-1:1)*o*Math.pow(2,s-n)};Nu.write=function(t,e,r,n,i,s){var o,a,c,f=s*8-i-1,g=(1<<f)-1,y=g>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,k=n?1:-1,U=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=g):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+y>=1?e+=m/c:e+=m*Math.pow(2,1-y),e*c>=2&&(o++,c/=2),o+y>=g?(a=0,o=g):o+y>=1?(a=(e*c-1)*Math.pow(2,i),o=o+y):(a=e*Math.pow(2,y-1)*Math.pow(2,i),o=0));i>=8;t[r+A]=a&255,A+=k,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;t[r+A]=o&255,A+=k,o/=256,f-=8);t[r+A-k]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=ao,r=Nu,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const b=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(b,l),b.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(b){if(b>i)throw new RangeError('The value "'+b+'" is invalid for option "size"');const l=new Uint8Array(b);return Object.setPrototypeOf(l,a.prototype),l}function a(b,l,h){if(typeof b=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(b)}return c(b,l,h)}a.poolSize=8192;function c(b,l,h){if(typeof b=="string")return m(b,l);if(ArrayBuffer.isView(b))return k(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ot(b,ArrayBuffer)||b&&ot(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(b,SharedArrayBuffer)||b&&ot(b.buffer,SharedArrayBuffer)))return U(b,l,h);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=b.valueOf&&b.valueOf();if(x!=null&&x!==b)return a.from(x,l,h);const B=F(b);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return a.from(b[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}a.from=function(b,l,h){return c(b,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function g(b,l,h){return f(b),b<=0?o(b):l!==void 0?typeof h=="string"?o(b).fill(l,h):o(b).fill(l):o(b)}a.alloc=function(b,l,h){return g(b,l,h)};function y(b){return f(b),o(b<0?0:R(b)|0)}a.allocUnsafe=function(b){return y(b)},a.allocUnsafeSlow=function(b){return y(b)};function m(b,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=$(b,l)|0;let x=o(h);const B=x.write(b,l);return B!==h&&(x=x.slice(0,B)),x}function A(b){const l=b.length<0?0:R(b.length)|0,h=o(l);for(let x=0;x<l;x+=1)h[x]=b[x]&255;return h}function k(b){if(ot(b,Uint8Array)){const l=new Uint8Array(b);return U(l.buffer,l.byteOffset,l.byteLength)}return A(b)}function U(b,l,h){if(l<0||b.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let x;return l===void 0&&h===void 0?x=new Uint8Array(b):h===void 0?x=new Uint8Array(b,l):x=new Uint8Array(b,l,h),Object.setPrototypeOf(x,a.prototype),x}function F(b){if(a.isBuffer(b)){const l=R(b.length)|0,h=o(l);return h.length===0||b.copy(h,0,0,l),h}if(b.length!==void 0)return typeof b.length!="number"||Me(b.length)?o(0):A(b);if(b.type==="Buffer"&&Array.isArray(b.data))return A(b.data)}function R(b){if(b>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return b|0}function O(b){return+b!=b&&(b=0),a.alloc(+b)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(ot(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ot(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let x=l.length,B=h.length;for(let D=0,W=Math.min(x,B);D<W;++D)if(l[D]!==h[D]){x=l[D],B=h[D];break}return x<B?-1:B<x?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let x;if(h===void 0)for(h=0,x=0;x<l.length;++x)h+=l[x].length;const B=a.allocUnsafe(h);let D=0;for(x=0;x<l.length;++x){let W=l[x];if(ot(W,Uint8Array))D+W.length>B.length?(a.isBuffer(W)||(W=a.from(W)),W.copy(B,D)):Uint8Array.prototype.set.call(B,W,D);else if(a.isBuffer(W))W.copy(B,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=W.length}return B};function $(b,l){if(a.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ot(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const h=b.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&h===0)return 0;let B=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return ae(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Ae(b).length;default:if(B)return x?-1:ae(b).length;l=(""+l).toLowerCase(),B=!0}}a.byteLength=$;function H(b,l,h){let x=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(b||(b="utf8");;)switch(b){case"hex":return T(this,l,h);case"utf8":case"utf-8":return u(this,l,h);case"ascii":return E(this,l,h);case"latin1":case"binary":return S(this,l,h);case"base64":return w(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,l,h);default:if(x)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),x=!0}}a.prototype._isBuffer=!0;function j(b,l,h){const x=b[l];b[l]=b[h],b[h]=x}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)j(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)j(this,h,h+3),j(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)j(this,h,h+7),j(this,h+1,h+6),j(this,h+2,h+5),j(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):H.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,h,x,B,D){if(ot(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),x===void 0&&(x=l?l.length:0),B===void 0&&(B=0),D===void 0&&(D=this.length),h<0||x>l.length||B<0||D>this.length)throw new RangeError("out of range index");if(B>=D&&h>=x)return 0;if(B>=D)return-1;if(h>=x)return 1;if(h>>>=0,x>>>=0,B>>>=0,D>>>=0,this===l)return 0;let W=D-B,de=x-h;const he=Math.min(W,de),ce=this.slice(B,D),ke=l.slice(h,x);for(let ue=0;ue<he;++ue)if(ce[ue]!==ke[ue]){W=ce[ue],de=ke[ue];break}return W<de?-1:de<W?1:0};function z(b,l,h,x,B){if(b.length===0)return-1;if(typeof h=="string"?(x=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Me(h)&&(h=B?0:b.length-1),h<0&&(h=b.length+h),h>=b.length){if(B)return-1;h=b.length-1}else if(h<0)if(B)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,x)),a.isBuffer(l))return l.length===0?-1:ee(b,l,h,x,B);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(b,l,h):Uint8Array.prototype.lastIndexOf.call(b,l,h):ee(b,[l],h,x,B);throw new TypeError("val must be string, number or Buffer")}function ee(b,l,h,x,B){let D=1,W=b.length,de=l.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(b.length<2||l.length<2)return-1;D=2,W/=2,de/=2,h/=2}function he(ke,ue){return D===1?ke[ue]:ke.readUInt16BE(ue*D)}let ce;if(B){let ke=-1;for(ce=h;ce<W;ce++)if(he(b,ce)===he(l,ke===-1?0:ce-ke)){if(ke===-1&&(ke=ce),ce-ke+1===de)return ke*D}else ke!==-1&&(ce-=ce-ke),ke=-1}else for(h+de>W&&(h=W-de),ce=h;ce>=0;ce--){let ke=!0;for(let ue=0;ue<de;ue++)if(he(b,ce+ue)!==he(l,ue)){ke=!1;break}if(ke)return ce}return-1}a.prototype.includes=function(l,h,x){return this.indexOf(l,h,x)!==-1},a.prototype.indexOf=function(l,h,x){return z(this,l,h,x,!0)},a.prototype.lastIndexOf=function(l,h,x){return z(this,l,h,x,!1)};function K(b,l,h,x){h=Number(h)||0;const B=b.length-h;x?(x=Number(x),x>B&&(x=B)):x=B;const D=l.length;x>D/2&&(x=D/2);let W;for(W=0;W<x;++W){const de=parseInt(l.substr(W*2,2),16);if(Me(de))return W;b[h+W]=de}return W}function Z(b,l,h,x){return Ie(ae(l,b.length-h),b,h,x)}function se(b,l,h,x){return Ie(Se(l),b,h,x)}function ne(b,l,h,x){return Ie(Ae(l),b,h,x)}function oe(b,l,h,x){return Ie(Bt(l,b.length-h),b,h,x)}a.prototype.write=function(l,h,x,B){if(h===void 0)B="utf8",x=this.length,h=0;else if(x===void 0&&typeof h=="string")B=h,x=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(x)?(x=x>>>0,B===void 0&&(B="utf8")):(B=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-h;if((x===void 0||x>D)&&(x=D),l.length>0&&(x<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let W=!1;for(;;)switch(B){case"hex":return K(this,l,h,x);case"utf8":case"utf-8":return Z(this,l,h,x);case"ascii":case"latin1":case"binary":return se(this,l,h,x);case"base64":return ne(this,l,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,l,h,x);default:if(W)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(b,l,h){return l===0&&h===b.length?e.fromByteArray(b):e.fromByteArray(b.slice(l,h))}function u(b,l,h){h=Math.min(b.length,h);const x=[];let B=l;for(;B<h;){const D=b[B];let W=null,de=D>239?4:D>223?3:D>191?2:1;if(B+de<=h){let he,ce,ke,ue;switch(de){case 1:D<128&&(W=D);break;case 2:he=b[B+1],(he&192)===128&&(ue=(D&31)<<6|he&63,ue>127&&(W=ue));break;case 3:he=b[B+1],ce=b[B+2],(he&192)===128&&(ce&192)===128&&(ue=(D&15)<<12|(he&63)<<6|ce&63,ue>2047&&(ue<55296||ue>57343)&&(W=ue));break;case 4:he=b[B+1],ce=b[B+2],ke=b[B+3],(he&192)===128&&(ce&192)===128&&(ke&192)===128&&(ue=(D&15)<<18|(he&63)<<12|(ce&63)<<6|ke&63,ue>65535&&ue<1114112&&(W=ue))}}W===null?(W=65533,de=1):W>65535&&(W-=65536,x.push(W>>>10&1023|55296),W=56320|W&1023),x.push(W),B+=de}return v(x)}const p=4096;function v(b){const l=b.length;if(l<=p)return String.fromCharCode.apply(String,b);let h="",x=0;for(;x<l;)h+=String.fromCharCode.apply(String,b.slice(x,x+=p));return h}function E(b,l,h){let x="";h=Math.min(b.length,h);for(let B=l;B<h;++B)x+=String.fromCharCode(b[B]&127);return x}function S(b,l,h){let x="";h=Math.min(b.length,h);for(let B=l;B<h;++B)x+=String.fromCharCode(b[B]);return x}function T(b,l,h){const x=b.length;(!l||l<0)&&(l=0),(!h||h<0||h>x)&&(h=x);let B="";for(let D=l;D<h;++D)B+=Te[b[D]];return B}function L(b,l,h){const x=b.slice(l,h);let B="";for(let D=0;D<x.length-1;D+=2)B+=String.fromCharCode(x[D]+x[D+1]*256);return B}a.prototype.slice=function(l,h){const x=this.length;l=~~l,h=h===void 0?x:~~h,l<0?(l+=x,l<0&&(l=0)):l>x&&(l=x),h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),h<l&&(h=l);const B=this.subarray(l,h);return Object.setPrototypeOf(B,a.prototype),B};function _(b,l,h){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||_(l,h,this.length);let B=this[l],D=1,W=0;for(;++W<h&&(D*=256);)B+=this[l+W]*D;return B},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||_(l,h,this.length);let B=this[l+--h],D=1;for(;h>0&&(D*=256);)B+=this[l+--h]*D;return B},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||_(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||_(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||_(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||_(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=ct(function(l){l=l>>>0,q(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&J(l,this.length-8);const B=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,D=this[++l]+this[++l]*2**8+this[++l]*2**16+x*2**24;return BigInt(B)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=ct(function(l){l=l>>>0,q(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&J(l,this.length-8);const B=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],D=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x;return(BigInt(B)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(l,h,x){l=l>>>0,h=h>>>0,x||_(l,h,this.length);let B=this[l],D=1,W=0;for(;++W<h&&(D*=256);)B+=this[l+W]*D;return D*=128,B>=D&&(B-=Math.pow(2,8*h)),B},a.prototype.readIntBE=function(l,h,x){l=l>>>0,h=h>>>0,x||_(l,h,this.length);let B=h,D=1,W=this[l+--B];for(;B>0&&(D*=256);)W+=this[l+--B]*D;return D*=128,W>=D&&(W-=Math.pow(2,8*h)),W},a.prototype.readInt8=function(l,h){return l=l>>>0,h||_(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||_(l,2,this.length);const x=this[l]|this[l+1]<<8;return x&32768?x|4294901760:x},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||_(l,2,this.length);const x=this[l+1]|this[l]<<8;return x&32768?x|4294901760:x},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||_(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=ct(function(l){l=l>>>0,q(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&J(l,this.length-8);const B=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(x<<24);return(BigInt(B)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=ct(function(l){l=l>>>0,q(l,"offset");const h=this[l],x=this[l+7];(h===void 0||x===void 0)&&J(l,this.length-8);const B=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(B)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+x)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||_(l,4,this.length),r.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||_(l,4,this.length),r.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||_(l,8,this.length),r.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||_(l,8,this.length),r.read(this,l,!1,52,8)};function d(b,l,h,x,B,D){if(!a.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>B||l<D)throw new RangeError('"value" argument is out of bounds');if(h+x>b.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,x,B){if(l=+l,h=h>>>0,x=x>>>0,!B){const de=Math.pow(2,8*x)-1;d(this,l,h,x,de,0)}let D=1,W=0;for(this[h]=l&255;++W<x&&(D*=256);)this[h+W]=l/D&255;return h+x},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,x,B){if(l=+l,h=h>>>0,x=x>>>0,!B){const de=Math.pow(2,8*x)-1;d(this,l,h,x,de,0)}let D=x-1,W=1;for(this[h+D]=l&255;--D>=0&&(W*=256);)this[h+D]=l/W&255;return h+x},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function I(b,l,h,x,B){C(l,x,B,b,h,7);let D=Number(l&BigInt(4294967295));b[h++]=D,D=D>>8,b[h++]=D,D=D>>8,b[h++]=D,D=D>>8,b[h++]=D;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,W=W>>8,b[h++]=W,h}function Y(b,l,h,x,B){C(l,x,B,b,h,7);let D=Number(l&BigInt(4294967295));b[h+7]=D,D=D>>8,b[h+6]=D,D=D>>8,b[h+5]=D,D=D>>8,b[h+4]=D;let W=Number(l>>BigInt(32)&BigInt(4294967295));return b[h+3]=W,W=W>>8,b[h+2]=W,W=W>>8,b[h+1]=W,W=W>>8,b[h]=W,h+8}a.prototype.writeBigUInt64LE=ct(function(l,h=0){return I(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ct(function(l,h=0){return Y(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,x,B){if(l=+l,h=h>>>0,!B){const he=Math.pow(2,8*x-1);d(this,l,h,x,he-1,-he)}let D=0,W=1,de=0;for(this[h]=l&255;++D<x&&(W*=256);)l<0&&de===0&&this[h+D-1]!==0&&(de=1),this[h+D]=(l/W>>0)-de&255;return h+x},a.prototype.writeIntBE=function(l,h,x,B){if(l=+l,h=h>>>0,!B){const he=Math.pow(2,8*x-1);d(this,l,h,x,he-1,-he)}let D=x-1,W=1,de=0;for(this[h+D]=l&255;--D>=0&&(W*=256);)l<0&&de===0&&this[h+D+1]!==0&&(de=1),this[h+D]=(l/W>>0)-de&255;return h+x},a.prototype.writeInt8=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,x){return l=+l,h=h>>>0,x||d(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=ct(function(l,h=0){return I(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ct(function(l,h=0){return Y(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(b,l,h,x,B,D){if(h+x>b.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function N(b,l,h,x,B){return l=+l,h=h>>>0,B||X(b,l,h,4),r.write(b,l,h,x,23,4),h+4}a.prototype.writeFloatLE=function(l,h,x){return N(this,l,h,!0,x)},a.prototype.writeFloatBE=function(l,h,x){return N(this,l,h,!1,x)};function P(b,l,h,x,B){return l=+l,h=h>>>0,B||X(b,l,h,8),r.write(b,l,h,x,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,x){return P(this,l,h,!0,x)},a.prototype.writeDoubleBE=function(l,h,x){return P(this,l,h,!1,x)},a.prototype.copy=function(l,h,x,B){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(x||(x=0),!B&&B!==0&&(B=this.length),h>=l.length&&(h=l.length),h||(h=0),B>0&&B<x&&(B=x),B===x||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),l.length-h<B-x&&(B=l.length-h+x);const D=B-x;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,x,B):Uint8Array.prototype.set.call(l,this.subarray(x,B),h),D},a.prototype.fill=function(l,h,x,B){if(typeof l=="string"){if(typeof h=="string"?(B=h,h=0,x=this.length):typeof x=="string"&&(B=x,x=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(l.length===1){const W=l.charCodeAt(0);(B==="utf8"&&W<128||B==="latin1")&&(l=W)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<x)throw new RangeError("Out of range index");if(x<=h)return this;h=h>>>0,x=x===void 0?this.length:x>>>0,l||(l=0);let D;if(typeof l=="number")for(D=h;D<x;++D)this[D]=l;else{const W=a.isBuffer(l)?l:a.from(l,B),de=W.length;if(de===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(D=0;D<x-h;++D)this[D+h]=W[D%de]}return this};const V={};function Q(b,l,h){V[b]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(b,l){return`The "${b}" argument must be of type number. Received type ${typeof l}`},TypeError),Q("ERR_OUT_OF_RANGE",function(b,l,h){let x=`The value of "${b}" is out of range.`,B=h;return Number.isInteger(h)&&Math.abs(h)>2**32?B=ge(String(h)):typeof h=="bigint"&&(B=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(B=ge(B)),B+="n"),x+=` It must be ${l}. Received ${B}`,x},RangeError);function ge(b){let l="",h=b.length;const x=b[0]==="-"?1:0;for(;h>=x+4;h-=3)l=`_${b.slice(h-3,h)}${l}`;return`${b.slice(0,h)}${l}`}function M(b,l,h){q(l,"offset"),(b[l]===void 0||b[l+h]===void 0)&&J(l,b.length-(h+1))}function C(b,l,h,x,B,D){if(b>h||b<l){const W=typeof l=="bigint"?"n":"";let de;throw D>3?l===0||l===BigInt(0)?de=`>= 0${W} and < 2${W} ** ${(D+1)*8}${W}`:de=`>= -(2${W} ** ${(D+1)*8-1}${W}) and < 2 ** ${(D+1)*8-1}${W}`:de=`>= ${l}${W} and <= ${h}${W}`,new V.ERR_OUT_OF_RANGE("value",de,b)}M(x,B,D)}function q(b,l){if(typeof b!="number")throw new V.ERR_INVALID_ARG_TYPE(l,"number",b)}function J(b,l,h){throw Math.floor(b)!==b?(q(b,h),new V.ERR_OUT_OF_RANGE(h||"offset","an integer",b)):l<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${l}`,b)}const fe=/[^+/0-9A-Za-z-_]/g;function ye(b){if(b=b.split("=")[0],b=b.trim().replace(fe,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function ae(b,l){l=l||1/0;let h;const x=b.length;let B=null;const D=[];for(let W=0;W<x;++W){if(h=b.charCodeAt(W),h>55295&&h<57344){if(!B){if(h>56319){(l-=3)>-1&&D.push(239,191,189);continue}else if(W+1===x){(l-=3)>-1&&D.push(239,191,189);continue}B=h;continue}if(h<56320){(l-=3)>-1&&D.push(239,191,189),B=h;continue}h=(B-55296<<10|h-56320)+65536}else B&&(l-=3)>-1&&D.push(239,191,189);if(B=null,h<128){if((l-=1)<0)break;D.push(h)}else if(h<2048){if((l-=2)<0)break;D.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;D.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;D.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return D}function Se(b){const l=[];for(let h=0;h<b.length;++h)l.push(b.charCodeAt(h)&255);return l}function Bt(b,l){let h,x,B;const D=[];for(let W=0;W<b.length&&!((l-=2)<0);++W)h=b.charCodeAt(W),x=h>>8,B=h%256,D.push(B),D.push(x);return D}function Ae(b){return e.toByteArray(ye(b))}function Ie(b,l,h,x){let B;for(B=0;B<x&&!(B+h>=l.length||B>=b.length);++B)l[B+h]=b[B];return B}function ot(b,l){return b instanceof l||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===l.name}function Me(b){return b!==b}const Te=function(){const b="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const x=h*16;for(let B=0;B<16;++B)l[x+B]=b[h]+b[B]}return l}();function ct(b){return typeof BigInt>"u"?Ce:b}function Ce(){throw new Error("BigInt not supported")}})(Yi);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Yi,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=n(o);return a!==void 0?typeof c=="string"?f.fill(a,c):f.fill(a):f.fill(0),f},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(iu,iu.exports);var jr=iu.exports,dh=jr.Buffer;function uo(t,e){this._block=dh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}uo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=dh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),f=0;f<c;f++)r[a+f]=t[o+f];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};uo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};uo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var vi=uo,Wp=er,ph=vi,Hp=jr.Buffer,Vp=[1518500249,1859775393,-1894007588,-899497514],zp=new Array(80);function Ki(){this.init(),this._w=zp,ph.call(this,64,56)}Wp(Ki,ph);Ki.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qp(t){return t<<5|t>>>27}function Gp(t){return t<<30|t>>>2}function Jp(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ki.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var f=~~(c/20),g=qp(r)+Jp(f,n,i,s)+o+e[c]+Vp[f]|0;o=s,s=i,i=Gp(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ki.prototype._hash=function(){var t=Hp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Zp=Ki,Qp=er,gh=vi,Yp=jr.Buffer,Kp=[1518500249,1859775393,-1894007588,-899497514],Xp=new Array(80);function Xi(){this.init(),this._w=Xp,gh.call(this,64,56)}Qp(Xi,gh);Xi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function eg(t){return t<<1|t>>>31}function tg(t){return t<<5|t>>>27}function rg(t){return t<<30|t>>>2}function ng(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Xi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=eg(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var f=~~(c/20),g=tg(r)+ng(f,n,i,s)+o+e[c]+Kp[f]|0;o=s,s=i,i=rg(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Xi.prototype._hash=function(){var t=Yp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var ig=Xi,sg=er,yh=vi,og=jr.Buffer,ag=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ug=new Array(64);function es(){this.init(),this._w=ug,yh.call(this,64,56)}sg(es,yh);es.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function cg(t,e,r){return r^t&(e^r)}function lg(t,e,r){return t&e|r&(t|e)}function fg(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function hg(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function dg(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function pg(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}es.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,f=this._h|0,g=0;g<16;++g)e[g]=t.readInt32BE(g*4);for(;g<64;++g)e[g]=pg(e[g-2])+e[g-7]+dg(e[g-15])+e[g-16]|0;for(var y=0;y<64;++y){var m=f+hg(o)+cg(o,a,c)+ag[y]+e[y]|0,A=fg(r)+lg(r,n,i)|0;f=c,c=a,a=o,o=s+m|0,s=i,i=n,n=r,r=m+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0};es.prototype._hash=function(){var t=og.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var bh=es,gg=er,yg=bh,bg=vi,vg=jr.Buffer,mg=new Array(64);function co(){this.init(),this._w=mg,bg.call(this,64,56)}gg(co,yg);co.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};co.prototype._hash=function(){var t=vg.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var wg=co,_g=er,vh=vi,Eg=jr.Buffer,jc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sg=new Array(160);function ts(){this.init(),this._w=Sg,vh.call(this,128,112)}_g(ts,vh);ts.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Uc(t,e,r){return r^t&(e^r)}function Wc(t,e,r){return t&e|r&(t|e)}function Hc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Vc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function xg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Mg(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Cg(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Ig(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function lt(t,e){return t>>>0<e>>>0?1:0}ts.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,f=this._hh|0,g=this._al|0,y=this._bl|0,m=this._cl|0,A=this._dl|0,k=this._el|0,U=this._fl|0,F=this._gl|0,R=this._hl|0,O=0;O<32;O+=2)e[O]=t.readInt32BE(O*4),e[O+1]=t.readInt32BE(O*4+4);for(;O<160;O+=2){var $=e[O-30],H=e[O-15*2+1],j=xg($,H),z=Mg(H,$);$=e[O-2*2],H=e[O-2*2+1];var ee=Cg($,H),K=Ig(H,$),Z=e[O-7*2],se=e[O-7*2+1],ne=e[O-16*2],oe=e[O-16*2+1],w=z+se|0,u=j+Z+lt(w,z)|0;w=w+K|0,u=u+ee+lt(w,K)|0,w=w+oe|0,u=u+ne+lt(w,oe)|0,e[O]=u,e[O+1]=w}for(var p=0;p<160;p+=2){u=e[p],w=e[p+1];var v=Wc(r,n,i),E=Wc(g,y,m),S=Hc(r,g),T=Hc(g,r),L=Vc(o,k),_=Vc(k,o),d=jc[p],I=jc[p+1],Y=Uc(o,a,c),X=Uc(k,U,F),N=R+_|0,P=f+L+lt(N,R)|0;N=N+X|0,P=P+Y+lt(N,X)|0,N=N+I|0,P=P+d+lt(N,I)|0,N=N+w|0,P=P+u+lt(N,w)|0;var V=T+E|0,Q=S+v+lt(V,T)|0;f=c,R=F,c=a,F=U,a=o,U=k,k=A+N|0,o=s+P+lt(k,A)|0,s=i,A=m,i=n,m=y,n=r,y=g,g=N+V|0,r=P+Q+lt(g,N)|0}this._al=this._al+g|0,this._bl=this._bl+y|0,this._cl=this._cl+m|0,this._dl=this._dl+A|0,this._el=this._el+k|0,this._fl=this._fl+U|0,this._gl=this._gl+F|0,this._hl=this._hl+R|0,this._ah=this._ah+r+lt(this._al,g)|0,this._bh=this._bh+n+lt(this._bl,y)|0,this._ch=this._ch+i+lt(this._cl,m)|0,this._dh=this._dh+s+lt(this._dl,A)|0,this._eh=this._eh+o+lt(this._el,k)|0,this._fh=this._fh+a+lt(this._fl,U)|0,this._gh=this._gh+c+lt(this._gl,F)|0,this._hh=this._hh+f+lt(this._hl,R)|0};ts.prototype._hash=function(){var t=Eg.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var mh=ts,Rg=er,Ag=mh,Tg=vi,kg=jr.Buffer,Ng=new Array(160);function lo(){this.init(),this._w=Ng,Tg.call(this,128,112)}Rg(lo,Ag);lo.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};lo.prototype._hash=function(){var t=kg.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Og=lo,En=fh.exports=function(e){e=e.toLowerCase();var r=En[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};En.sha=Zp;En.sha1=ig;En.sha224=wg;En.sha256=bh;En.sha384=Og;En.sha512=mh;var Lg=fh.exports,re={},Bg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},zc=typeof Symbol<"u"&&Symbol,Pg=Bg,$g=function(){return typeof zc!="function"||typeof Symbol!="function"||typeof zc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Pg()},qc={foo:{}},Dg=Object,Fg=function(){return{__proto__:qc}.foo===qc.foo&&!({__proto__:null}instanceof Dg)},jg="Function.prototype.bind called on incompatible ",Ug=Object.prototype.toString,Wg=Math.max,Hg="[object Function]",Gc=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Vg=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},zg=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},qg=function(e){var r=this;if(typeof r!="function"||Ug.apply(r)!==Hg)throw new TypeError(jg+r);for(var n=Vg(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,Gc(n,arguments));return Object(g)===g?g:this}return r.apply(e,Gc(n,arguments))},o=Wg(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+zg(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i},Gg=qg,Ou=Function.prototype.bind||Gg,Jg=Function.prototype.call,Zg=Object.prototype.hasOwnProperty,Qg=Ou,Yg=Qg.call(Jg,Zg),we,ri=SyntaxError,wh=Function,Qn=TypeError,da=function(t){try{return wh('"use strict"; return ('+t+").constructor;")()}catch{}},dn=Object.getOwnPropertyDescriptor;if(dn)try{dn({},"")}catch{dn=null}var pa=function(){throw new Qn},Kg=dn?function(){try{return arguments.callee,pa}catch{try{return dn(arguments,"callee").get}catch{return pa}}}():pa,Dn=$g(),Xg=Fg(),dt=Object.getPrototypeOf||(Xg?function(t){return t.__proto__}:null),zn={},ey=typeof Uint8Array>"u"||!dt?we:dt(Uint8Array),pn={"%AggregateError%":typeof AggregateError>"u"?we:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?we:ArrayBuffer,"%ArrayIteratorPrototype%":Dn&&dt?dt([][Symbol.iterator]()):we,"%AsyncFromSyncIteratorPrototype%":we,"%AsyncFunction%":zn,"%AsyncGenerator%":zn,"%AsyncGeneratorFunction%":zn,"%AsyncIteratorPrototype%":zn,"%Atomics%":typeof Atomics>"u"?we:Atomics,"%BigInt%":typeof BigInt>"u"?we:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?we:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?we:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?we:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?we:Float32Array,"%Float64Array%":typeof Float64Array>"u"?we:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?we:FinalizationRegistry,"%Function%":wh,"%GeneratorFunction%":zn,"%Int8Array%":typeof Int8Array>"u"?we:Int8Array,"%Int16Array%":typeof Int16Array>"u"?we:Int16Array,"%Int32Array%":typeof Int32Array>"u"?we:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dn&&dt?dt(dt([][Symbol.iterator]())):we,"%JSON%":typeof JSON=="object"?JSON:we,"%Map%":typeof Map>"u"?we:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dn||!dt?we:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?we:Promise,"%Proxy%":typeof Proxy>"u"?we:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?we:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?we:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dn||!dt?we:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?we:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dn&&dt?dt(""[Symbol.iterator]()):we,"%Symbol%":Dn?Symbol:we,"%SyntaxError%":ri,"%ThrowTypeError%":Kg,"%TypedArray%":ey,"%TypeError%":Qn,"%Uint8Array%":typeof Uint8Array>"u"?we:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?we:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?we:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?we:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?we:WeakMap,"%WeakRef%":typeof WeakRef>"u"?we:WeakRef,"%WeakSet%":typeof WeakSet>"u"?we:WeakSet};if(dt)try{null.error}catch(t){var ty=dt(dt(t));pn["%Error.prototype%"]=ty}var ry=function t(e){var r;if(e==="%AsyncFunction%")r=da("async function () {}");else if(e==="%GeneratorFunction%")r=da("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=da("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&dt&&(r=dt(i.prototype))}return pn[e]=r,r},Jc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},rs=Ou,Ws=Yg,ny=rs.call(Function.call,Array.prototype.concat),iy=rs.call(Function.apply,Array.prototype.splice),Zc=rs.call(Function.call,String.prototype.replace),Hs=rs.call(Function.call,String.prototype.slice),sy=rs.call(Function.call,RegExp.prototype.exec),oy=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ay=/\\(\\)?/g,uy=function(e){var r=Hs(e,0,1),n=Hs(e,-1);if(r==="%"&&n!=="%")throw new ri("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ri("invalid intrinsic syntax, expected opening `%`");var i=[];return Zc(e,oy,function(s,o,a,c){i[i.length]=a?Zc(c,ay,"$1"):o||s}),i},cy=function(e,r){var n=e,i;if(Ws(Jc,n)&&(i=Jc[n],n="%"+i[0]+"%"),Ws(pn,n)){var s=pn[n];if(s===zn&&(s=ry(n)),typeof s>"u"&&!r)throw new Qn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ri("intrinsic "+e+" does not exist!")},Sn=function(e,r){if(typeof e!="string"||e.length===0)throw new Qn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qn('"allowMissing" argument must be a boolean');if(sy(/^%?[^%]*%?$/,e)===null)throw new ri("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=uy(e),i=n.length>0?n[0]:"",s=cy("%"+i+"%",r),o=s.name,a=s.value,c=!1,f=s.alias;f&&(i=f[0],iy(n,ny([0,1],f)));for(var g=1,y=!0;g<n.length;g+=1){var m=n[g],A=Hs(m,0,1),k=Hs(m,-1);if((A==='"'||A==="'"||A==="`"||k==='"'||k==="'"||k==="`")&&A!==k)throw new ri("property names with quotes must have matching quotes");if((m==="constructor"||!y)&&(c=!0),i+="."+m,o="%"+i+"%",Ws(pn,o))a=pn[o];else if(a!=null){if(!(m in a)){if(!r)throw new Qn("base intrinsic for "+e+" exists, but the property is not available.");return}if(dn&&g+1>=n.length){var U=dn(a,m);y=!!U,y&&"get"in U&&!("originalValue"in U.get)?a=U.get:a=a[m]}else y=Ws(a,m),a=a[m];y&&!c&&(pn[o]=a)}}return a},_h={exports:{}},ly=Sn,su=ly("%Object.defineProperty%",!0),ou=function(){if(su)try{return su({},"a",{value:1}),!0}catch{return!1}return!1};ou.hasArrayLengthDefineBug=function(){if(!ou())return null;try{return su([],"length",{value:1}).length!==1}catch{return!0}};var Eh=ou,fy=Sn,Ps=fy("%Object.getOwnPropertyDescriptor%",!0);if(Ps)try{Ps([],"length")}catch{Ps=null}var Sh=Ps,hy=Eh(),Lu=Sn,Pi=hy&&Lu("%Object.defineProperty%",!0);if(Pi)try{Pi({},"a",{value:1})}catch{Pi=!1}var dy=Lu("%SyntaxError%"),Fn=Lu("%TypeError%"),Qc=Sh,py=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Fn("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Fn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fn("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Qc&&Qc(e,r);if(Pi)Pi(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new dy("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xh=Sn,Yc=py,gy=Eh(),Kc=Sh,Xc=xh("%TypeError%"),yy=xh("%Math.floor%"),by=function(e,r){if(typeof e!="function")throw new Xc("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||yy(r)!==r)throw new Xc("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Kc){var o=Kc(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(gy?Yc(e,"length",r,!0,!0):Yc(e,"length",r)),e};(function(t){var e=Ou,r=Sn,n=by,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var A=a(e,o,arguments);return n(A,1+f(0,m.length-(arguments.length-1)),!0)};var g=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:g}):t.exports.apply=g})(_h);var vy=_h.exports,Mh=Sn,Ch=vy,my=Ch(Mh("String.prototype.indexOf")),wy=function(e,r){var n=Mh(e,!!r);return typeof n=="function"&&my(e,".prototype.")>-1?Ch(n):n},Bu=typeof Map=="function"&&Map.prototype,ga=Object.getOwnPropertyDescriptor&&Bu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Vs=Bu&&ga&&typeof ga.get=="function"?ga.get:null,el=Bu&&Map.prototype.forEach,Pu=typeof Set=="function"&&Set.prototype,ya=Object.getOwnPropertyDescriptor&&Pu?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,zs=Pu&&ya&&typeof ya.get=="function"?ya.get:null,tl=Pu&&Set.prototype.forEach,_y=typeof WeakMap=="function"&&WeakMap.prototype,$i=_y?WeakMap.prototype.has:null,Ey=typeof WeakSet=="function"&&WeakSet.prototype,Di=Ey?WeakSet.prototype.has:null,Sy=typeof WeakRef=="function"&&WeakRef.prototype,rl=Sy?WeakRef.prototype.deref:null,xy=Boolean.prototype.valueOf,My=Object.prototype.toString,Cy=Function.prototype.toString,Iy=String.prototype.match,$u=String.prototype.slice,kr=String.prototype.replace,Ry=String.prototype.toUpperCase,nl=String.prototype.toLowerCase,Ih=RegExp.prototype.test,il=Array.prototype.concat,cr=Array.prototype.join,Ay=Array.prototype.slice,sl=Math.floor,au=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ba=Object.getOwnPropertySymbols,uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ni=typeof Symbol=="function"&&typeof Symbol.iterator=="object",St=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ni||"symbol")?Symbol.toStringTag:null,Rh=Object.prototype.propertyIsEnumerable,ol=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function al(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Ih.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-sl(-t):sl(t);if(n!==t){var i=String(n),s=$u.call(e,i.length+1);return kr.call(i,r,"$&_")+"."+kr.call(kr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kr.call(e,r,"$&_")}var cu=eo,ul=cu.custom,cl=Th(ul)?ul:null,Ty=function t(e,r,n,i){var s=r||{};if(Rr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Rr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Nh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?al(e,c):c}if(typeof e=="bigint"){var f=String(e)+"n";return a?al(e,f):f}var g=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return lu(e)?"[Array]":"[Object]";var y=Jy(s,n);if(typeof i>"u")i=[];else if(kh(i,e)>=0)return"[Circular]";function m(w,u,p){if(u&&(i=Ay.call(i),i.push(u)),p){var v={depth:s.depth};return Rr(s,"quoteStyle")&&(v.quoteStyle=s.quoteStyle),t(w,v,n+1,i)}return t(w,s,n+1,i)}if(typeof e=="function"&&!ll(e)){var A=Fy(e),k=_s(e,m);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(k.length>0?" { "+cr.call(k,", ")+" }":"")}if(Th(e)){var U=ni?kr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):uu.call(e);return typeof e=="object"&&!ni?Ai(U):U}if(zy(e)){for(var F="<"+nl.call(String(e.nodeName)),R=e.attributes||[],O=0;O<R.length;O++)F+=" "+R[O].name+"="+Ah(ky(R[O].value),"double",s);return F+=">",e.childNodes&&e.childNodes.length&&(F+="..."),F+="</"+nl.call(String(e.nodeName))+">",F}if(lu(e)){if(e.length===0)return"[]";var $=_s(e,m);return y&&!Gy($)?"["+fu($,y)+"]":"[ "+cr.call($,", ")+" ]"}if(Oy(e)){var H=_s(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Rh.call(e,"cause")?"{ ["+String(e)+"] "+cr.call(il.call("[cause]: "+m(e.cause),H),", ")+" }":H.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+cr.call(H,", ")+" }"}if(typeof e=="object"&&o){if(cl&&typeof e[cl]=="function"&&cu)return cu(e,{depth:g-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(jy(e)){var j=[];return el&&el.call(e,function(w,u){j.push(m(u,e,!0)+" => "+m(w,e))}),fl("Map",Vs.call(e),j,y)}if(Hy(e)){var z=[];return tl&&tl.call(e,function(w){z.push(m(w,e))}),fl("Set",zs.call(e),z,y)}if(Uy(e))return va("WeakMap");if(Vy(e))return va("WeakSet");if(Wy(e))return va("WeakRef");if(By(e))return Ai(m(Number(e)));if($y(e))return Ai(m(au.call(e)));if(Py(e))return Ai(xy.call(e));if(Ly(e))return Ai(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===te)return"{ [object globalThis] }";if(!Ny(e)&&!ll(e)){var ee=_s(e,m),K=ol?ol(e)===Object.prototype:e instanceof Object||e.constructor===Object,Z=e instanceof Object?"":"null prototype",se=!K&&St&&Object(e)===e&&St in e?$u.call(Ur(e),8,-1):Z?"Object":"",ne=K||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",oe=ne+(se||Z?"["+cr.call(il.call([],se||[],Z||[]),": ")+"] ":"");return ee.length===0?oe+"{}":y?oe+"{"+fu(ee,y)+"}":oe+"{ "+cr.call(ee,", ")+" }"}return String(e)};function Ah(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ky(t){return kr.call(String(t),/"/g,"&quot;")}function lu(t){return Ur(t)==="[object Array]"&&(!St||!(typeof t=="object"&&St in t))}function Ny(t){return Ur(t)==="[object Date]"&&(!St||!(typeof t=="object"&&St in t))}function ll(t){return Ur(t)==="[object RegExp]"&&(!St||!(typeof t=="object"&&St in t))}function Oy(t){return Ur(t)==="[object Error]"&&(!St||!(typeof t=="object"&&St in t))}function Ly(t){return Ur(t)==="[object String]"&&(!St||!(typeof t=="object"&&St in t))}function By(t){return Ur(t)==="[object Number]"&&(!St||!(typeof t=="object"&&St in t))}function Py(t){return Ur(t)==="[object Boolean]"&&(!St||!(typeof t=="object"&&St in t))}function Th(t){if(ni)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!uu)return!1;try{return uu.call(t),!0}catch{}return!1}function $y(t){if(!t||typeof t!="object"||!au)return!1;try{return au.call(t),!0}catch{}return!1}var Dy=Object.prototype.hasOwnProperty||function(t){return t in this};function Rr(t,e){return Dy.call(t,e)}function Ur(t){return My.call(t)}function Fy(t){if(t.name)return t.name;var e=Iy.call(Cy.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function kh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function jy(t){if(!Vs||!t||typeof t!="object")return!1;try{Vs.call(t);try{zs.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Uy(t){if(!$i||!t||typeof t!="object")return!1;try{$i.call(t,$i);try{Di.call(t,Di)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Wy(t){if(!rl||!t||typeof t!="object")return!1;try{return rl.call(t),!0}catch{}return!1}function Hy(t){if(!zs||!t||typeof t!="object")return!1;try{zs.call(t);try{Vs.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Vy(t){if(!Di||!t||typeof t!="object")return!1;try{Di.call(t,Di);try{$i.call(t,$i)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function zy(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Nh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Nh($u.call(t,0,e.maxStringLength),e)+n}var i=kr.call(kr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qy);return Ah(i,"single",e)}function qy(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Ry.call(e.toString(16))}function Ai(t){return"Object("+t+")"}function va(t){return t+" { ? }"}function fl(t,e,r,n){var i=n?fu(r,n):cr.call(r,", ");return t+" ("+e+") {"+i+"}"}function Gy(t){for(var e=0;e<t.length;e++)if(kh(t[e],`
`)>=0)return!1;return!0}function Jy(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=cr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:cr.call(Array(e+1),r)}}function fu(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+cr.call(t,","+r)+`
`+e.prev}function _s(t,e){var r=lu(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Rr(t,i)?e(t[i],t):""}var s=typeof ba=="function"?ba(t):[],o;if(ni){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Rr(t,c)&&(r&&String(Number(c))===c&&c<t.length||ni&&o["$"+c]instanceof Symbol||(Ih.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof ba=="function")for(var f=0;f<s.length;f++)Rh.call(t,s[f])&&n.push("["+e(s[f])+"]: "+e(t[s[f]],t));return n}var Du=Sn,mi=wy,Zy=Ty,Qy=Du("%TypeError%"),Es=Du("%WeakMap%",!0),Ss=Du("%Map%",!0),Yy=mi("WeakMap.prototype.get",!0),Ky=mi("WeakMap.prototype.set",!0),Xy=mi("WeakMap.prototype.has",!0),eb=mi("Map.prototype.get",!0),tb=mi("Map.prototype.set",!0),rb=mi("Map.prototype.has",!0),Fu=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},nb=function(t,e){var r=Fu(t,e);return r&&r.value},ib=function(t,e,r){var n=Fu(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},sb=function(t,e){return!!Fu(t,e)},ob=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Qy("Side channel does not contain "+Zy(s))},get:function(s){if(Es&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Yy(e,s)}else if(Ss){if(r)return eb(r,s)}else if(n)return nb(n,s)},has:function(s){if(Es&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Xy(e,s)}else if(Ss){if(r)return rb(r,s)}else if(n)return sb(n,s);return!1},set:function(s,o){Es&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Es),Ky(e,s,o)):Ss?(r||(r=new Ss),tb(r,s,o)):(n||(n={key:{},next:null}),ib(n,s,o))}};return i},ab=String.prototype.replace,ub=/%20/g,ma={RFC1738:"RFC1738",RFC3986:"RFC3986"},ju={default:ma.RFC3986,formatters:{RFC1738:function(t){return ab.call(t,ub,"+")},RFC3986:function(t){return String(t)}},RFC1738:ma.RFC1738,RFC3986:ma.RFC3986},cb=ju,wa=Object.prototype.hasOwnProperty,on=Array.isArray,nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),lb=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(on(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Oh=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},fb=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(on(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wa.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return on(e)&&!on(r)&&(i=Oh(e,n)),on(e)&&on(r)?(r.forEach(function(s,o){if(wa.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return wa.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},hb=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},db=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},pb=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var f=o.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===cb.RFC1738&&(f===40||f===41)){a+=o.charAt(c);continue}if(f<128){a=a+nr[f];continue}if(f<2048){a=a+(nr[192|f>>6]+nr[128|f&63]);continue}if(f<55296||f>=57344){a=a+(nr[224|f>>12]+nr[128|f>>6&63]+nr[128|f&63]);continue}c+=1,f=65536+((f&1023)<<10|o.charCodeAt(c)&1023),a+=nr[240|f>>18]+nr[128|f>>12&63]+nr[128|f>>6&63]+nr[128|f&63]}return a},gb=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var f=a[c],g=o[f];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(r.push({obj:o,prop:f}),n.push(g))}return lb(r),e},yb=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},bb=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},vb=function(e,r){return[].concat(e,r)},mb=function(e,r){if(on(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Lh={arrayToObject:Oh,assign:hb,combine:vb,compact:gb,decode:db,encode:pb,isBuffer:bb,isRegExp:yb,maybeMap:mb,merge:fb},Bh=ob,$s=Lh,Fi=ju,wb=Object.prototype.hasOwnProperty,hl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},mr=Array.isArray,_b=Array.prototype.push,Ph=function(t,e){_b.apply(t,mr(e)?e:[e])},Eb=Date.prototype.toISOString,dl=Fi.default,Et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:$s.encode,encodeValuesOnly:!1,format:dl,formatter:Fi.formatters[dl],indices:!1,serializeDate:function(e){return Eb.call(e)},skipNulls:!1,strictNullHandling:!1},Sb=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},_a={},xb=function t(e,r,n,i,s,o,a,c,f,g,y,m,A,k,U,F){for(var R=e,O=F,$=0,H=!1;(O=O.get(_a))!==void 0&&!H;){var j=O.get(e);if($+=1,typeof j<"u"){if(j===$)throw new RangeError("Cyclic object value");H=!0}typeof O.get(_a)>"u"&&($=0)}if(typeof c=="function"?R=c(r,R):R instanceof Date?R=y(R):n==="comma"&&mr(R)&&(R=$s.maybeMap(R,function(v){return v instanceof Date?y(v):v})),R===null){if(s)return a&&!k?a(r,Et.encoder,U,"key",m):r;R=""}if(Sb(R)||$s.isBuffer(R)){if(a){var z=k?r:a(r,Et.encoder,U,"key",m);return[A(z)+"="+A(a(R,Et.encoder,U,"value",m))]}return[A(r)+"="+A(String(R))]}var ee=[];if(typeof R>"u")return ee;var K;if(n==="comma"&&mr(R))k&&a&&(R=$s.maybeMap(R,a)),K=[{value:R.length>0?R.join(",")||null:void 0}];else if(mr(c))K=c;else{var Z=Object.keys(R);K=f?Z.sort(f):Z}for(var se=i&&mr(R)&&R.length===1?r+"[]":r,ne=0;ne<K.length;++ne){var oe=K[ne],w=typeof oe=="object"&&typeof oe.value<"u"?oe.value:R[oe];if(!(o&&w===null)){var u=mr(R)?typeof n=="function"?n(se,oe):se:se+(g?"."+oe:"["+oe+"]");F.set(e,$);var p=Bh();p.set(_a,F),Ph(ee,t(w,u,n,i,s,o,n==="comma"&&k&&mr(R)?null:a,c,f,g,y,m,A,k,U,p))}}return ee},Mb=function(e){if(!e)return Et;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Fi.default;if(typeof e.format<"u"){if(!wb.call(Fi.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Fi.formatters[n],s=Et.filter;return(typeof e.filter=="function"||mr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Et.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Et.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,delimiter:typeof e.delimiter>"u"?Et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Et.encode,encoder:typeof e.encoder=="function"?e.encoder:Et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Et.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}},Cb=function(t,e){var r=t,n=Mb(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):mr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in hl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=hl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var g=Bh(),y=0;y<i.length;++y){var m=i[y];n.skipNulls&&r[m]===null||Ph(o,xb(r[m],m,c,f,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var A=o.join(n.delimiter),k=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?k+="utf8=%26%2310003%3B&":k+="utf8=%E2%9C%93&"),A.length>0?k+A:""},ii=Lh,hu=Object.prototype.hasOwnProperty,Ib=Array.isArray,ft={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ii.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Rb=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$h=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Ab="utf8=%26%2310003%3B",Tb="utf8=%E2%9C%93",kb=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,f=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Tb?f="utf-8":o[c]===Ab&&(f="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var g=o[c],y=g.indexOf("]="),m=y===-1?g.indexOf("="):y+1,A,k;m===-1?(A=r.decoder(g,ft.decoder,f,"key"),k=r.strictNullHandling?null:""):(A=r.decoder(g.slice(0,m),ft.decoder,f,"key"),k=ii.maybeMap($h(g.slice(m+1),r),function(U){return r.decoder(U,ft.decoder,f,"value")})),k&&r.interpretNumericEntities&&f==="iso-8859-1"&&(k=Rb(k)),g.indexOf("[]=")>-1&&(k=Ib(k)?[k]:k),hu.call(n,A)?n[A]=ii.combine(n[A],k):n[A]=k}return n},Nb=function(t,e,r,n){for(var i=n?e:$h(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,f=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(f)&&a!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Ob=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),f=c?s.slice(0,c.index):s,g=[];if(f){if(!n.plainObjects&&hu.call(Object.prototype,f)&&!n.allowPrototypes)return;g.push(f)}for(var y=0;n.depth>0&&(c=a.exec(s))!==null&&y<n.depth;){if(y+=1,!n.plainObjects&&hu.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(c[1])}return c&&g.push("["+s.slice(c.index)+"]"),Nb(g,r,n,i)}},Lb=function(e){if(!e)return ft;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ft.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ft.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ft.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ft.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ft.comma,decoder:typeof e.decoder=="function"?e.decoder:ft.decoder,delimiter:typeof e.delimiter=="string"||ii.isRegExp(e.delimiter)?e.delimiter:ft.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ft.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ft.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ft.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ft.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},Bb=function(t,e){var r=Lb(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?kb(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Ob(a,n[a],r,typeof t=="string");i=ii.merge(i,c,r)}return r.allowSparse===!0?i:ii.compact(i)},Pb=Cb,$b=Bb,Db=ju,Fb={formats:Db,parse:$b,stringify:Pb},ns={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(ns);var jb=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(re,"__esModule",{value:!0});re.isInIFrame=re.createQrUrl=re.getFavicon=re.range=re.isBigNumber=re.ensureParsedJSONObject=re.ensureBN=re.ensureRegExpString=re.ensureIntNumber=re.ensureBuffer=re.ensureAddressString=re.ensureEvenLengthHexString=re.ensureHexString=re.isHexString=re.prepend0x=re.strip0x=re.has0xPrefix=re.hexStringFromIntNumber=re.intNumberFromHexString=re.bigIntStringFromBN=re.hexStringFromBuffer=re.hexStringToUint8Array=re.uint8ArrayToHex=re.randomBytesHex=void 0;const Ar=jb(io),Ub=Fb,xn=Qi,Vt=ns,Dh=/^[0-9]*$/,Fh=/^[a-f0-9]*$/;function Wb(t){return jh(crypto.getRandomValues(new Uint8Array(t)))}re.randomBytesHex=Wb;function jh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}re.uint8ArrayToHex=jh;function Hb(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}re.hexStringToUint8Array=Hb;function Vb(t,e=!1){const r=t.toString("hex");return(0,Vt.HexString)(e?"0x"+r:r)}re.hexStringFromBuffer=Vb;function zb(t){return(0,Vt.BigIntString)(t.toString(10))}re.bigIntStringFromBN=zb;function qb(t){return(0,Vt.IntNumber)(new Ar.default(ss(t,!1),16).toNumber())}re.intNumberFromHexString=qb;function Gb(t){return(0,Vt.HexString)("0x"+new Ar.default(t).toString(16))}re.hexStringFromIntNumber=Gb;function Uu(t){return t.startsWith("0x")||t.startsWith("0X")}re.has0xPrefix=Uu;function fo(t){return Uu(t)?t.slice(2):t}re.strip0x=fo;function Uh(t){return Uu(t)?"0x"+t.slice(2):"0x"+t}re.prepend0x=Uh;function is(t){if(typeof t!="string")return!1;const e=fo(t).toLowerCase();return Fh.test(e)}re.isHexString=is;function Wh(t,e=!1){if(typeof t=="string"){const r=fo(t).toLowerCase();if(Fh.test(r))return(0,Vt.HexString)(e?"0x"+r:r)}throw xn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}re.ensureHexString=Wh;function ss(t,e=!1){let r=Wh(t,!1);return r.length%2===1&&(r=(0,Vt.HexString)("0"+r)),e?(0,Vt.HexString)("0x"+r):r}re.ensureEvenLengthHexString=ss;function Jb(t){if(typeof t=="string"){const e=fo(t).toLowerCase();if(is(e)&&e.length===40)return(0,Vt.AddressString)(Uh(e))}throw xn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}re.ensureAddressString=Jb;function Zb(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(is(t)){const e=ss(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw xn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}re.ensureBuffer=Zb;function Hh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Vt.IntNumber)(t);if(typeof t=="string"){if(Dh.test(t))return(0,Vt.IntNumber)(Number(t));if(is(t))return(0,Vt.IntNumber)(new Ar.default(ss(t,!1),16).toNumber())}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}re.ensureIntNumber=Hh;function Qb(t){if(t instanceof RegExp)return(0,Vt.RegExpString)(t.toString());throw xn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}re.ensureRegExpString=Qb;function Yb(t){if(t!==null&&(Ar.default.isBN(t)||Vh(t)))return new Ar.default(t.toString(10),10);if(typeof t=="number")return new Ar.default(Hh(t));if(typeof t=="string"){if(Dh.test(t))return new Ar.default(t,10);if(is(t))return new Ar.default(ss(t,!1),16)}throw xn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}re.ensureBN=Yb;function Kb(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw xn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}re.ensureParsedJSONObject=Kb;function Vh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}re.isBigNumber=Vh;function Xb(t,e){return Array.from({length:e-t},(r,n)=>t+n)}re.range=Xb;function ev(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}re.getFavicon=ev;function tv(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,Ub.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}re.createQrUrl=tv;function rv(){try{return window.frameElement!==null}catch{return!1}}re.isInIFrame=rv;Object.defineProperty(bi,"__esModule",{value:!0});bi.Session=void 0;const pl=Lg,gl=re,yl="session:id",bl="session:secret",vl="session:linked";class Wu{constructor(e,r,n,i){this._storage=e,this._id=r||(0,gl.randomBytesHex)(16),this._secret=n||(0,gl.randomBytesHex)(32),this._key=new pl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(yl),n=e.getItem(vl),i=e.getItem(bl);return r&&i?new Wu(e,r,i,n==="1"):null}static hash(e){return new pl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(yl,this._id),this._storage.setItem(bl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(vl,this._linked?"1":"0")}}bi.Session=Wu;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.WalletSDKRelayAbstract=Xt.APP_VERSION_KEY=Xt.LOCAL_STORAGE_ADDRESSES_KEY=Xt.WALLET_USER_NAME_KEY=void 0;const ml=Qi;Xt.WALLET_USER_NAME_KEY="walletUsername";Xt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Xt.APP_VERSION_KEY="AppVersion";class nv{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw ml.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,ml.serializeError)(s,e.method);return i})}}Xt.WalletSDKRelayAbstract=nv;var du={exports:{}},zh=Iu.EventEmitter,Ea,wl;function iv(){if(wl)return Ea;wl=1;function t(k,U){var F=Object.keys(k);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(k);U&&(R=R.filter(function(O){return Object.getOwnPropertyDescriptor(k,O).enumerable})),F.push.apply(F,R)}return F}function e(k){for(var U=1;U<arguments.length;U++){var F=arguments[U]!=null?arguments[U]:{};U%2?t(Object(F),!0).forEach(function(R){r(k,R,F[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(F)):t(Object(F)).forEach(function(R){Object.defineProperty(k,R,Object.getOwnPropertyDescriptor(F,R))})}return k}function r(k,U,F){return U=o(U),U in k?Object.defineProperty(k,U,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[U]=F,k}function n(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function i(k,U){for(var F=0;F<U.length;F++){var R=U[F];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,o(R.key),R)}}function s(k,U,F){return U&&i(k.prototype,U),F&&i(k,F),Object.defineProperty(k,"prototype",{writable:!1}),k}function o(k){var U=a(k,"string");return typeof U=="symbol"?U:String(U)}function a(k,U){if(typeof k!="object"||k===null)return k;var F=k[Symbol.toPrimitive];if(F!==void 0){var R=F.call(k,U||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(k)}var c=Yi,f=c.Buffer,g=eo,y=g.inspect,m=y&&y.custom||"inspect";function A(k,U,F){f.prototype.copy.call(k,U,F)}return Ea=function(){function k(){n(this,k),this.head=null,this.tail=null,this.length=0}return s(k,[{key:"push",value:function(F){var R={data:F,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(F){var R={data:F,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var F=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,F}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(F){if(this.length===0)return"";for(var R=this.head,O=""+R.data;R=R.next;)O+=F+R.data;return O}},{key:"concat",value:function(F){if(this.length===0)return f.alloc(0);for(var R=f.allocUnsafe(F>>>0),O=this.head,$=0;O;)A(O.data,R,$),$+=O.data.length,O=O.next;return R}},{key:"consume",value:function(F,R){var O;return F<this.head.data.length?(O=this.head.data.slice(0,F),this.head.data=this.head.data.slice(F)):F===this.head.data.length?O=this.shift():O=R?this._getString(F):this._getBuffer(F),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(F){var R=this.head,O=1,$=R.data;for(F-=$.length;R=R.next;){var H=R.data,j=F>H.length?H.length:F;if(j===H.length?$+=H:$+=H.slice(0,F),F-=j,F===0){j===H.length?(++O,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=H.slice(j));break}++O}return this.length-=O,$}},{key:"_getBuffer",value:function(F){var R=f.allocUnsafe(F),O=this.head,$=1;for(O.data.copy(R),F-=O.data.length;O=O.next;){var H=O.data,j=F>H.length?H.length:F;if(H.copy(R,R.length-F,0,j),F-=j,F===0){j===H.length?(++$,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=H.slice(j));break}++$}return this.length-=$,R}},{key:m,value:function(F,R){return y(this,e(e({},R),{},{depth:0,customInspect:!1}))}}]),k}(),Ea}function sv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(pu,this,t)):process.nextTick(pu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ds,r):(r._writableState.errorEmitted=!0,process.nextTick(_l,r,s)):process.nextTick(_l,r,s):e?(process.nextTick(Ds,r),e(s)):process.nextTick(Ds,r)}),this)}function _l(t,e){pu(t,e),Ds(t)}function Ds(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function ov(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pu(t,e){t.emit("error",e)}function av(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var qh={destroy:sv,undestroy:ov,errorOrDestroy:av},Mn={};function uv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Gh={};function qt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){uv(o,s);function o(a,c,f){return s.call(this,n(a,c,f))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Gh[t]=i}function El(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function cv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function lv(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function fv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);qt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&cv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(lv(t," argument"))i="The ".concat(t," ").concat(n," ").concat(El(e,"type"));else{var s=fv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(El(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);qt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");qt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});qt("ERR_STREAM_PREMATURE_CLOSE","Premature close");qt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});qt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");qt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");qt("ERR_STREAM_WRITE_AFTER_END","write after end");qt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);qt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Mn.codes=Gh;var hv=Mn.codes.ERR_INVALID_OPT_VALUE;function dv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function pv(t,e,r,n){var i=dv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new hv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Jh={getHighWaterMark:pv},gv=yv;function yv(t,e){if(Sa("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Sa("throwDeprecation"))throw new Error(e);Sa("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Sa(t){try{if(!te.localStorage)return!1}catch{return!1}var e=te.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var xa,Sl;function Zh(){if(Sl)return xa;Sl=1,xa=K;function t(N){var P=this;this.next=null,this.entry=null,this.finish=function(){X(P,N)}}var e;K.WritableState=z;var r={deprecate:gv},n=zh,i=Yi.Buffer,s=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(N){return i.from(N)}function a(N){return i.isBuffer(N)||N instanceof s}var c=qh,f=Jh,g=f.getHighWaterMark,y=Mn.codes,m=y.ERR_INVALID_ARG_TYPE,A=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_MULTIPLE_CALLBACK,U=y.ERR_STREAM_CANNOT_PIPE,F=y.ERR_STREAM_DESTROYED,R=y.ERR_STREAM_NULL_VALUES,O=y.ERR_STREAM_WRITE_AFTER_END,$=y.ERR_UNKNOWN_ENCODING,H=c.errorOrDestroy;er(K,n);function j(){}function z(N,P,V){e=e||si(),N=N||{},typeof V!="boolean"&&(V=P instanceof e),this.objectMode=!!N.objectMode,V&&(this.objectMode=this.objectMode||!!N.writableObjectMode),this.highWaterMark=g(this,N,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=N.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){v(P,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}z.prototype.getBuffer=function(){for(var P=this.bufferedRequest,V=[];P;)V.push(P),P=P.next;return V},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(K,Symbol.hasInstance,{value:function(P){return ee.call(this,P)?!0:this!==K?!1:P&&P._writableState instanceof z}})):ee=function(P){return P instanceof this};function K(N){e=e||si();var P=this instanceof e;if(!P&&!ee.call(K,this))return new K(N);this._writableState=new z(N,this,P),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),n.call(this)}K.prototype.pipe=function(){H(this,new U)};function Z(N,P){var V=new O;H(N,V),process.nextTick(P,V)}function se(N,P,V,Q){var ge;return V===null?ge=new R:typeof V!="string"&&!P.objectMode&&(ge=new m("chunk",["string","Buffer"],V)),ge?(H(N,ge),process.nextTick(Q,ge),!1):!0}K.prototype.write=function(N,P,V){var Q=this._writableState,ge=!1,M=!Q.objectMode&&a(N);return M&&!i.isBuffer(N)&&(N=o(N)),typeof P=="function"&&(V=P,P=null),M?P="buffer":P||(P=Q.defaultEncoding),typeof V!="function"&&(V=j),Q.ending?Z(this,V):(M||se(this,Q,N,V))&&(Q.pendingcb++,ge=oe(this,Q,M,N,P,V)),ge},K.prototype.cork=function(){this._writableState.corked++},K.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,!N.writing&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&T(this,N))},K.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new $(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(K.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ne(N,P,V){return!N.objectMode&&N.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,V)),P}Object.defineProperty(K.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function oe(N,P,V,Q,ge,M){if(!V){var C=ne(P,Q,ge);Q!==C&&(V=!0,ge="buffer",Q=C)}var q=P.objectMode?1:Q.length;P.length+=q;var J=P.length<P.highWaterMark;if(J||(P.needDrain=!0),P.writing||P.corked){var fe=P.lastBufferedRequest;P.lastBufferedRequest={chunk:Q,encoding:ge,isBuf:V,callback:M,next:null},fe?fe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else w(N,P,!1,q,Q,ge,M);return J}function w(N,P,V,Q,ge,M,C){P.writelen=Q,P.writecb=C,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new F("write")):V?N._writev(ge,P.onwrite):N._write(ge,M,P.onwrite),P.sync=!1}function u(N,P,V,Q,ge){--P.pendingcb,V?(process.nextTick(ge,Q),process.nextTick(I,N,P),N._writableState.errorEmitted=!0,H(N,Q)):(ge(Q),N._writableState.errorEmitted=!0,H(N,Q),I(N,P))}function p(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}function v(N,P){var V=N._writableState,Q=V.sync,ge=V.writecb;if(typeof ge!="function")throw new k;if(p(V),P)u(N,V,Q,P,ge);else{var M=L(V)||N.destroyed;!M&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&T(N,V),Q?process.nextTick(E,N,V,M,ge):E(N,V,M,ge)}}function E(N,P,V,Q){V||S(N,P),P.pendingcb--,Q(),I(N,P)}function S(N,P){P.length===0&&P.needDrain&&(P.needDrain=!1,N.emit("drain"))}function T(N,P){P.bufferProcessing=!0;var V=P.bufferedRequest;if(N._writev&&V&&V.next){var Q=P.bufferedRequestCount,ge=new Array(Q),M=P.corkedRequestsFree;M.entry=V;for(var C=0,q=!0;V;)ge[C]=V,V.isBuf||(q=!1),V=V.next,C+=1;ge.allBuffers=q,w(N,P,!0,P.length,ge,"",M.finish),P.pendingcb++,P.lastBufferedRequest=null,M.next?(P.corkedRequestsFree=M.next,M.next=null):P.corkedRequestsFree=new t(P),P.bufferedRequestCount=0}else{for(;V;){var J=V.chunk,fe=V.encoding,ye=V.callback,ae=P.objectMode?1:J.length;if(w(N,P,!1,ae,J,fe,ye),V=V.next,P.bufferedRequestCount--,P.writing)break}V===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=V,P.bufferProcessing=!1}K.prototype._write=function(N,P,V){V(new A("_write()"))},K.prototype._writev=null,K.prototype.end=function(N,P,V){var Q=this._writableState;return typeof N=="function"?(V=N,N=null,P=null):typeof P=="function"&&(V=P,P=null),N!=null&&this.write(N,P),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||Y(this,Q,V),this},Object.defineProperty(K.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function L(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function _(N,P){N._final(function(V){P.pendingcb--,V&&H(N,V),P.prefinished=!0,N.emit("prefinish"),I(N,P)})}function d(N,P){!P.prefinished&&!P.finalCalled&&(typeof N._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,process.nextTick(_,N,P)):(P.prefinished=!0,N.emit("prefinish")))}function I(N,P){var V=L(P);if(V&&(d(N,P),P.pendingcb===0&&(P.finished=!0,N.emit("finish"),P.autoDestroy))){var Q=N._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&N.destroy()}return V}function Y(N,P,V){P.ending=!0,I(N,P),V&&(P.finished?process.nextTick(V):N.once("finish",V)),P.ended=!0,N.writable=!1}function X(N,P,V){var Q=N.entry;for(N.entry=null;Q;){var ge=Q.callback;P.pendingcb--,ge(V),Q=Q.next}P.corkedRequestsFree.next=N}return Object.defineProperty(K.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),K.prototype.destroy=c.destroy,K.prototype._undestroy=c.undestroy,K.prototype._destroy=function(N,P){P(N)},xa}var Ma,xl;function si(){if(xl)return Ma;xl=1;var t=Object.keys||function(f){var g=[];for(var y in f)g.push(y);return g};Ma=o;var e=Yh(),r=Zh();er(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(f){if(!(this instanceof o))return new o(f);e.call(this,f),r.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),Ma}var Ca={},Ml;function Cl(){if(Ml)return Ca;Ml=1;var t=jr.Buffer,e=t.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(R){if(!R)return"utf8";for(var O;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(O)return;R=(""+R).toLowerCase(),O=!0}}function n(R){var O=r(R);if(typeof O!="string"&&(t.isEncoding===e||!e(R)))throw new Error("Unknown encoding: "+R);return O||R}Ca.StringDecoder=i;function i(R){this.encoding=n(R);var O;switch(this.encoding){case"utf16le":this.text=y,this.end=m,O=4;break;case"utf8":this.fillLast=c,O=4;break;case"base64":this.text=A,this.end=k,O=3;break;default:this.write=U,this.end=F;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}i.prototype.write=function(R){if(R.length===0)return"";var O,$;if(this.lastNeed){if(O=this.fillLast(R),O===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<R.length?O?O+this.text(R,$):this.text(R,$):O||""},i.prototype.end=g,i.prototype.text=f,i.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function s(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function o(R,O,$){var H=O.length-1;if(H<$)return 0;var j=s(O[H]);return j>=0?(j>0&&(R.lastNeed=j-1),j):--H<$||j===-2?0:(j=s(O[H]),j>=0?(j>0&&(R.lastNeed=j-2),j):--H<$||j===-2?0:(j=s(O[H]),j>=0?(j>0&&(j===2?j=0:R.lastNeed=j-3),j):0))}function a(R,O,$){if((O[0]&192)!==128)return R.lastNeed=0,"";if(R.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return R.lastNeed=1,"";if(R.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return R.lastNeed=2,""}}function c(R){var O=this.lastTotal-this.lastNeed,$=a(this,R);if($!==void 0)return $;if(this.lastNeed<=R.length)return R.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,O,0,R.length),this.lastNeed-=R.length}function f(R,O){var $=o(this,R,O);if(!this.lastNeed)return R.toString("utf8",O);this.lastTotal=$;var H=R.length-($-this.lastNeed);return R.copy(this.lastChar,0,H),R.toString("utf8",O,H)}function g(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+"":O}function y(R,O){if((R.length-O)%2===0){var $=R.toString("utf16le",O);if($){var H=$.charCodeAt($.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",O,R.length-1)}function m(R){var O=R&&R.length?this.write(R):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,$)}return O}function A(R,O){var $=(R.length-O)%3;return $===0?R.toString("base64",O):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",O,R.length-$))}function k(R){var O=R&&R.length?this.write(R):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function U(R){return R.toString(this.encoding)}function F(R){return R&&R.length?this.write(R):""}return Ca}var Il=Mn.codes.ERR_STREAM_PREMATURE_CLOSE;function bv(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function vv(){}function mv(t){return t.setHeader&&typeof t.abort=="function"}function Qh(t,e,r){if(typeof e=="function")return Qh(t,null,e);e||(e={}),r=bv(r||vv);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,f=function(){n=!1,c=!0,i||r.call(t)},g=function(k){r.call(t,k)},y=function(){var k;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(k=new Il),r.call(t,k);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(k=new Il),r.call(t,k)},m=function(){t.req.on("finish",a)};return mv(t)?(t.on("complete",a),t.on("abort",y),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",f),t.on("finish",a),e.error!==!1&&t.on("error",g),t.on("close",y),function(){t.removeListener("complete",a),t.removeListener("abort",y),t.removeListener("request",m),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",f),t.removeListener("error",g),t.removeListener("close",y)}}var Hu=Qh,Ia,Rl;function wv(){if(Rl)return Ia;Rl=1;var t;function e($,H,j){return H=r(H),H in $?Object.defineProperty($,H,{value:j,enumerable:!0,configurable:!0,writable:!0}):$[H]=j,$}function r($){var H=n($,"string");return typeof H=="symbol"?H:String(H)}function n($,H){if(typeof $!="object"||$===null)return $;var j=$[Symbol.toPrimitive];if(j!==void 0){var z=j.call($,H||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)($)}var i=Hu,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function m($,H){return{value:$,done:H}}function A($){var H=$[s];if(H!==null){var j=$[y].read();j!==null&&($[f]=null,$[s]=null,$[o]=null,H(m(j,!1)))}}function k($){process.nextTick(A,$)}function U($,H){return function(j,z){$.then(function(){if(H[c]){j(m(void 0,!0));return}H[g](j,z)},z)}}var F=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var H=this,j=this[a];if(j!==null)return Promise.reject(j);if(this[c])return Promise.resolve(m(void 0,!0));if(this[y].destroyed)return new Promise(function(Z,se){process.nextTick(function(){H[a]?se(H[a]):Z(m(void 0,!0))})});var z=this[f],ee;if(z)ee=new Promise(U(z,this));else{var K=this[y].read();if(K!==null)return Promise.resolve(m(K,!1));ee=new Promise(this[g])}return this[f]=ee,ee}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var H=this;return new Promise(function(j,z){H[y].destroy(null,function(ee){if(ee){z(ee);return}j(m(void 0,!0))})})}),t),F),O=function(H){var j,z=Object.create(R,(j={},e(j,y,{value:H,writable:!0}),e(j,s,{value:null,writable:!0}),e(j,o,{value:null,writable:!0}),e(j,a,{value:null,writable:!0}),e(j,c,{value:H._readableState.endEmitted,writable:!0}),e(j,g,{value:function(K,Z){var se=z[y].read();se?(z[f]=null,z[s]=null,z[o]=null,K(m(se,!1))):(z[s]=K,z[o]=Z)},writable:!0}),j));return z[f]=null,i(H,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=z[o];K!==null&&(z[f]=null,z[s]=null,z[o]=null,K(ee)),z[a]=ee;return}var Z=z[s];Z!==null&&(z[f]=null,z[s]=null,z[o]=null,Z(m(void 0,!0))),z[c]=!0}),H.on("readable",k.bind(null,z)),z};return Ia=O,Ia}var Ra,Al;function _v(){return Al||(Al=1,Ra=function(){throw new Error("Readable.from is not available in the browser")}),Ra}var Aa,Tl;function Yh(){if(Tl)return Aa;Tl=1,Aa=Z;var t;Z.ReadableState=K,Iu.EventEmitter;var e=function(C,q){return C.listeners(q).length},r=zh,n=Yi.Buffer,i=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(M){return n.from(M)}function o(M){return n.isBuffer(M)||M instanceof i}var a=eo,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var f=iv(),g=qh,y=Jh,m=y.getHighWaterMark,A=Mn.codes,k=A.ERR_INVALID_ARG_TYPE,U=A.ERR_STREAM_PUSH_AFTER_EOF,F=A.ERR_METHOD_NOT_IMPLEMENTED,R=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,$,H;er(Z,r);var j=g.errorOrDestroy,z=["error","close","destroy","pause","resume"];function ee(M,C,q){if(typeof M.prependListener=="function")return M.prependListener(C,q);!M._events||!M._events[C]?M.on(C,q):Array.isArray(M._events[C])?M._events[C].unshift(q):M._events[C]=[q,M._events[C]]}function K(M,C,q){t=t||si(),M=M||{},typeof q!="boolean"&&(q=C instanceof t),this.objectMode=!!M.objectMode,q&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=m(this,M,"readableHighWaterMark",q),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(O||(O=Cl().StringDecoder),this.decoder=new O(M.encoding),this.encoding=M.encoding)}function Z(M){if(t=t||si(),!(this instanceof Z))return new Z(M);var C=this instanceof t;this._readableState=new K(M,this,C),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(Z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),Z.prototype.destroy=g.destroy,Z.prototype._undestroy=g.undestroy,Z.prototype._destroy=function(M,C){C(M)},Z.prototype.push=function(M,C){var q=this._readableState,J;return q.objectMode?J=!0:typeof M=="string"&&(C=C||q.defaultEncoding,C!==q.encoding&&(M=n.from(M,C),C=""),J=!0),se(this,M,C,!1,J)},Z.prototype.unshift=function(M){return se(this,M,null,!0,!1)};function se(M,C,q,J,fe){c("readableAddChunk",C);var ye=M._readableState;if(C===null)ye.reading=!1,v(M,ye);else{var ae;if(fe||(ae=oe(ye,C)),ae)j(M,ae);else if(ye.objectMode||C&&C.length>0)if(typeof C!="string"&&!ye.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=s(C)),J)ye.endEmitted?j(M,new R):ne(M,ye,C,!0);else if(ye.ended)j(M,new U);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!q?(C=ye.decoder.write(C),ye.objectMode||C.length!==0?ne(M,ye,C,!1):T(M,ye)):ne(M,ye,C,!1)}else J||(ye.reading=!1,T(M,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function ne(M,C,q,J){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,M.emit("data",q)):(C.length+=C.objectMode?1:q.length,J?C.buffer.unshift(q):C.buffer.push(q),C.needReadable&&E(M)),T(M,C)}function oe(M,C){var q;return!o(C)&&typeof C!="string"&&C!==void 0&&!M.objectMode&&(q=new k("chunk",["string","Buffer","Uint8Array"],C)),q}Z.prototype.isPaused=function(){return this._readableState.flowing===!1},Z.prototype.setEncoding=function(M){O||(O=Cl().StringDecoder);var C=new O(M);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,J="";q!==null;)J+=C.write(q.data),q=q.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var w=1073741824;function u(M){return M>=w?M=w:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function p(M,C){return M<=0||C.length===0&&C.ended?0:C.objectMode?1:M!==M?C.flowing&&C.length?C.buffer.head.data.length:C.length:(M>C.highWaterMark&&(C.highWaterMark=u(M)),M<=C.length?M:C.ended?C.length:(C.needReadable=!0,0))}Z.prototype.read=function(M){c("read",M),M=parseInt(M,10);var C=this._readableState,q=M;if(M!==0&&(C.emittedReadable=!1),M===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return c("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?V(this):E(this),null;if(M=p(M,C),M===0&&C.ended)return C.length===0&&V(this),null;var J=C.needReadable;c("need readable",J),(C.length===0||C.length-M<C.highWaterMark)&&(J=!0,c("length less than watermark",J)),C.ended||C.reading?(J=!1,c("reading or ended",J)):J&&(c("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(M=p(q,C)));var fe;return M>0?fe=P(M,C):fe=null,fe===null?(C.needReadable=C.length<=C.highWaterMark,M=0):(C.length-=M,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),q!==M&&C.ended&&V(this)),fe!==null&&this.emit("data",fe),fe};function v(M,C){if(c("onEofChunk"),!C.ended){if(C.decoder){var q=C.decoder.end();q&&q.length&&(C.buffer.push(q),C.length+=C.objectMode?1:q.length)}C.ended=!0,C.sync?E(M):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,S(M)))}}function E(M){var C=M._readableState;c("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(c("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(S,M))}function S(M){var C=M._readableState;c("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(M.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,N(M)}function T(M,C){C.readingMore||(C.readingMore=!0,process.nextTick(L,M,C))}function L(M,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var q=C.length;if(c("maybeReadMore read 0"),M.read(0),q===C.length)break}C.readingMore=!1}Z.prototype._read=function(M){j(this,new F("_read()"))},Z.prototype.pipe=function(M,C){var q=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=M;break;case 1:J.pipes=[J.pipes,M];break;default:J.pipes.push(M);break}J.pipesCount+=1,c("pipe count=%d opts=%j",J.pipesCount,C);var fe=(!C||C.end!==!1)&&M!==process.stdout&&M!==process.stderr,ye=fe?Se:Ce;J.endEmitted?process.nextTick(ye):q.once("end",ye),M.on("unpipe",ae);function ae(b,l){c("onunpipe"),b===q&&l&&l.hasUnpiped===!1&&(l.hasUnpiped=!0,Ie())}function Se(){c("onend"),M.end()}var Bt=_(q);M.on("drain",Bt);var Ae=!1;function Ie(){c("cleanup"),M.removeListener("close",Te),M.removeListener("finish",ct),M.removeListener("drain",Bt),M.removeListener("error",Me),M.removeListener("unpipe",ae),q.removeListener("end",Se),q.removeListener("end",Ce),q.removeListener("data",ot),Ae=!0,J.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&Bt()}q.on("data",ot);function ot(b){c("ondata");var l=M.write(b);c("dest.write",l),l===!1&&((J.pipesCount===1&&J.pipes===M||J.pipesCount>1&&ge(J.pipes,M)!==-1)&&!Ae&&(c("false write response, pause",J.awaitDrain),J.awaitDrain++),q.pause())}function Me(b){c("onerror",b),Ce(),M.removeListener("error",Me),e(M,"error")===0&&j(M,b)}ee(M,"error",Me);function Te(){M.removeListener("finish",ct),Ce()}M.once("close",Te);function ct(){c("onfinish"),M.removeListener("close",Te),Ce()}M.once("finish",ct);function Ce(){c("unpipe"),q.unpipe(M)}return M.emit("pipe",q),J.flowing||(c("pipe resume"),q.resume()),M};function _(M){return function(){var q=M._readableState;c("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&e(M,"data")&&(q.flowing=!0,N(M))}}Z.prototype.unpipe=function(M){var C=this._readableState,q={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return M&&M!==C.pipes?this:(M||(M=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,M&&M.emit("unpipe",this,q),this);if(!M){var J=C.pipes,fe=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ye=0;ye<fe;ye++)J[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=ge(C.pipes,M);return ae===-1?this:(C.pipes.splice(ae,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),M.emit("unpipe",this,q),this)},Z.prototype.on=function(M,C){var q=r.prototype.on.call(this,M,C),J=this._readableState;return M==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):M==="readable"&&!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,c("on readable",J.length,J.reading),J.length?E(this):J.reading||process.nextTick(I,this)),q},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(M,C){var q=r.prototype.removeListener.call(this,M,C);return M==="readable"&&process.nextTick(d,this),q},Z.prototype.removeAllListeners=function(M){var C=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&process.nextTick(d,this),C};function d(M){var C=M._readableState;C.readableListening=M.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:M.listenerCount("data")>0&&M.resume()}function I(M){c("readable nexttick read 0"),M.read(0)}Z.prototype.resume=function(){var M=this._readableState;return M.flowing||(c("resume"),M.flowing=!M.readableListening,Y(this,M)),M.paused=!1,this};function Y(M,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(X,M,C))}function X(M,C){c("resume",C.reading),C.reading||M.read(0),C.resumeScheduled=!1,M.emit("resume"),N(M),C.flowing&&!C.reading&&M.read(0)}Z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function N(M){var C=M._readableState;for(c("flow",C.flowing);C.flowing&&M.read()!==null;);}Z.prototype.wrap=function(M){var C=this,q=this._readableState,J=!1;M.on("end",function(){if(c("wrapped end"),q.decoder&&!q.ended){var ae=q.decoder.end();ae&&ae.length&&C.push(ae)}C.push(null)}),M.on("data",function(ae){if(c("wrapped data"),q.decoder&&(ae=q.decoder.write(ae)),!(q.objectMode&&ae==null)&&!(!q.objectMode&&(!ae||!ae.length))){var Se=C.push(ae);Se||(J=!0,M.pause())}});for(var fe in M)this[fe]===void 0&&typeof M[fe]=="function"&&(this[fe]=function(Se){return function(){return M[Se].apply(M,arguments)}}(fe));for(var ye=0;ye<z.length;ye++)M.on(z[ye],this.emit.bind(this,z[ye]));return this._read=function(ae){c("wrapped _read",ae),J&&(J=!1,M.resume())},this},typeof Symbol=="function"&&(Z.prototype[Symbol.asyncIterator]=function(){return $===void 0&&($=wv()),$(this)}),Object.defineProperty(Z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),Z._fromList=P,Object.defineProperty(Z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(M,C){if(C.length===0)return null;var q;return C.objectMode?q=C.buffer.shift():!M||M>=C.length?(C.decoder?q=C.buffer.join(""):C.buffer.length===1?q=C.buffer.first():q=C.buffer.concat(C.length),C.buffer.clear()):q=C.buffer.consume(M,C.decoder),q}function V(M){var C=M._readableState;c("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick(Q,C,M))}function Q(M,C){if(c("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,C.readable=!1,C.emit("end"),M.autoDestroy)){var q=C._writableState;(!q||q.autoDestroy&&q.finished)&&C.destroy()}}typeof Symbol=="function"&&(Z.from=function(M,C){return H===void 0&&(H=_v()),H(Z,M,C)});function ge(M,C){for(var q=0,J=M.length;q<J;q++)if(M[q]===C)return q;return-1}return Aa}var Kh=Er,ho=Mn.codes,Ev=ho.ERR_METHOD_NOT_IMPLEMENTED,Sv=ho.ERR_MULTIPLE_CALLBACK,xv=ho.ERR_TRANSFORM_ALREADY_TRANSFORMING,Mv=ho.ERR_TRANSFORM_WITH_LENGTH_0,po=si();er(Er,po);function Cv(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Sv);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Er(t){if(!(this instanceof Er))return new Er(t);po.call(this,t),this._transformState={afterTransform:Cv.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Iv)}function Iv(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){kl(t,e,r)}):kl(this,null,null)}Er.prototype.push=function(t,e){return this._transformState.needTransform=!1,po.prototype.push.call(this,t,e)};Er.prototype._transform=function(t,e,r){r(new Ev("_transform()"))};Er.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Er.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Er.prototype._destroy=function(t,e){po.prototype._destroy.call(this,t,function(r){e(r)})};function kl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Mv;if(t._transformState.transforming)throw new xv;return t.push(null)}var Rv=zi,Xh=Kh;er(zi,Xh);function zi(t){if(!(this instanceof zi))return new zi(t);Xh.call(this,t)}zi.prototype._transform=function(t,e,r){r(null,t)};var Ta;function Av(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ed=Mn.codes,Tv=ed.ERR_MISSING_ARGS,kv=ed.ERR_STREAM_DESTROYED;function Nl(t){if(t)throw t}function Nv(t){return t.setHeader&&typeof t.abort=="function"}function Ov(t,e,r,n){n=Av(n);var i=!1;t.on("close",function(){i=!0}),Ta===void 0&&(Ta=Hu),Ta(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Nv(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new kv("pipe"))}}}function Ol(t){t()}function Lv(t,e){return t.pipe(e)}function Bv(t){return!t.length||typeof t[t.length-1]!="function"?Nl:t.pop()}function Pv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Bv(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tv("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,f=a>0;return Ov(o,c,f,function(g){i||(i=g),g&&s.forEach(Ol),!c&&(s.forEach(Ol),n(i))})});return e.reduce(Lv)}var $v=Pv;(function(t,e){e=t.exports=Yh(),e.Stream=e,e.Readable=e,e.Writable=Zh(),e.Duplex=si(),e.Transform=Kh,e.PassThrough=Rv,e.finished=Hu,e.pipeline=$v})(du,du.exports);var td=du.exports;const{Transform:Dv}=td;var Fv=t=>class rd extends Dv{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new rd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:jv}=td;var Uv=t=>class nd extends jv{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new nd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Wv=Fv,Hv=Uv;var Vv=function(t){const e=Wv(t),r=Hv(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},id={};const Ll=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];id.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],g=t[8]^t[18]^t[28]^t[38]^t[48],y=t[9]^t[19]^t[29]^t[39]^t[49];let m=g^(i<<1|s>>>31),A=y^(s<<1|i>>>31);const k=t[0]^m,U=t[1]^A,F=t[10]^m,R=t[11]^A,O=t[20]^m,$=t[21]^A,H=t[30]^m,j=t[31]^A,z=t[40]^m,ee=t[41]^A;m=r^(o<<1|a>>>31),A=n^(a<<1|o>>>31);const K=t[2]^m,Z=t[3]^A,se=t[12]^m,ne=t[13]^A,oe=t[22]^m,w=t[23]^A,u=t[32]^m,p=t[33]^A,v=t[42]^m,E=t[43]^A;m=i^(c<<1|f>>>31),A=s^(f<<1|c>>>31);const S=t[4]^m,T=t[5]^A,L=t[14]^m,_=t[15]^A,d=t[24]^m,I=t[25]^A,Y=t[34]^m,X=t[35]^A,N=t[44]^m,P=t[45]^A;m=o^(g<<1|y>>>31),A=a^(y<<1|g>>>31);const V=t[6]^m,Q=t[7]^A,ge=t[16]^m,M=t[17]^A,C=t[26]^m,q=t[27]^A,J=t[36]^m,fe=t[37]^A,ye=t[46]^m,ae=t[47]^A;m=c^(r<<1|n>>>31),A=f^(n<<1|r>>>31);const Se=t[8]^m,Bt=t[9]^A,Ae=t[18]^m,Ie=t[19]^A,ot=t[28]^m,Me=t[29]^A,Te=t[38]^m,ct=t[39]^A,Ce=t[48]^m,b=t[49]^A,l=k,h=U,x=R<<4|F>>>28,B=F<<4|R>>>28,D=O<<3|$>>>29,W=$<<3|O>>>29,de=j<<9|H>>>23,he=H<<9|j>>>23,ce=z<<18|ee>>>14,ke=ee<<18|z>>>14,ue=K<<1|Z>>>31,Le=Z<<1|K>>>31,An=ne<<12|se>>>20,Be=se<<12|ne>>>20,Pe=oe<<10|w>>>22,Tn=w<<10|oe>>>22,$e=p<<13|u>>>19,De=u<<13|p>>>19,kn=v<<2|E>>>30,Fe=E<<2|v>>>30,je=T<<30|S>>>2,Nn=S<<30|T>>>2,Ue=L<<6|_>>>26,We=_<<6|L>>>26,On=I<<11|d>>>21,He=d<<11|I>>>21,Ve=Y<<15|X>>>17,Ln=X<<15|Y>>>17,ze=P<<29|N>>>3,qe=N<<29|P>>>3,Bn=V<<28|Q>>>4,Ge=Q<<28|V>>>4,Je=M<<23|ge>>>9,Pn=ge<<23|M>>>9,Ze=C<<25|q>>>7,Qe=q<<25|C>>>7,Wr=J<<21|fe>>>11,Hr=fe<<21|J>>>11,Vr=ae<<24|ye>>>8,zr=ye<<24|ae>>>8,qr=Se<<27|Bt>>>5,Gr=Bt<<27|Se>>>5,Jr=Ae<<20|Ie>>>12,Zr=Ie<<20|Ae>>>12,Qr=Me<<7|ot>>>25,Yr=ot<<7|Me>>>25,Kr=Te<<8|ct>>>24,Xr=ct<<8|Te>>>24,en=Ce<<14|b>>>18,tn=b<<14|Ce>>>18;t[0]=l^~An&On,t[1]=h^~Be&He,t[10]=Bn^~Jr&D,t[11]=Ge^~Zr&W,t[20]=ue^~Ue&Ze,t[21]=Le^~We&Qe,t[30]=qr^~x&Pe,t[31]=Gr^~B&Tn,t[40]=je^~Je&Qr,t[41]=Nn^~Pn&Yr,t[2]=An^~On&Wr,t[3]=Be^~He&Hr,t[12]=Jr^~D&$e,t[13]=Zr^~W&De,t[22]=Ue^~Ze&Kr,t[23]=We^~Qe&Xr,t[32]=x^~Pe&Ve,t[33]=B^~Tn&Ln,t[42]=Je^~Qr&de,t[43]=Pn^~Yr&he,t[4]=On^~Wr&en,t[5]=He^~Hr&tn,t[14]=D^~$e&ze,t[15]=W^~De&qe,t[24]=Ze^~Kr&ce,t[25]=Qe^~Xr&ke,t[34]=Pe^~Ve&Vr,t[35]=Tn^~Ln&zr,t[44]=Qr^~de&kn,t[45]=Yr^~he&Fe,t[6]=Wr^~en&l,t[7]=Hr^~tn&h,t[16]=$e^~ze&Bn,t[17]=De^~qe&Ge,t[26]=Kr^~ce&ue,t[27]=Xr^~ke&Le,t[36]=Ve^~Vr&qr,t[37]=Ln^~zr&Gr,t[46]=de^~kn&je,t[47]=he^~Fe&Nn,t[8]=en^~l&An,t[9]=tn^~h&Be,t[18]=ze^~Bn&Jr,t[19]=qe^~Ge&Zr,t[28]=ce^~ue&Ue,t[29]=ke^~Le&We,t[38]=Vr^~qr&x,t[39]=zr^~Gr&B,t[48]=kn^~je&Je,t[49]=Fe^~Nn&Pn,t[0]^=Ll[e*2],t[1]^=Ll[e*2+1]}};const qs=id;function wi(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}wi.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};wi.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(qs.p1600(this.state),this.count=0)};wi.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&qs.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),qs.p1600(this.state),this.count=0,this.squeezing=!0};wi.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(qs.p1600(this.state),this.count=0);return e};wi.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var zv=wi,qv=Vv(zv);const Gv=qv,Jv=io;function sd(t){return Buffer.allocUnsafe(t).fill(0)}function od(t,e,r){const n=sd(e);return t=go(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Zv(t,e){return od(t,e,!0)}function go(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")ad(t)?t=Buffer.from(Kv(ud(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(Jv.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Qv(t){return t=go(t),"0x"+t.toString("hex")}function Yv(t,e){return t=go(t),e||(e=256),Gv("keccak"+e).update(t).digest()}function Kv(t){return t.length%2?"0"+t:t}function ad(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ud(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var cd={zeros:sd,setLength:od,setLengthRight:Zv,isHexString:ad,stripHexPrefix:ud,toBuffer:go,bufferToHex:Qv,keccak:Yv};const yn=cd,fn=io;function ld(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Yn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Bl(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function fd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function an(t){var e=typeof t;if(e==="string")return yn.isHexString(t)?new fn(yn.stripHexPrefix(t),16):new fn(t,10);if(e==="number")return new fn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function ar(t,e){var r,n,i,s;if(t==="address")return ar("uint160",an(e));if(t==="bool")return ar("uint8",e?1:0);if(t==="string")return ar("bytes",new Buffer(e,"utf8"));if(em(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=fd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(ar(t,e[s]));if(r==="dynamic"){var o=ar("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([ar("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,yn.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Yn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return yn.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Yn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=an(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Yn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=an(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Bl(t),n=an(e),n<0)throw new Error("Supplied ufixed is negative");return ar("uint256",n.mul(new fn(2).pow(new fn(r[1]))))}else if(t.startsWith("fixed"))return r=Bl(t),ar("int256",an(e).mul(new fn(2).pow(new fn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Xv(t){return t==="string"||t==="bytes"||fd(t)==="dynamic"}function em(t){return t.lastIndexOf("]")===t.length-1}function tm(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=ld(t[s]),a=e[s],c=ar(o,a);Xv(o)?(r.push(ar("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function hd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=ld(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(yn.setLength(a,20));else if(o.startsWith("bytes")){if(r=Yn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(yn.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Yn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=an(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Yn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=an(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function rm(t,e){return yn.keccak(hd(t,e))}var nm={rawEncode:tm,solidityPack:hd,soliditySHA3:rm};const Qt=cd,ji=nm,dd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ka={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,f)=>{if(r[c]!==void 0)return["bytes32",f==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Qt.keccak(this.encodeData(c,f,r,n))];if(f===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Qt.keccak(f)];if(c==="string")return typeof f=="string"&&(f=Buffer.from(f,"utf8")),["bytes32",Qt.keccak(f)];if(c.lastIndexOf("]")===c.length-1){const g=c.slice(0,c.lastIndexOf("[")),y=f.map(m=>o(a,g,m));return["bytes32",Qt.keccak(ji.rawEncode(y.map(([m])=>m),y.map(([,m])=>m)))]}return[c,f]};for(const a of r[t]){const[c,f]=o(a.name,a.type,e[a.name]);i.push(c),s.push(f)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Qt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Qt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Qt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return ji.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Qt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Qt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in dd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Qt.keccak(Buffer.concat(n))}};var im={TYPED_MESSAGE_SCHEMA:dd,TypedDataUtils:ka,hashForSignTypedDataLegacy:function(t){return sm(t.data)},hashForSignTypedData_v3:function(t){return ka.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ka.hash(t.data)}};function sm(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Qt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return ji.soliditySHA3(["bytes32","bytes32"],[ji.soliditySHA3(new Array(t.length).fill("string"),i),ji.soliditySHA3(n,r)])}var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.filterFromParam=oi.FilterPolyfill=void 0;const qn=ns,xt=re,om=5*60*1e3,un={jsonrpc:"2.0",id:0};class am{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,qn.IntNumber)(1),this.provider=e}async newFilter(e){const r=pd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,xt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,xt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,xt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,xt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(xs())}async getFilterLogs(e){const r=(0,xt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getLogs",params:[Pl(n)]})):xs()}makeFilterId(){return(0,qn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return xs();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Ms();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getLogs",params:[Pl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(f=>(0,xt.intNumberFromHexString)(f.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const f=(0,qn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${f}`),this.cursors.set(e,f)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return xs();const n=await this.getCurrentBlockHeight();if(r>n)return Ms();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,xt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,qn.IntNumber)(o))))).filter(o=>!!o),s=(0,qn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},un),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Ms())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},om);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_blockNumber",params:[]}));return(0,xt.intNumberFromHexString)((0,xt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},un),{method:"eth_getBlockByNumber",params:[(0,xt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,xt.ensureHexString)(r.result.hash):null}}oi.FilterPolyfill=am;function pd(t){return{fromBlock:$l(t.fromBlock),toBlock:$l(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}oi.filterFromParam=pd;function Pl(t){const e={fromBlock:Dl(t.fromBlock),toBlock:Dl(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function $l(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,qn.IntNumber)(0);if((0,xt.isHexString)(t))return(0,xt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Dl(t){return t==="latest"?t:(0,xt.hexStringFromIntNumber)(t)}function xs(){return Object.assign(Object.assign({},un),{error:{code:-32e3,message:"filter not found"}})}function Ms(){return Object.assign(Object.assign({},un),{result:[]})}var gd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(gd);var yo={},yd={},bo={},Vu=um;function um(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Fl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let f=1;f<arguments.length;f++)c[f-1]=arguments[f];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var cm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Fl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Fl(s,e):s}return n},os={},lm=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.BaseBlockTracker=void 0;const fm=lm(_n),hm=1e3,dm=(t,e)=>t+e,jl=["sync","latest"];class pm extends fm.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*hm,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){jl.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return jl.map(e=>this.listenerCount(e)).reduce(dm)}_newPotentialLatest(e){const r=this._currentBlock;r&&Ul(e)<=Ul(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}os.BaseBlockTracker=pm;function Ul(t){return Number.parseInt(t,16)}var bd={},vd={},vt={};class md extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function gm(t){return zt(t)&&typeof t[Symbol.iterator]=="function"}function zt(t){return typeof t=="object"&&t!=null}function Wl(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ut(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function ym(t){const{done:e,value:r}=t.next();return e?void 0:r}function bm(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ut(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*gu(t,e,r,n){gm(t)||(t=[t]);for(const i of t){const s=bm(i,e,r,n);s&&(yield s)}}function*zu(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&zt(e.schema)&&zt(t)&&!Array.isArray(t)))for(const f in t)e.schema[f]===void 0&&delete t[f];let c="valid";for(const f of e.validator(t,a))f.explanation=r.message,c="not_valid",yield[f,void 0];for(let[f,g,y]of e.entries(t,a)){const m=zu(g,y,{path:f===void 0?n:[...n,f],branch:f===void 0?i:[...i,g],coerce:s,mask:o,message:r.message});for(const A of m)A[0]?(c=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):s&&(g=A[1],f===void 0?t=g:t instanceof Map?t.set(f,g):t instanceof Set?t.add(g):zt(t)&&(g!==void 0||f in t)&&(t[f]=g))}if(c!=="not_valid")for(const f of e.refiner(t,a))f.explanation=r.message,c="not_refined",yield[f,void 0];c==="valid"&&(yield[void 0,t])}class it{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,f)=>{const g=i(c,f);return gu(g,f,this,c)}:this.validator=()=>[],s?this.refiner=(c,f)=>{const g=s(c,f);return gu(g,f,this,c)}:this.refiner=()=>[]}assert(e,r){return wd(e,this,r)}create(e,r){return _d(e,this,r)}is(e){return qu(e,this)}mask(e,r){return Ed(e,this,r)}validate(e,r={}){return _i(e,this,r)}}function wd(t,e,r){const n=_i(t,e,{message:r});if(n[0])throw n[0]}function _d(t,e,r){const n=_i(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Ed(t,e,r){const n=_i(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function qu(t,e){return!_i(t,e)[0]}function _i(t,e,r={}){const n=zu(t,e,r),i=ym(n);return i[0]?[new md(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function vm(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Ju(n):as(n)}function Tt(t,e){return new it({type:t,schema:null,validator:e})}function mm(t,e){return new it({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function wm(t){return new it({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function _m(t){let e;return new it({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Em(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Ju(n);default:return as(n)}}function Sm(t){const e=t instanceof it?{...t.schema}:{...t};for(const r in e)e[r]=Sd(e[r]);return as(e)}function xm(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return as(n)}function Mm(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Tt(t,e)}function Cm(){return Tt("any",()=>!0)}function Im(t){return new it({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ut(e)}`}})}function Rm(){return Tt("bigint",t=>typeof t=="bigint")}function Am(){return Tt("boolean",t=>typeof t=="boolean")}function Tm(){return Tt("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${ut(t)}`)}function km(t){const e={},r=t.map(n=>ut(n)).join();for(const n of t)e[n]=n;return new it({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${ut(n)}`}})}function Nm(){return Tt("func",t=>typeof t=="function"||`Expected a function, but received: ${ut(t)}`)}function Om(t){return Tt("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ut(e)}`)}function Lm(){return Tt("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${ut(t)}`)}function Bm(t){return new it({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Pm(t){const e=ut(t),r=typeof t;return new it({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ut(n)}`}})}function $m(t,e){return new it({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${ut(r)}`}})}function Gu(){return Tt("never",()=>!1)}function Dm(t){return new it({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function Fm(){return Tt("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ut(t)}`)}function as(t){const e=t?Object.keys(t):[],r=Gu();return new it({type:"object",schema:t||null,*entries(n){if(t&&zt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return zt(n)||`Expected an object, but received: ${ut(n)}`},coercer(n){return zt(n)?{...n}:n}})}function Sd(t){return new it({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function jm(t,e){return new it({type:"record",schema:null,*entries(r){if(zt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return zt(r)||`Expected an object, but received: ${ut(r)}`}})}function Um(){return Tt("regexp",t=>t instanceof RegExp)}function Wm(t){return new it({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${ut(e)}`}})}function xd(){return Tt("string",t=>typeof t=="string"||`Expected a string, but received: ${ut(t)}`)}function Hm(t){const e=Gu();return new it({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ut(r)}`}})}function Ju(t){const e=Object.keys(t);return new it({type:"type",schema:t,*entries(r){if(zt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return zt(r)||`Expected an object, but received: ${ut(r)}`},coercer(r){return zt(r)?{...r}:r}})}function Vm(t){const e=t.map(r=>r.type).join(" | ");return new it({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=zu(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ut(r)}`,...i]}})}function Md(){return Tt("unknown",()=>!0)}function Zu(t,e,r){return new it({...t,coercer:(n,i)=>qu(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function zm(t,e,r={}){return Zu(t,Md(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Wl(n)&&Wl(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function qm(t){return Zu(t,xd(),e=>e.trim())}function Gm(t){return Cn(t,"empty",e=>{const r=Cd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Cd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function Jm(t,e,r={}){const{exclusive:n}=r;return Cn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Zm(t,e,r={}){const{exclusive:n}=r;return Cn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Qm(t){return Cn(t,"nonempty",e=>Cd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Ym(t,e){return Cn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Km(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Cn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Cn(t,e,r){return new it({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=gu(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const Xm=Object.freeze(Object.defineProperty({__proto__:null,Struct:it,StructError:md,any:Cm,array:Im,assert:wd,assign:vm,bigint:Rm,boolean:Am,coerce:Zu,create:_d,date:Tm,defaulted:zm,define:Tt,deprecated:mm,dynamic:wm,empty:Gm,enums:km,func:Nm,instance:Om,integer:Lm,intersection:Bm,is:qu,lazy:_m,literal:Pm,map:$m,mask:Ed,max:Jm,min:Zm,never:Gu,nonempty:Qm,nullable:Dm,number:Fm,object:as,omit:Em,optional:Sd,partial:Sm,pattern:Ym,pick:xm,record:jm,refine:Cn,regexp:Um,set:Wm,size:Km,string:xd,struct:Mm,trimmed:qm,tuple:Hm,type:Ju,union:Vm,unknown:Md,validate:_i},Symbol.toStringTag,{value:"Module"})),In=wn(Xm);Object.defineProperty(vt,"__esModule",{value:!0});vt.assertExhaustive=vt.assertStruct=vt.assert=vt.AssertionError=void 0;const e1=In;function t1(t){return typeof t=="object"&&t!==null&&"message"in t}function r1(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function n1(t){const e=t1(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Id(t,e){return r1(t)?new t({message:e}):t({message:e})}class Qu extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}vt.AssertionError=Qu;function i1(t,e="Assertion failed.",r=Qu){if(!t)throw e instanceof Error?e:Id(r,e)}vt.assert=i1;function s1(t,e,r="Assertion failed",n=Qu){try{(0,e1.assert)(t,e)}catch(i){throw Id(n,`${r}: ${n1(i)}.`)}}vt.assertStruct=s1;function o1(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}vt.assertExhaustive=o1;var us={};Object.defineProperty(us,"__esModule",{value:!0});us.base64=void 0;const a1=In,u1=vt,c1=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,u1.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,a1.pattern)(t,a)};us.base64=c1;var Ee={},cs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=In,r=vt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(f){return(0,e.is)(f,t.HexStruct)}t.isHexString=n;function i(f){return(0,e.is)(f,t.StrictHexStruct)}t.isStrictHexString=i;function s(f){(0,r.assert)(n(f),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(f){(0,r.assert)(i(f),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(f){return f.startsWith("0x")?f:f.startsWith("0X")?`0x${f.substring(2)}`:`0x${f}`}t.add0x=a;function c(f){return f.startsWith("0x")||f.startsWith("0X")?f.substring(2):f}t.remove0x=c})(cs);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createDataView=Ee.concatBytes=Ee.valueToBytes=Ee.stringToBytes=Ee.numberToBytes=Ee.signedBigIntToBytes=Ee.bigIntToBytes=Ee.hexToBytes=Ee.bytesToString=Ee.bytesToNumber=Ee.bytesToSignedBigInt=Ee.bytesToBigInt=Ee.bytesToHex=Ee.assertIsBytes=Ee.isBytes=void 0;const Nt=vt,yu=cs,Hl=48,Vl=58,zl=87;function l1(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const f1=l1();function Yu(t){return t instanceof Uint8Array}Ee.isBytes=Yu;function Ei(t){(0,Nt.assert)(Yu(t),"Value must be a Uint8Array.")}Ee.assertIsBytes=Ei;function Rd(t){if(Ei(t),t.length===0)return"0x";const e=f1(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,yu.add0x)(r.join(""))}Ee.bytesToHex=Rd;function Ad(t){Ei(t);const e=Rd(t);return BigInt(e)}Ee.bytesToBigInt=Ad;function h1(t){Ei(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}Ee.bytesToSignedBigInt=h1;function d1(t){Ei(t);const e=Ad(t);return(0,Nt.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}Ee.bytesToNumber=d1;function p1(t){return Ei(t),new TextDecoder().decode(t)}Ee.bytesToString=p1;function vo(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,yu.assertIsHexString)(t);const r=(0,yu.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Vl?Hl:zl),f=a-(a<Vl?Hl:zl);i[s]=c*16+f}return i}Ee.hexToBytes=vo;function Td(t){(0,Nt.assert)(typeof t=="bigint","Value must be a bigint."),(0,Nt.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return vo(e)}Ee.bigIntToBytes=Td;function g1(t,e){(0,Nt.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function y1(t,e){(0,Nt.assert)(typeof t=="bigint","Value must be a bigint."),(0,Nt.assert)(typeof e=="number","Byte length must be a number."),(0,Nt.assert)(e>0,"Byte length must be greater than 0."),(0,Nt.assert)(g1(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Ee.signedBigIntToBytes=y1;function kd(t){(0,Nt.assert)(typeof t=="number","Value must be a number."),(0,Nt.assert)(t>=0,"Value must be a non-negative number."),(0,Nt.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return vo(e)}Ee.numberToBytes=kd;function Nd(t){return(0,Nt.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}Ee.stringToBytes=Nd;function Od(t){if(typeof t=="bigint")return Td(t);if(typeof t=="number")return kd(t);if(typeof t=="string")return t.startsWith("0x")?vo(t):Nd(t);if(Yu(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}Ee.valueToBytes=Od;function b1(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Od(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}Ee.concatBytes=b1;function v1(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}Ee.createDataView=v1;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.ChecksumStruct=void 0;const ql=In,m1=us;mo.ChecksumStruct=(0,ql.size)((0,m1.base64)((0,ql.string)(),{paddingRequired:!0}),44,44);var hr={};Object.defineProperty(hr,"__esModule",{value:!0});hr.createHex=hr.createBytes=hr.createBigInt=hr.createNumber=void 0;const Xe=In,w1=vt,Ld=Ee,wo=cs,Bd=(0,Xe.union)([(0,Xe.number)(),(0,Xe.bigint)(),(0,Xe.string)(),wo.StrictHexStruct]),_1=(0,Xe.coerce)((0,Xe.number)(),Bd,Number),E1=(0,Xe.coerce)((0,Xe.bigint)(),Bd,BigInt);(0,Xe.union)([wo.StrictHexStruct,(0,Xe.instance)(Uint8Array)]);const S1=(0,Xe.coerce)((0,Xe.instance)(Uint8Array),(0,Xe.union)([wo.StrictHexStruct]),Ld.hexToBytes),x1=(0,Xe.coerce)(wo.StrictHexStruct,(0,Xe.instance)(Uint8Array),Ld.bytesToHex);function M1(t){try{const e=(0,Xe.create)(t,_1);return(0,w1.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}hr.createNumber=M1;function C1(t){try{return(0,Xe.create)(t,E1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}hr.createBigInt=C1;function I1(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Xe.create)(t,S1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createBytes=I1;function R1(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Xe.create)(t,x1)}catch(e){throw e instanceof Xe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}hr.createHex=R1;var ai={},Pd=te&&te.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Mt=te&&te.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Jt,ir;Object.defineProperty(ai,"__esModule",{value:!0});ai.FrozenSet=ai.FrozenMap=void 0;class Ku{constructor(e){Jt.set(this,void 0),Pd(this,Jt,new Map(e),"f"),Object.freeze(this)}get size(){return Mt(this,Jt,"f").size}[(Jt=new WeakMap,Symbol.iterator)](){return Mt(this,Jt,"f")[Symbol.iterator]()}entries(){return Mt(this,Jt,"f").entries()}forEach(e,r){return Mt(this,Jt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Mt(this,Jt,"f").get(e)}has(e){return Mt(this,Jt,"f").has(e)}keys(){return Mt(this,Jt,"f").keys()}values(){return Mt(this,Jt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}ai.FrozenMap=Ku;class Xu{constructor(e){ir.set(this,void 0),Pd(this,ir,new Set(e),"f"),Object.freeze(this)}get size(){return Mt(this,ir,"f").size}[(ir=new WeakMap,Symbol.iterator)](){return Mt(this,ir,"f")[Symbol.iterator]()}entries(){return Mt(this,ir,"f").entries()}forEach(e,r){return Mt(this,ir,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Mt(this,ir,"f").has(e)}keys(){return Mt(this,ir,"f").keys()}values(){return Mt(this,ir,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}ai.FrozenSet=Xu;Object.freeze(Ku);Object.freeze(Ku.prototype);Object.freeze(Xu);Object.freeze(Xu.prototype);var $d={},ec={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(f){return Array.isArray(f)&&f.length>0}t.isNonEmptyArray=e;function r(f){return f==null}t.isNullOrUndefined=r;function n(f){return!!f&&typeof f=="object"&&!Array.isArray(f)}t.isObject=n;const i=(f,g)=>Object.hasOwnProperty.call(f,g);t.hasProperty=i,function(f){f[f.Null=4]="Null",f[f.Comma=1]="Comma",f[f.Wrapper=1]="Wrapper",f[f.True=4]="True",f[f.False=5]="False",f[f.Quote=1]="Quote",f[f.Colon=1]="Colon",f[f.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(f){if(typeof f!="object"||f===null)return!1;try{let g=f;for(;Object.getPrototypeOf(g)!==null;)g=Object.getPrototypeOf(g);return Object.getPrototypeOf(f)===g}catch{return!1}}t.isPlainObject=s;function o(f){return f.charCodeAt(0)<=127}t.isASCII=o;function a(f){var g;return f.split("").reduce((m,A)=>o(A)?m+1:m+2,0)+((g=f.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&g!==void 0?g:[]).length}t.calculateStringSize=a;function c(f){return f.toString().length}t.calculateNumberSize=c})(ec);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=In,r=vt,n=ec;t.JsonStruct=(0,e.define)("Json",j=>{const[z]=H(j,!0);return z?!0:"Expected a valid JSON-serializable value"});function i(j){return(0,e.is)(j,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(j){return(0,e.is)(j,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(j,z){(0,r.assertStruct)(j,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",z)}t.assertIsJsonRpcNotification=o;function a(j){return(0,e.is)(j,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(j,z){(0,r.assertStruct)(j,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",z)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function f(j){return(0,e.is)(j,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=f;function g(j,z){(0,r.assertStruct)(j,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",z)}t.assertIsPendingJsonRpcResponse=g;function y(j){return(0,e.is)(j,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=y;function m(j,z){(0,r.assertStruct)(j,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",z)}t.assertIsJsonRpcResponse=m;function A(j){return(0,e.is)(j,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=A;function k(j,z){(0,r.assertStruct)(j,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",z)}t.assertIsJsonRpcSuccess=k;function U(j){return(0,e.is)(j,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=U;function F(j,z){(0,r.assertStruct)(j,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",z)}t.assertIsJsonRpcFailure=F;function R(j){return(0,e.is)(j,t.JsonRpcErrorStruct)}t.isJsonRpcError=R;function O(j,z){(0,r.assertStruct)(j,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",z)}t.assertIsJsonRpcError=O;function $(j){const{permitEmptyString:z,permitFractions:ee,permitNull:K}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},j);return se=>!!(typeof se=="number"&&(ee||Number.isInteger(se))||typeof se=="string"&&(z||se.length>0)||K&&se===null)}t.getJsonRpcIdValidator=$;function H(j,z=!1){const ee=new Set;function K(Z,se){if(Z===void 0)return[!1,0];if(Z===null)return[!0,se?0:n.JsonSize.Null];const ne=typeof Z;try{if(ne==="function")return[!1,0];if(ne==="string"||Z instanceof String)return[!0,se?0:(0,n.calculateStringSize)(Z)+n.JsonSize.Quote*2];if(ne==="boolean"||Z instanceof Boolean)return se?[!0,0]:[!0,Z==!0?n.JsonSize.True:n.JsonSize.False];if(ne==="number"||Z instanceof Number)return se?[!0,0]:[!0,(0,n.calculateNumberSize)(Z)];if(Z instanceof Date)return se?[!0,0]:[!0,isNaN(Z.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(Z)&&!Array.isArray(Z))return[!1,0];if(ee.has(Z))return[!1,0];ee.add(Z);try{return[!0,Object.entries(Z).reduce((oe,[w,u],p,v)=>{let[E,S]=K(u,se);if(!E)throw new Error("JSON validation did not pass. Validation process stopped.");if(ee.delete(Z),se)return 0;const T=Array.isArray(Z)?0:w.length+n.JsonSize.Comma+n.JsonSize.Colon*2,L=p<v.length-1?n.JsonSize.Comma:0;return oe+T+S+L},se?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return K(j,z)}t.validateJsonAndGetSize=H})($d);var ui={},bu={exports:{}},Na,Gl;function A1(){if(Gl)return Na;Gl=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Na=function(g,y){y=y||{};var m=typeof g;if(m==="string"&&g.length>0)return o(g);if(m==="number"&&isFinite(g))return y.long?c(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function o(g){if(g=String(g),!(g.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(y){var m=parseFloat(y[1]),A=(y[2]||"ms").toLowerCase();switch(A){case"years":case"year":case"yrs":case"yr":case"y":return m*s;case"weeks":case"week":case"w":return m*i;case"days":case"day":case"d":return m*n;case"hours":case"hour":case"hrs":case"hr":case"h":return m*r;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function a(g){var y=Math.abs(g);return y>=n?Math.round(g/n)+"d":y>=r?Math.round(g/r)+"h":y>=e?Math.round(g/e)+"m":y>=t?Math.round(g/t)+"s":g+"ms"}function c(g){var y=Math.abs(g);return y>=n?f(g,y,n,"day"):y>=r?f(g,y,r,"hour"):y>=e?f(g,y,e,"minute"):y>=t?f(g,y,t,"second"):g+" ms"}function f(g,y,m,A){var k=y>=m*1.5;return Math.round(g/m)+" "+A+(k?"s":"")}return Na}function T1(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=A1(),r.destroy=f,Object.keys(t).forEach(g=>{r[g]=t[g]}),r.names=[],r.skips=[],r.formatters={};function e(g){let y=0;for(let m=0;m<g.length;m++)y=(y<<5)-y+g.charCodeAt(m),y|=0;return r.colors[Math.abs(y)%r.colors.length]}r.selectColor=e;function r(g){let y,m=null,A,k;function U(...F){if(!U.enabled)return;const R=U,O=Number(new Date),$=O-(y||O);R.diff=$,R.prev=y,R.curr=O,y=O,F[0]=r.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let H=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(z,ee)=>{if(z==="%%")return"%";H++;const K=r.formatters[ee];if(typeof K=="function"){const Z=F[H];z=K.call(R,Z),F.splice(H,1),H--}return z}),r.formatArgs.call(R,F),(R.log||r.log).apply(R,F)}return U.namespace=g,U.useColors=r.useColors(),U.color=r.selectColor(g),U.extend=n,U.destroy=r.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(A!==r.namespaces&&(A=r.namespaces,k=r.enabled(g)),k),set:F=>{m=F}}),typeof r.init=="function"&&r.init(U),U}function n(g,y){const m=r(this.namespace+(typeof y>"u"?":":y)+g);return m.log=this.log,m}function i(g){r.save(g),r.namespaces=g,r.names=[],r.skips=[];let y;const m=(typeof g=="string"?g:"").split(/[\s,]+/),A=m.length;for(y=0;y<A;y++)m[y]&&(g=m[y].replace(/\*/g,".*?"),g[0]==="-"?r.skips.push(new RegExp("^"+g.slice(1)+"$")):r.names.push(new RegExp("^"+g+"$")))}function s(){const g=[...r.names.map(a),...r.skips.map(a).map(y=>"-"+y)].join(",");return r.enable(""),g}function o(g){if(g[g.length-1]==="*")return!0;let y,m;for(y=0,m=r.skips.length;y<m;y++)if(r.skips[y].test(g))return!1;for(y=0,m=r.names.length;y<m;y++)if(r.names[y].test(g))return!0;return!1}function a(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function c(g){return g instanceof Error?g.stack||g.message:g}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var k1=T1;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;c.splice(1,0,f,"color: inherit");let g=0,y=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(g++,m==="%c"&&(y=g))}),c.splice(y,0,f)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=k1(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(bu,bu.exports);var N1=bu.exports,O1=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ui,"__esModule",{value:!0});ui.createModuleLogger=ui.createProjectLogger=void 0;const L1=O1(N1),B1=(0,L1.default)("metamask");function P1(t){return B1.extend(t)}ui.createProjectLogger=P1;function $1(t,e){return t.extend(e)}ui.createModuleLogger=$1;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.hexToBigInt=dr.hexToNumber=dr.bigIntToHex=dr.numberToHex=void 0;const Kn=vt,qi=cs,D1=t=>((0,Kn.assert)(typeof t=="number","Value must be a number."),(0,Kn.assert)(t>=0,"Value must be a non-negative number."),(0,Kn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,qi.add0x)(t.toString(16)));dr.numberToHex=D1;const F1=t=>((0,Kn.assert)(typeof t=="bigint","Value must be a bigint."),(0,Kn.assert)(t>=0,"Value must be a non-negative bigint."),(0,qi.add0x)(t.toString(16)));dr.bigIntToHex=F1;const j1=t=>{(0,qi.assertIsHexString)(t);const e=parseInt(t,16);return(0,Kn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};dr.hexToNumber=j1;const U1=t=>((0,qi.assertIsHexString)(t),BigInt((0,qi.add0x)(t)));dr.hexToBigInt=U1;var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});var Fd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Fd);var jd={},vu={exports:{}};const W1="2.0.0",Ud=256,H1=Number.MAX_SAFE_INTEGER||9007199254740991,V1=16,z1=Ud-6,q1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var _o={MAX_LENGTH:Ud,MAX_SAFE_COMPONENT_LENGTH:V1,MAX_SAFE_BUILD_LENGTH:z1,MAX_SAFE_INTEGER:H1,RELEASE_TYPES:q1,SEMVER_SPEC_VERSION:W1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const G1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Eo=G1;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=_o,s=Eo;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],f=e.t={};let g=0;const y="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[y,n]],A=U=>{for(const[F,R]of m)U=U.split(`${F}*`).join(`${F}{0,${R}}`).split(`${F}+`).join(`${F}{1,${R}}`);return U},k=(U,F,R)=>{const O=A(F),$=g++;s(U,$,F),f[U]=$,c[$]=F,o[$]=new RegExp(F,R?"g":void 0),a[$]=new RegExp(O,R?"g":void 0)};k("NUMERICIDENTIFIER","0|[1-9]\\d*"),k("NUMERICIDENTIFIERLOOSE","\\d+"),k("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),k("MAINVERSION",`(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})`),k("MAINVERSIONLOOSE",`(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})`),k("PRERELEASEIDENTIFIER",`(?:${c[f.NUMERICIDENTIFIER]}|${c[f.NONNUMERICIDENTIFIER]})`),k("PRERELEASEIDENTIFIERLOOSE",`(?:${c[f.NUMERICIDENTIFIERLOOSE]}|${c[f.NONNUMERICIDENTIFIER]})`),k("PRERELEASE",`(?:-(${c[f.PRERELEASEIDENTIFIER]}(?:\\.${c[f.PRERELEASEIDENTIFIER]})*))`),k("PRERELEASELOOSE",`(?:-?(${c[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[f.PRERELEASEIDENTIFIERLOOSE]})*))`),k("BUILDIDENTIFIER",`${y}+`),k("BUILD",`(?:\\+(${c[f.BUILDIDENTIFIER]}(?:\\.${c[f.BUILDIDENTIFIER]})*))`),k("FULLPLAIN",`v?${c[f.MAINVERSION]}${c[f.PRERELEASE]}?${c[f.BUILD]}?`),k("FULL",`^${c[f.FULLPLAIN]}$`),k("LOOSEPLAIN",`[v=\\s]*${c[f.MAINVERSIONLOOSE]}${c[f.PRERELEASELOOSE]}?${c[f.BUILD]}?`),k("LOOSE",`^${c[f.LOOSEPLAIN]}$`),k("GTLT","((?:<|>)?=?)"),k("XRANGEIDENTIFIERLOOSE",`${c[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),k("XRANGEIDENTIFIER",`${c[f.NUMERICIDENTIFIER]}|x|X|\\*`),k("XRANGEPLAIN",`[v=\\s]*(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:${c[f.PRERELEASE]})?${c[f.BUILD]}?)?)?`),k("XRANGEPLAINLOOSE",`[v=\\s]*(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:${c[f.PRERELEASELOOSE]})?${c[f.BUILD]}?)?)?`),k("XRANGE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAIN]}$`),k("XRANGELOOSE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAINLOOSE]}$`),k("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),k("COERCERTL",c[f.COERCE],!0),k("LONETILDE","(?:~>?)"),k("TILDETRIM",`(\\s*)${c[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",k("TILDE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAIN]}$`),k("TILDELOOSE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAINLOOSE]}$`),k("LONECARET","(?:\\^)"),k("CARETTRIM",`(\\s*)${c[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",k("CARET",`^${c[f.LONECARET]}${c[f.XRANGEPLAIN]}$`),k("CARETLOOSE",`^${c[f.LONECARET]}${c[f.XRANGEPLAINLOOSE]}$`),k("COMPARATORLOOSE",`^${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]})$|^$`),k("COMPARATOR",`^${c[f.GTLT]}\\s*(${c[f.FULLPLAIN]})$|^$`),k("COMPARATORTRIM",`(\\s*)${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]}|${c[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",k("HYPHENRANGE",`^\\s*(${c[f.XRANGEPLAIN]})\\s+-\\s+(${c[f.XRANGEPLAIN]})\\s*$`),k("HYPHENRANGELOOSE",`^\\s*(${c[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[f.XRANGEPLAINLOOSE]})\\s*$`),k("STAR","(<|>)?=?\\s*\\*"),k("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),k("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(vu,vu.exports);var ls=vu.exports;const J1=Object.freeze({loose:!0}),Z1=Object.freeze({}),Q1=t=>t?typeof t!="object"?J1:t:Z1;var tc=Q1;const Jl=/^[0-9]+$/,Wd=(t,e)=>{const r=Jl.test(t),n=Jl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Y1=(t,e)=>Wd(e,t);var Hd={compareIdentifiers:Wd,rcompareIdentifiers:Y1};const Cs=Eo,{MAX_LENGTH:Zl,MAX_SAFE_INTEGER:Is}=_o,{safeRe:Ql,t:Yl}=ls,K1=tc,{compareIdentifiers:jn}=Hd;let X1=class or{constructor(e,r){if(r=K1(r),e instanceof or){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Zl)throw new TypeError(`version is longer than ${Zl} characters`);Cs("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Ql[Yl.LOOSE]:Ql[Yl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Is||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Is||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Is||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Is)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Cs("SemVer.compare",this.version,this.options,e),!(e instanceof or)){if(typeof e=="string"&&e===this.version)return 0;e=new or(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof or||(e=new or(e,this.options)),jn(this.major,e.major)||jn(this.minor,e.minor)||jn(this.patch,e.patch)}comparePre(e){if(e instanceof or||(e=new or(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Cs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}compareBuild(e){e instanceof or||(e=new or(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Cs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return jn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),jn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Rt=X1;const Kl=Rt,ew=(t,e,r=!1)=>{if(t instanceof Kl)return t;try{return new Kl(t,e)}catch(n){if(!r)return null;throw n}};var Si=ew;const tw=Si,rw=(t,e)=>{const r=tw(t,e);return r?r.version:null};var nw=rw;const iw=Si,sw=(t,e)=>{const r=iw(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var ow=sw;const Xl=Rt,aw=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Xl(t instanceof Xl?t.version:t,r).inc(e,n,i).version}catch{return null}};var uw=aw;const ef=Si,cw=(t,e)=>{const r=ef(t,null,!0),n=ef(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const g=c?"pre":"";return r.major!==n.major?g+"major":r.minor!==n.minor?g+"minor":r.patch!==n.patch?g+"patch":"prerelease"};var lw=cw;const fw=Rt,hw=(t,e)=>new fw(t,e).major;var dw=hw;const pw=Rt,gw=(t,e)=>new pw(t,e).minor;var yw=gw;const bw=Rt,vw=(t,e)=>new bw(t,e).patch;var mw=vw;const ww=Si,_w=(t,e)=>{const r=ww(t,e);return r&&r.prerelease.length?r.prerelease:null};var Ew=_w;const tf=Rt,Sw=(t,e,r)=>new tf(t,r).compare(new tf(e,r));var tr=Sw;const xw=tr,Mw=(t,e,r)=>xw(e,t,r);var Cw=Mw;const Iw=tr,Rw=(t,e)=>Iw(t,e,!0);var Aw=Rw;const rf=Rt,Tw=(t,e,r)=>{const n=new rf(t,r),i=new rf(e,r);return n.compare(i)||n.compareBuild(i)};var rc=Tw;const kw=rc,Nw=(t,e)=>t.sort((r,n)=>kw(r,n,e));var Ow=Nw;const Lw=rc,Bw=(t,e)=>t.sort((r,n)=>Lw(n,r,e));var Pw=Bw;const $w=tr,Dw=(t,e,r)=>$w(t,e,r)>0;var So=Dw;const Fw=tr,jw=(t,e,r)=>Fw(t,e,r)<0;var nc=jw;const Uw=tr,Ww=(t,e,r)=>Uw(t,e,r)===0;var Vd=Ww;const Hw=tr,Vw=(t,e,r)=>Hw(t,e,r)!==0;var zd=Vw;const zw=tr,qw=(t,e,r)=>zw(t,e,r)>=0;var ic=qw;const Gw=tr,Jw=(t,e,r)=>Gw(t,e,r)<=0;var sc=Jw;const Zw=Vd,Qw=zd,Yw=So,Kw=ic,Xw=nc,e_=sc,t_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Zw(t,r,n);case"!=":return Qw(t,r,n);case">":return Yw(t,r,n);case">=":return Kw(t,r,n);case"<":return Xw(t,r,n);case"<=":return e_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var qd=t_;const r_=Rt,n_=Si,{safeRe:Rs,t:As}=ls,i_=(t,e)=>{if(t instanceof r_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Rs[As.COERCE]);else{let n;for(;(n=Rs[As.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Rs[As.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Rs[As.COERCERTL].lastIndex=-1}return r===null?null:n_(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var s_=i_,Oa,nf;function o_(){return nf||(nf=1,Oa=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Oa}var a_=xe;xe.Node=bn;xe.create=xe;function xe(t){var e=this;if(e instanceof xe||(e=new xe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}xe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};xe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};xe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};xe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)c_(this,arguments[t]);return this.length};xe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)l_(this,arguments[t]);return this.length};xe.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};xe.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};xe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};xe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};xe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};xe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};xe.prototype.map=function(t,e){e=e||this;for(var r=new xe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};xe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new xe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};xe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};xe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};xe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};xe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};xe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};xe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new xe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};xe.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=u_(this,i,r[n]);return s};xe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function u_(t,e,r){var n=e===t.head?new bn(r,null,e,t):new bn(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function c_(t,e){t.tail=new bn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function l_(t,e){t.head=new bn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bn(t,e,r,n){if(!(this instanceof bn))return new bn(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{o_()(xe)}catch{}const f_=a_,cn=Symbol("max"),wr=Symbol("length"),Un=Symbol("lengthCalculator"),Ui=Symbol("allowStale"),hn=Symbol("maxAge"),br=Symbol("dispose"),sf=Symbol("noDisposeOnSet"),ht=Symbol("lruList"),Yt=Symbol("cache"),Gd=Symbol("updateAgeOnGet"),La=()=>1;class h_{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[cn]=e.max||1/0;const r=e.length||La;if(this[Un]=typeof r!="function"?La:r,this[Ui]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[hn]=e.maxAge||0,this[br]=e.dispose,this[sf]=e.noDisposeOnSet||!1,this[Gd]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[cn]=e||1/0,Ti(this)}get max(){return this[cn]}set allowStale(e){this[Ui]=!!e}get allowStale(){return this[Ui]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[hn]=e,Ti(this)}get maxAge(){return this[hn]}set lengthCalculator(e){typeof e!="function"&&(e=La),e!==this[Un]&&(this[Un]=e,this[wr]=0,this[ht].forEach(r=>{r.length=this[Un](r.value,r.key),this[wr]+=r.length})),Ti(this)}get lengthCalculator(){return this[Un]}get length(){return this[wr]}get itemCount(){return this[ht].length}rforEach(e,r){r=r||this;for(let n=this[ht].tail;n!==null;){const i=n.prev;of(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ht].head;n!==null;){const i=n.next;of(this,e,n,r),n=i}}keys(){return this[ht].toArray().map(e=>e.key)}values(){return this[ht].toArray().map(e=>e.value)}reset(){this[br]&&this[ht]&&this[ht].length&&this[ht].forEach(e=>this[br](e.key,e.value)),this[Yt]=new Map,this[ht]=new f_,this[wr]=0}dump(){return this[ht].map(e=>Gs(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ht]}set(e,r,n){if(n=n||this[hn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Un](r,e);if(this[Yt].has(e)){if(s>this[cn])return Xn(this,this[Yt].get(e)),!1;const c=this[Yt].get(e).value;return this[br]&&(this[sf]||this[br](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[wr]+=s-c.length,c.length=s,this.get(e),Ti(this),!0}const o=new d_(e,r,s,i,n);return o.length>this[cn]?(this[br]&&this[br](e,r),!1):(this[wr]+=o.length,this[ht].unshift(o),this[Yt].set(e,this[ht].head),Ti(this),!0)}has(e){if(!this[Yt].has(e))return!1;const r=this[Yt].get(e).value;return!Gs(this,r)}get(e){return Ba(this,e,!0)}peek(e){return Ba(this,e,!1)}pop(){const e=this[ht].tail;return e?(Xn(this,e),e.value):null}del(e){Xn(this,this[Yt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Yt].forEach((e,r)=>Ba(this,r,!1))}}const Ba=(t,e,r)=>{const n=t[Yt].get(e);if(n){const i=n.value;if(Gs(t,i)){if(Xn(t,n),!t[Ui])return}else r&&(t[Gd]&&(n.value.now=Date.now()),t[ht].unshiftNode(n));return i.value}},Gs=(t,e)=>{if(!e||!e.maxAge&&!t[hn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[hn]&&r>t[hn]},Ti=t=>{if(t[wr]>t[cn])for(let e=t[ht].tail;t[wr]>t[cn]&&e!==null;){const r=e.prev;Xn(t,e),e=r}},Xn=(t,e)=>{if(e){const r=e.value;t[br]&&t[br](r.key,r.value),t[wr]-=r.length,t[Yt].delete(r.key),t[ht].removeNode(e)}};class d_{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const of=(t,e,r,n)=>{let i=r.value;Gs(t,i)&&(Xn(t,r),t[Ui]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var p_=h_,Pa,af;function rr(){if(af)return Pa;af=1;class t{constructor(u,p){if(p=n(p),u instanceof t)return u.loose===!!p.loose&&u.includePrerelease===!!p.includePrerelease?u:new t(u.raw,p);if(u instanceof i)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(v=>this.parseRange(v.trim())).filter(v=>v.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const v=this.set[0];if(this.set=this.set.filter(E=>!k(E[0])),this.set.length===0)this.set=[v];else if(this.set.length>1){for(const E of this.set)if(E.length===1&&U(E[0])){this.set=[E];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const v=((this.options.includePrerelease&&m)|(this.options.loose&&A))+":"+u,E=r.get(v);if(E)return E;const S=this.options.loose,T=S?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];u=u.replace(T,ne(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(a[c.COMPARATORTRIM],f),s("comparator trim",u),u=u.replace(a[c.TILDETRIM],g),s("tilde trim",u),u=u.replace(a[c.CARETTRIM],y),s("caret trim",u);let L=u.split(" ").map(Y=>R(Y,this.options)).join(" ").split(/\s+/).map(Y=>se(Y,this.options));S&&(L=L.filter(Y=>(s("loose invalid filter",Y,this.options),!!Y.match(a[c.COMPARATORLOOSE])))),s("range list",L);const _=new Map,d=L.map(Y=>new i(Y,this.options));for(const Y of d){if(k(Y))return[Y];_.set(Y.value,Y)}_.size>1&&_.has("")&&_.delete("");const I=[..._.values()];return r.set(v,I),I}intersects(u,p){if(!(u instanceof t))throw new TypeError("a Range is required");return this.set.some(v=>F(v,p)&&u.set.some(E=>F(E,p)&&v.every(S=>E.every(T=>S.intersects(T,p)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(oe(this.set[p],u,this.options))return!0;return!1}}Pa=t;const e=p_,r=new e({max:1e3}),n=tc,i=xo(),s=Eo,o=Rt,{safeRe:a,t:c,comparatorTrimReplace:f,tildeTrimReplace:g,caretTrimReplace:y}=ls,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:A}=_o,k=w=>w.value==="<0.0.0-0",U=w=>w.value==="",F=(w,u)=>{let p=!0;const v=w.slice();let E=v.pop();for(;p&&v.length;)p=v.every(S=>E.intersects(S,u)),E=v.pop();return p},R=(w,u)=>(s("comp",w,u),w=j(w,u),s("caret",w),w=$(w,u),s("tildes",w),w=ee(w,u),s("xrange",w),w=Z(w,u),s("stars",w),w),O=w=>!w||w.toLowerCase()==="x"||w==="*",$=(w,u)=>w.trim().split(/\s+/).map(p=>H(p,u)).join(" "),H=(w,u)=>{const p=u.loose?a[c.TILDELOOSE]:a[c.TILDE];return w.replace(p,(v,E,S,T,L)=>{s("tilde",w,v,E,S,T,L);let _;return O(E)?_="":O(S)?_=`>=${E}.0.0 <${+E+1}.0.0-0`:O(T)?_=`>=${E}.${S}.0 <${E}.${+S+1}.0-0`:L?(s("replaceTilde pr",L),_=`>=${E}.${S}.${T}-${L} <${E}.${+S+1}.0-0`):_=`>=${E}.${S}.${T} <${E}.${+S+1}.0-0`,s("tilde return",_),_})},j=(w,u)=>w.trim().split(/\s+/).map(p=>z(p,u)).join(" "),z=(w,u)=>{s("caret",w,u);const p=u.loose?a[c.CARETLOOSE]:a[c.CARET],v=u.includePrerelease?"-0":"";return w.replace(p,(E,S,T,L,_)=>{s("caret",w,E,S,T,L,_);let d;return O(S)?d="":O(T)?d=`>=${S}.0.0${v} <${+S+1}.0.0-0`:O(L)?S==="0"?d=`>=${S}.${T}.0${v} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.0${v} <${+S+1}.0.0-0`:_?(s("replaceCaret pr",_),S==="0"?T==="0"?d=`>=${S}.${T}.${L}-${_} <${S}.${T}.${+L+1}-0`:d=`>=${S}.${T}.${L}-${_} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.${L}-${_} <${+S+1}.0.0-0`):(s("no pr"),S==="0"?T==="0"?d=`>=${S}.${T}.${L}${v} <${S}.${T}.${+L+1}-0`:d=`>=${S}.${T}.${L}${v} <${S}.${+T+1}.0-0`:d=`>=${S}.${T}.${L} <${+S+1}.0.0-0`),s("caret return",d),d})},ee=(w,u)=>(s("replaceXRanges",w,u),w.split(/\s+/).map(p=>K(p,u)).join(" ")),K=(w,u)=>{w=w.trim();const p=u.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return w.replace(p,(v,E,S,T,L,_)=>{s("xRange",w,v,E,S,T,L,_);const d=O(S),I=d||O(T),Y=I||O(L),X=Y;return E==="="&&X&&(E=""),_=u.includePrerelease?"-0":"",d?E===">"||E==="<"?v="<0.0.0-0":v="*":E&&X?(I&&(T=0),L=0,E===">"?(E=">=",I?(S=+S+1,T=0,L=0):(T=+T+1,L=0)):E==="<="&&(E="<",I?S=+S+1:T=+T+1),E==="<"&&(_="-0"),v=`${E+S}.${T}.${L}${_}`):I?v=`>=${S}.0.0${_} <${+S+1}.0.0-0`:Y&&(v=`>=${S}.${T}.0${_} <${S}.${+T+1}.0-0`),s("xRange return",v),v})},Z=(w,u)=>(s("replaceStars",w,u),w.trim().replace(a[c.STAR],"")),se=(w,u)=>(s("replaceGTE0",w,u),w.trim().replace(a[u.includePrerelease?c.GTE0PRE:c.GTE0],"")),ne=w=>(u,p,v,E,S,T,L,_,d,I,Y,X,N)=>(O(v)?p="":O(E)?p=`>=${v}.0.0${w?"-0":""}`:O(S)?p=`>=${v}.${E}.0${w?"-0":""}`:T?p=`>=${p}`:p=`>=${p}${w?"-0":""}`,O(d)?_="":O(I)?_=`<${+d+1}.0.0-0`:O(Y)?_=`<${d}.${+I+1}.0-0`:X?_=`<=${d}.${I}.${Y}-${X}`:w?_=`<${d}.${I}.${+Y+1}-0`:_=`<=${_}`,`${p} ${_}`.trim()),oe=(w,u,p)=>{for(let v=0;v<w.length;v++)if(!w[v].test(u))return!1;if(u.prerelease.length&&!p.includePrerelease){for(let v=0;v<w.length;v++)if(s(w[v].semver),w[v].semver!==i.ANY&&w[v].semver.prerelease.length>0){const E=w[v].semver;if(E.major===u.major&&E.minor===u.minor&&E.patch===u.patch)return!0}return!1}return!0};return Pa}var $a,uf;function xo(){if(uf)return $a;uf=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(g,y){if(y=r(y),g instanceof e){if(g.loose===!!y.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),o("comparator",g,y),this.options=y,this.loose=!!y.loose,this.parse(g),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(g){const y=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],m=g.match(y);if(!m)throw new TypeError(`Invalid comparator: ${g}`);this.operator=m[1]!==void 0?m[1]:"",this.operator==="="&&(this.operator=""),m[2]?this.semver=new a(m[2],this.options.loose):this.semver=t}toString(){return this.value}test(g){if(o("Comparator.test",g,this.options.loose),this.semver===t||g===t)return!0;if(typeof g=="string")try{g=new a(g,this.options)}catch{return!1}return s(g,this.operator,this.semver,this.options)}intersects(g,y){if(!(g instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(g.value,y).test(this.value):g.operator===""?g.value===""?!0:new c(this.value,y).test(g.semver):(y=r(y),y.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!y.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||s(this.semver,"<",g.semver,y)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||s(this.semver,">",g.semver,y)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}}$a=e;const r=tc,{safeRe:n,t:i}=ls,s=qd,o=Eo,a=Rt,c=rr();return $a}const g_=rr(),y_=(t,e,r)=>{try{e=new g_(e,r)}catch{return!1}return e.test(t)};var Mo=y_;const b_=rr(),v_=(t,e)=>new b_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var m_=v_;const w_=Rt,__=rr(),E_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new __(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new w_(n,r))}),n};var S_=E_;const x_=Rt,M_=rr(),C_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new M_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new x_(n,r))}),n};var I_=C_;const Da=Rt,R_=rr(),cf=So,A_=(t,e)=>{t=new R_(t,e);let r=new Da("0.0.0");if(t.test(r)||(r=new Da("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Da(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||cf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||cf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var T_=A_;const k_=rr(),N_=(t,e)=>{try{return new k_(t,e).range||"*"}catch{return null}};var O_=N_;const L_=Rt,Jd=xo(),{ANY:B_}=Jd,P_=rr(),$_=Mo,lf=So,ff=nc,D_=sc,F_=ic,j_=(t,e,r,n)=>{t=new L_(t,n),e=new P_(e,n);let i,s,o,a,c;switch(r){case">":i=lf,s=D_,o=ff,a=">",c=">=";break;case"<":i=ff,s=F_,o=lf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($_(t,e,n))return!1;for(let f=0;f<e.set.length;++f){const g=e.set[f];let y=null,m=null;if(g.forEach(A=>{A.semver===B_&&(A=new Jd(">=0.0.0")),y=y||A,m=m||A,i(A.semver,y.semver,n)?y=A:o(A.semver,m.semver,n)&&(m=A)}),y.operator===a||y.operator===c||(!m.operator||m.operator===a)&&s(t,m.semver))return!1;if(m.operator===c&&o(t,m.semver))return!1}return!0};var oc=j_;const U_=oc,W_=(t,e,r)=>U_(t,e,">",r);var H_=W_;const V_=oc,z_=(t,e,r)=>V_(t,e,"<",r);var q_=z_;const hf=rr(),G_=(t,e,r)=>(t=new hf(t,r),e=new hf(e,r),t.intersects(e,r));var J_=G_;const Z_=Mo,Q_=tr;var Y_=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((g,y)=>Q_(g,y,r));for(const g of o)Z_(g,e,r)?(s=g,i||(i=g)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[g,y]of n)g===y?a.push(g):!y&&g===o[0]?a.push("*"):y?g===o[0]?a.push(`<=${y}`):a.push(`${g} - ${y}`):a.push(`>=${g}`);const c=a.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return c.length<f.length?c:e};const df=rr(),ac=xo(),{ANY:Fa}=ac,ki=Mo,uc=tr,K_=(t,e,r={})=>{if(t===e)return!0;t=new df(t,r),e=new df(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=e2(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},X_=[new ac(">=0.0.0-0")],pf=[new ac(">=0.0.0")],e2=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Fa){if(e.length===1&&e[0].semver===Fa)return!0;r.includePrerelease?t=X_:t=pf}if(e.length===1&&e[0].semver===Fa){if(r.includePrerelease)return!0;e=pf}const n=new Set;let i,s;for(const A of t)A.operator===">"||A.operator===">="?i=gf(i,A,r):A.operator==="<"||A.operator==="<="?s=yf(s,A,r):n.add(A.semver);if(n.size>1)return null;let o;if(i&&s){if(o=uc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const A of n){if(i&&!ki(A,String(i),r)||s&&!ki(A,String(s),r))return null;for(const k of e)if(!ki(A,String(k),r))return!1;return!0}let a,c,f,g,y=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;y&&y.prerelease.length===1&&s.operator==="<"&&y.prerelease[0]===0&&(y=!1);for(const A of e){if(g=g||A.operator===">"||A.operator===">=",f=f||A.operator==="<"||A.operator==="<=",i){if(m&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===m.major&&A.semver.minor===m.minor&&A.semver.patch===m.patch&&(m=!1),A.operator===">"||A.operator===">="){if(a=gf(i,A,r),a===A&&a!==i)return!1}else if(i.operator===">="&&!ki(i.semver,String(A),r))return!1}if(s){if(y&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===y.major&&A.semver.minor===y.minor&&A.semver.patch===y.patch&&(y=!1),A.operator==="<"||A.operator==="<="){if(c=yf(s,A,r),c===A&&c!==s)return!1}else if(s.operator==="<="&&!ki(s.semver,String(A),r))return!1}if(!A.operator&&(s||i)&&o!==0)return!1}return!(i&&f&&!s&&o!==0||s&&g&&!i&&o!==0||m||y)},gf=(t,e,r)=>{if(!t)return e;const n=uc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},yf=(t,e,r)=>{if(!t)return e;const n=uc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var t2=K_;const ja=ls,bf=_o,r2=Rt,vf=Hd,n2=Si,i2=nw,s2=ow,o2=uw,a2=lw,u2=dw,c2=yw,l2=mw,f2=Ew,h2=tr,d2=Cw,p2=Aw,g2=rc,y2=Ow,b2=Pw,v2=So,m2=nc,w2=Vd,_2=zd,E2=ic,S2=sc,x2=qd,M2=s_,C2=xo(),I2=rr(),R2=Mo,A2=m_,T2=S_,k2=I_,N2=T_,O2=O_,L2=oc,B2=H_,P2=q_,$2=J_,D2=Y_,F2=t2;var j2={parse:n2,valid:i2,clean:s2,inc:o2,diff:a2,major:u2,minor:c2,patch:l2,prerelease:f2,compare:h2,rcompare:d2,compareLoose:p2,compareBuild:g2,sort:y2,rsort:b2,gt:v2,lt:m2,eq:w2,neq:_2,gte:E2,lte:S2,cmp:x2,coerce:M2,Comparator:C2,Range:I2,satisfies:R2,toComparators:A2,maxSatisfying:T2,minSatisfying:k2,minVersion:N2,validRange:O2,outside:L2,gtr:B2,ltr:P2,intersects:$2,simplifyRange:D2,subset:F2,SemVer:r2,re:ja.re,src:ja.src,tokens:ja.t,SEMVER_SPEC_VERSION:bf.SEMVER_SPEC_VERSION,RELEASE_TYPES:bf.RELEASE_TYPES,compareIdentifiers:vf.compareIdentifiers,rcompareIdentifiers:vf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=j2,r=In,n=vt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",y=>(0,e.valid)(y)===null?`Expected SemVer version, got "${y}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",y=>(0,e.validRange)(y)===null?`Expected SemVer range, got "${y}"`:!0);function i(y){return(0,r.is)(y,t.VersionStruct)}t.isValidSemVerVersion=i;function s(y){return(0,r.is)(y,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(y){(0,n.assertStruct)(y,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(y){(0,n.assertStruct)(y,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(y,m){return(0,e.gt)(y,m)}t.gtVersion=c;function f(y,m){return(0,e.gtr)(y,m)}t.gtRange=f;function g(y,m){return(0,e.satisfies)(y,m,{includePrerelease:!0})}t.satisfiesVersionRange=g})(jd);(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vt,t),r(us,t),r(Ee,t),r(mo,t),r(hr,t),r(ai,t),r(cs,t),r($d,t),r(ui,t),r(ec,t),r(dr,t),r(Dd,t),r(Fd,t),r(jd,t)})(vd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=vd;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(bd);var Zd=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});bo.PollingBlockTracker=void 0;const U2=Zd(Vu),W2=Zd(cm),H2=os,mf=bd,wf=(0,mf.createModuleLogger)(mf.projectLogger,"polling-block-tracker"),V2=(0,U2.default)(),z2=1e3;class q2 extends H2.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*z2,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=_f(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=_f(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:V2(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),wf("Making request",e);const r=await(0,W2.default)(n=>this._provider.sendAsync(e,n))();if(wf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}bo.PollingBlockTracker=q2;function _f(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Co={},G2=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Co,"__esModule",{value:!0});Co.SubscribeBlockTracker=void 0;const J2=G2(Vu),Z2=os,Q2=(0,J2.default)();class Y2 extends Z2.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Q2(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Co.SubscribeBlockTracker=Y2;var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bo,t),r(Co,t),r(Qd,t)})(yd);var cc={},Io={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.getUniqueId=void 0;const Yd=4294967295;let Ua=Math.floor(Math.random()*Yd);function K2(){return Ua=(Ua+1)%Yd,Ua}fs.getUniqueId=K2;Object.defineProperty(Io,"__esModule",{value:!0});Io.createIdRemapMiddleware=void 0;const X2=fs;function eE(){return(t,e,r,n)=>{const i=t.id,s=X2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Io.createIdRemapMiddleware=eE;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.createAsyncMiddleware=void 0;function tE(t){return async(e,r,n,i)=>{let s;const o=new Promise(g=>{s=g});let a=null,c=!1;const f=async()=>{c=!0,n(g=>{a=g,s()}),await o};try{await t(e,r,f),c?(await o,a(null)):i(null)}catch(g){a?a(g):i(g)}}}Ro.createAsyncMiddleware=tE;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.createScaffoldMiddleware=void 0;function rE(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Ao.createScaffoldMiddleware=rE;var hs={},Kd={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.EthereumProviderError=Br.EthereumRpcError=void 0;const nE=nh;class Xd extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return nE.default(this.serialize(),oE,2)}}Br.EthereumRpcError=Xd;class iE extends Xd{constructor(e,r,n){if(!sE(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Br.EthereumProviderError=iE;function sE(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function oE(t,e){if(e!=="[Circular]")return e}var lc={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.errorValues=Pr.errorCodes=void 0;Pr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Pr,r=Br,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(m,A=i){if(Number.isInteger(m)){const k=m.toString();if(y(e.errorValues,k))return e.errorValues[k].message;if(f(m))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return A}t.getMessageFromCode=o;function a(m){if(!Number.isInteger(m))return!1;const A=m.toString();return!!(e.errorValues[A]||f(m))}t.isValidCode=a;function c(m,{fallbackError:A=s,shouldIncludeStack:k=!1}={}){var U,F;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(m instanceof r.EthereumRpcError)return m.serialize();const R={};if(m&&typeof m=="object"&&!Array.isArray(m)&&y(m,"code")&&a(m.code)){const $=m;R.code=$.code,$.message&&typeof $.message=="string"?(R.message=$.message,y($,"data")&&(R.data=$.data)):(R.message=o(R.code),R.data={originalError:g(m)})}else{R.code=A.code;const $=(U=m)===null||U===void 0?void 0:U.message;R.message=$&&typeof $=="string"?$:A.message,R.data={originalError:g(m)}}const O=(F=m)===null||F===void 0?void 0:F.stack;return k&&m&&O&&typeof O=="string"&&(R.stack=O),R}t.serializeError=c;function f(m){return m>=-32099&&m<=-32e3}function g(m){return m&&typeof m=="object"&&!Array.isArray(m)?Object.assign({},m):m}function y(m,A){return Object.prototype.hasOwnProperty.call(m,A)}})(lc);var To={};Object.defineProperty(To,"__esModule",{value:!0});To.ethErrors=void 0;const fc=Br,e0=lc,wt=Pr;To.ethErrors={rpc:{parse:t=>$t(wt.errorCodes.rpc.parse,t),invalidRequest:t=>$t(wt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>$t(wt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>$t(wt.errorCodes.rpc.methodNotFound,t),internal:t=>$t(wt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return $t(e,t)},invalidInput:t=>$t(wt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>$t(wt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>$t(wt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>$t(wt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>$t(wt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>$t(wt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Ni(wt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Ni(wt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Ni(wt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Ni(wt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Ni(wt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new fc.EthereumProviderError(e,r,n)}}};function $t(t,e){const[r,n]=t0(e);return new fc.EthereumRpcError(t,r||e0.getMessageFromCode(t),n)}function Ni(t,e){const[r,n]=t0(e);return new fc.EthereumProviderError(t,r||e0.getMessageFromCode(t),n)}function t0(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Br;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=lc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=To;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Pr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Kd);var aE=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});hs.JsonRpcEngine=void 0;const uE=aE(_n),Dt=Kd;class vr extends uE.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await vr._runAllMiddleware(e,r,this._middleware);return o?(await vr._runReturnHandlers(a),i(s)):n(async c=>{try{await vr._runReturnHandlers(a)}catch(f){return c(f)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Dt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await vr._runAllMiddleware(e,r,this._middleware);if(vr._checkForCompletion(e,r,i),await vr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await vr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const f=c||r.error;f&&(r.error=Dt.serializeError(f)),s([f,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Wa(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Wa(e)}`,{request:e});if(!n)throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Wa(e)}`,{request:e})}}hs.JsonRpcEngine=vr;function Wa(t){return JSON.stringify(t,null,2)}var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.mergeMiddleware=void 0;const cE=hs;function lE(t){const e=new cE.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}ko.mergeMiddleware=lE;(function(t){var e=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Io,t),r(Ro,t),r(Ao,t),r(fs,t),r(hs,t),r(ko,t)})(cc);var r0={},hc={};const dc=wn(up);var No={};Object.defineProperty(No,"__esModule",{value:!0});var Ef=dc,fE=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Ef.__awaiter(this,void 0,void 0,function(){var r,n,i;return Ef.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();No.default=fE;Object.defineProperty(hc,"__esModule",{value:!0});var Sf=dc,hE=No,dE=function(){function t(){this._semaphore=new hE.default(1)}return t.prototype.acquire=function(){return Sf.__awaiter(this,void 0,void 0,function(){var e,r;return Sf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();hc.default=dE;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.withTimeout=void 0;var Ts=dc;function pE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ts.__awaiter(n,void 0,void 0,function(){var o,a,c;return Ts.__generator(this,function(f){switch(f.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=f.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ts.__awaiter(this,void 0,void 0,function(){var s,o;return Ts.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Oo.withTimeout=pE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=hc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=No;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Oo;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(r0);var gE=bE,yE=Object.prototype.hasOwnProperty;function bE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)yE.call(r,n)&&(t[n]=r[n])}return t}const vE=gE,mE=Vu();var wE=pe;function pe(t){const e=this;e.currentProvider=t}pe.prototype.getBalance=ds(2,"eth_getBalance");pe.prototype.getCode=ds(2,"eth_getCode");pe.prototype.getTransactionCount=ds(2,"eth_getTransactionCount");pe.prototype.getStorageAt=ds(3,"eth_getStorageAt");pe.prototype.call=ds(2,"eth_call");pe.prototype.protocolVersion=me("eth_protocolVersion");pe.prototype.syncing=me("eth_syncing");pe.prototype.coinbase=me("eth_coinbase");pe.prototype.mining=me("eth_mining");pe.prototype.hashrate=me("eth_hashrate");pe.prototype.gasPrice=me("eth_gasPrice");pe.prototype.accounts=me("eth_accounts");pe.prototype.blockNumber=me("eth_blockNumber");pe.prototype.getBlockTransactionCountByHash=me("eth_getBlockTransactionCountByHash");pe.prototype.getBlockTransactionCountByNumber=me("eth_getBlockTransactionCountByNumber");pe.prototype.getUncleCountByBlockHash=me("eth_getUncleCountByBlockHash");pe.prototype.getUncleCountByBlockNumber=me("eth_getUncleCountByBlockNumber");pe.prototype.sign=me("eth_sign");pe.prototype.sendTransaction=me("eth_sendTransaction");pe.prototype.sendRawTransaction=me("eth_sendRawTransaction");pe.prototype.estimateGas=me("eth_estimateGas");pe.prototype.getBlockByHash=me("eth_getBlockByHash");pe.prototype.getBlockByNumber=me("eth_getBlockByNumber");pe.prototype.getTransactionByHash=me("eth_getTransactionByHash");pe.prototype.getTransactionByBlockHashAndIndex=me("eth_getTransactionByBlockHashAndIndex");pe.prototype.getTransactionByBlockNumberAndIndex=me("eth_getTransactionByBlockNumberAndIndex");pe.prototype.getTransactionReceipt=me("eth_getTransactionReceipt");pe.prototype.getUncleByBlockHashAndIndex=me("eth_getUncleByBlockHashAndIndex");pe.prototype.getUncleByBlockNumberAndIndex=me("eth_getUncleByBlockNumberAndIndex");pe.prototype.getCompilers=me("eth_getCompilers");pe.prototype.compileLLL=me("eth_compileLLL");pe.prototype.compileSolidity=me("eth_compileSolidity");pe.prototype.compileSerpent=me("eth_compileSerpent");pe.prototype.newFilter=me("eth_newFilter");pe.prototype.newBlockFilter=me("eth_newBlockFilter");pe.prototype.newPendingTransactionFilter=me("eth_newPendingTransactionFilter");pe.prototype.uninstallFilter=me("eth_uninstallFilter");pe.prototype.getFilterChanges=me("eth_getFilterChanges");pe.prototype.getFilterLogs=me("eth_getFilterLogs");pe.prototype.getLogs=me("eth_getLogs");pe.prototype.getWork=me("eth_getWork");pe.prototype.submitWork=me("eth_submitWork");pe.prototype.submitHashrate=me("eth_submitHashrate");pe.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(_E(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function me(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ds(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function _E(t){return vE({id:mE(),jsonrpc:"2.0",params:[]},t)}const xf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...f)=>{e.errorFirst?f[0]?a(f):(f.shift(),o(f)):o(f)}):e.errorFirst?i.push((f,g)=>{f?a(f):o(g)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Mf=new WeakMap;var EE=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Mf.get(o);if(c||(c={},Mf.set(o,c)),a in c)return c[a];const f=k=>typeof k=="string"||typeof a=="symbol"?a===k:k.test(a),g=Reflect.getOwnPropertyDescriptor(o,a),y=g===void 0||g.writable||g.configurable,A=(e.include?e.include.some(f):!e.exclude.some(f))&&y;return c[a]=A,A},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const f=i.get(o);if(f)return Reflect.apply(f,a,c);const g=e.excludeMain?o:xf(o,e,s,o);return i.set(o,g),Reflect.apply(g,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const f=i.get(c);if(f)return f;if(typeof c=="function"){const g=xf(c,e,s,o);return i.set(c,g),g}return c}});return s};const SE=_n.default;let xE=class extends SE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var pc=xE;const ME=pc;let CE=class extends ME{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var IE=CE,ps={minBlockRef:RE,maxBlockRef:AE,sortBlockRefs:gc,bnToHex:TE,blockRefIsNumber:kE,hexToInt:Js,incrementHexInt:NE,intToHex:n0,unsafeRandomBytes:OE};function RE(...t){return gc(t)[0]}function AE(...t){const e=gc(t);return e[e.length-1]}function gc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Js(e)-Js(r))}function TE(t){return"0x"+t.toString(16)}function kE(t){return t&&!["earliest","latest","pending"].includes(t)}function Js(t){return t==null?t:Number.parseInt(t,16)}function NE(t){if(t==null)return t;const e=Js(t);return n0(e+1)}function n0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function OE(t){let e="0x";for(let r=0;r<t;r++)e+=Cf(),e+=Cf();return e}function Cf(){return Math.floor(Math.random()*16).toString(16)}const LE=wE,BE=EE,PE=IE,{bnToHex:jI,hexToInt:ks,incrementHexInt:$E,minBlockRef:DE,blockRefIsNumber:FE}=ps;let jE=class extends PE{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new LE(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=DE(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=$E(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await BE(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(ks(this.params.fromBlock)>=ks(e.blockNumber)||FE(this.params.toBlock)&&ks(this.params.toBlock)<=ks(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(g=>g.toLowerCase()),a.includes(o))})}};var UE=jE,yc=WE;async function WE({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=If(e),s=If(r)-n+1,o=Array(s).fill().map((c,f)=>n+f).map(HE);return await Promise.all(o.map(c=>zE(t,"eth_getBlockByNumber",[c,!1])))}function If(t){return t==null?t:Number.parseInt(t,16)}function HE(t){return t==null?t:"0x"+t.toString(16)}function VE(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function zE(t,e,r){for(let n=0;n<3;n++)try{return await VE(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const qE=pc,GE=yc,{incrementHexInt:JE}=ps;let ZE=class extends qE{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=JE(e),o=(await GE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var QE=ZE;const YE=pc,KE=yc,{incrementHexInt:XE}=ps;let eS=class extends YE{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=XE(e),i=await KE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var tS=eS;const rS=r0.Mutex,{createAsyncMiddleware:nS,createScaffoldMiddleware:iS}=cc,sS=UE,oS=QE,aS=tS,{intToHex:i0,hexToInt:Ha}=ps;var uS=cS;function cS({blockTracker:t,provider:e}){let r=0,n={};const i=new rS,s=lS({mutex:i}),o=iS({eth_newFilter:s(Va(c)),eth_newBlockFilter:s(Va(f)),eth_newPendingTransactionFilter:s(Va(g)),eth_uninstallFilter:s(Fs(A)),eth_getFilterChanges:s(Fs(y)),eth_getFilterLogs:s(Fs(m))}),a=async({oldBlock:O,newBlock:$})=>{if(n.length===0)return;const H=await i.acquire();try{await Promise.all(Wn(n).map(async j=>{try{await j.update({oldBlock:O,newBlock:$})}catch(z){console.error(z)}}))}catch(j){console.error(j)}H()};return o.newLogFilter=c,o.newBlockFilter=f,o.newPendingTransactionFilter=g,o.uninstallFilter=A,o.getFilterChanges=y,o.getFilterLogs=m,o.destroy=()=>{F()},o;async function c(O){const $=new sS({provider:e,params:O});return await k($),$}async function f(){const O=new oS({provider:e});return await k(O),O}async function g(){const O=new aS({provider:e});return await k(O),O}async function y(O){const $=Ha(O),H=n[$];if(!H)throw new Error(`No filter for index "${$}"`);return H.getChangesAndClear()}async function m(O){const $=Ha(O),H=n[$];if(!H)throw new Error(`No filter for index "${$}"`);let j=[];return H.type==="log"&&(j=H.getAllResults()),j}async function A(O){const $=Ha(O),j=!!n[$];return j&&await U($),j}async function k(O){const $=Wn(n).length,H=await t.getLatestBlock();await O.initialize({currentBlock:H}),r++,n[r]=O,O.id=r,O.idHex=i0(r);const j=Wn(n).length;return R({prevFilterCount:$,newFilterCount:j}),r}async function U(O){const $=Wn(n).length;delete n[O];const H=Wn(n).length;R({prevFilterCount:$,newFilterCount:H})}async function F(){const O=Wn(n).length;n={},R({prevFilterCount:O,newFilterCount:0})}function R({prevFilterCount:O,newFilterCount:$}){if(O===0&&$>0){t.on("sync",a);return}if(O>0&&$===0){t.removeListener("sync",a);return}}}function Va(t){return Fs(async(...e)=>{const r=await t(...e);return i0(r.id)})}function Fs(t){return nS(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function lS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function Wn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const fS=_n.default,{createAsyncMiddleware:Rf,createScaffoldMiddleware:hS}=cc,dS=uS,{unsafeRandomBytes:pS,incrementHexInt:gS}=ps,yS=yc;var bS=vS;function vS({blockTracker:t,provider:e}){const r={},n=dS({blockTracker:t,provider:e});let i=!1;const s=new fS,o=hS({eth_subscribe:Rf(a),eth_unsubscribe:Rf(c)});return o.destroy=g,{events:s,middleware:o};async function a(y,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=y.params[0],k=pS(16);let U;switch(A){case"newHeads":U=F({subId:k});break;case"logs":const O=y.params[1],$=await n.newLogFilter(O);U=R({subId:k,filter:$});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${A}"`)}r[k]=U,m.result=k;return;function F({subId:O}){const $={type:A,destroy:async()=>{t.removeListener("sync",$.update)},update:async({oldBlock:H,newBlock:j})=>{const z=j,ee=gS(H);(await yS({provider:e,fromBlock:ee,toBlock:z})).map(mS).filter(se=>se!==null).forEach(se=>{f(O,se)})}};return t.on("sync",$.update),$}function R({subId:O,filter:$}){return $.on("update",j=>f(O,j)),{type:A,destroy:async()=>await n.uninstallFilter($.idHex)}}}async function c(y,m){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=y.params[0],k=r[A];if(!k){m.result=!1;return}delete r[A],await k.destroy(),m.result=!0}function f(y,m){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:y,result:m}})}function g(){s.removeAllListeners();for(const y in r)r[y].destroy(),delete r[y];i=!0}}function mS(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(yo,"__esModule",{value:!0});yo.SubscriptionManager=void 0;const wS=yd,_S=bS,Af=()=>{};class ES{constructor(e){const r=new wS.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=_S({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Af,Af),r}destroy(){this.subscriptionMiddleware.destroy()}}yo.SubscriptionManager=ES;var bc=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ti,"__esModule",{value:!0});ti.CoinbaseWalletProvider=void 0;const SS=bc(_n),xS=bc(io),za=gi,Ne=Qi,Tf=bi,kf=Xt,qa=oo,MS=Oe,be=re,Ga=bc(im),CS=oi,Re=gd,IS=yo,Nf="DefaultChainId",Of="DefaultJsonRpcUrl";class RS extends SS.default{constructor(e){var r,n;super(),this._filterPolyfill=new CS.FilterPolyfill(this),this._subscriptionManager=new IS.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,be.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(kf.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,be.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const f=a.data.data.chainId,g=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(g,Number(f))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,be.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Of))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Of,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Nf,r.toString(10)),((0,be.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,be.ensureIntNumber)(e)===this.getChainId())return!1;const f=await this.initializeRelay(),g=f.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!g&&await f.requestEthereumAccounts().promise;const y=await f.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=y.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=y.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,MS.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Ne.standardErrorCodes.provider.unsupportedChain?Ne.standardErrors.provider.unsupportedChain(e):Ne.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(za.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Re.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Ne.serializeError)(i,e)})}catch(n){throw(0,Ne.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Ne.serializeError)(n,e)})}catch(n){return Promise.reject((0,Ne.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Ne.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Ne.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ne.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ne.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ne.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,be.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Ne.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",qa.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Ne.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",qa.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Ne.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",qa.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,be.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(kf.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Re.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Re.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Re.JSONRPCMethod.net_version:return this._net_version();case Re.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Re.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Re.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Re.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Re.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Re.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Re.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Re.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Re.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Re.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Re.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Re.JSONRPCMethod.eth_signTypedData_v4:case Re.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Re.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Re.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Re.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Re.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Re.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Re.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Re.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Re.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Re.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Re.JSONRPCMethod.eth_subscribe:case Re.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,be.ensureAddressString)(e);return this._addresses.map(i=>(0,be.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(za.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,be.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,be.ensureAddressString)(e.to):null,i=e.value!=null?(0,be.ensureBN)(e.value):new xS.default(0),s=e.data?(0,be.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,be.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,be.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,be.ensureBN)(e.maxFeePerGas):null,f=e.maxPriorityFeePerGas!=null?(0,be.ensureBN)(e.maxPriorityFeePerGas):null,g=e.gas!=null?(0,be.ensureBN)(e.gas):null,y=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:f,gasLimit:g,chainId:y}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ne.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ne.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ne.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,be.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Nf);if(!e)return(0,be.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,be.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(za.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,be.ensureBuffer)(e[0]),n=(0,be.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,be.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ne.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,be.ensureParsedJSONObject)(e[0]),n=(0,be.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ga.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ga.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,be.ensureAddressString)(e[0]),n=(0,be.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ga.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ne.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Ne.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ne.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw Ne.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw Ne.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw Ne.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,be.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}ti.CoinbaseWalletProvider=RS;var Lo={},Bo={};const Lt=wn(lp);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mu=function(t,e){return mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},mu(t,e)};function G(t,e){mu(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ci(t){return typeof t=="function"}var Lf=!1,Ut={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Lf=t},get useDeprecatedSynchronousErrorHandling(){return Lf}};function Gn(t){setTimeout(function(){throw t},0)}var Zs={closed:!0,next:function(t){},error:function(t){if(Ut.useDeprecatedSynchronousErrorHandling)throw t;Gn(t)},complete:function(){}},Ct=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function vc(t){return t!==null&&typeof t=="object"}var AS=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Wi=AS,et=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(ci(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(y){e=y instanceof Wi?Bf(y.errors):[y]}}if(Ct(o))for(var a=-1,f=o.length;++a<f;){var g=o[a];if(vc(g))try{g.unsubscribe()}catch(m){e=e||[],m instanceof Wi?e=e.concat(Bf(m.errors)):e.push(m)}}if(e)throw new Wi(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Bf(t){return t.reduce(function(e,r){return e.concat(r instanceof Wi?r.errors:r)},[])}var Qs=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ie=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Zs;break;case 1:if(!r){s.destination=Zs;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Pf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Pf(s,r,n,i);break}return s}return e.prototype[Qs]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(et),Pf=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return ci(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Zs&&(c=Object.create(n),ci(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ut.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ut.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Gn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Gn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ut.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ut.useDeprecatedSynchronousErrorHandling)throw i;Gn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ut.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ut.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Gn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ie);function mc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ie?t=n:t=null}return!0}function TS(t,e,r){if(t){if(t instanceof ie)return t;if(t[Qs])return t[Qs]()}return!t&&!e&&!r?new ie(Zs):new ie(t,e,r)}var xi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $r(t){return t}function wu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s0(t)}function s0(t){return t.length===0?$r:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ve=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=TS(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ut.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ut.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ut.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),mc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=$f(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[xi]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:s0(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=$f(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function $f(t){if(t||(t=Ut.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var kS=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Tr=kS,o0=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(et),a0=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ie),gt=function(t){G(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Qs]=function(){return new a0(this)},e.prototype.lift=function(r){var n=new Df(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Tr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Tr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Tr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Tr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Tr;return this.hasError?(r.error(this.thrownError),et.EMPTY):this.isStopped?(r.complete(),et.EMPTY):(this.observers.push(r),new o0(this,r))},e.prototype.asObservable=function(){var r=new ve;return r.source=this,r},e.create=function(r,n){return new Df(r,n)},e}(ve),Df=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):et.EMPTY},e}(gt);function wc(){return function(e){return e.lift(new NS(e))}}var NS=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new OS(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),OS=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ie),u0=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new et,r.add(this.source.subscribe(new BS(this.getSubject(),this))),r.closed&&(this._connection=null,r=et.EMPTY)),r},e.prototype.refCount=function(){return wc()(this)},e}(ve),LS=function(){var t=u0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),BS=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(a0);function PS(t,e,r,n){return function(i){return i.lift(new $S(t,e,r,n))}}var $S=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new DS(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),DS=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(f){this.error(f)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new gt,i.set(n,s);var a=new _u(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new _u(n,s))}catch(f){this.error(f);return}this.add(c.subscribe(new FS(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ie),FS=function(t){G(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ie),_u=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new et,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new jS(s)),n.add(o.subscribe(r)),n},e}(ve),jS=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(et),c0=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(gt),US=function(t){G(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(et),gs=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(US),WS=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(gs),Eu=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),ys=function(t){G(e,t);function e(r,n){n===void 0&&(n=Eu.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Eu),HS=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ys),l0=new HS(WS),f0=l0,li=new ve(function(t){return t.complete()});function Mi(t){return t?VS(t):li}function VS(t){return new ve(function(e){return t.schedule(function(){return e.complete()})})}function Ot(t){return t&&typeof t.schedule=="function"}var h0=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function _c(t,e){return new ve(function(r){var n=new et,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function bs(t,e){return e?_c(t,e):new ve(h0(t))}function Po(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ot(r)?(t.pop(),_c(t,r)):bs(t)}function Ec(t,e){return e?new ve(function(r){return e.schedule(zS,0,{error:t,subscriber:r})}):new ve(function(r){return r.error(t)})}function zS(t){var e=t.error,r=t.subscriber;r.error(e)}var Su;Su||(Su={});var _r=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Po(this.value);case"E":return Ec(this.error);case"C":return Mi()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function qS(t,e){return e===void 0&&(e=0),function(n){return n.lift(new GS(t,e))}}var GS=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new d0(e,this.scheduler,this.delay))},t}(),d0=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new JS(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(_r.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(_r.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(_r.createComplete()),this.unsubscribe()},e}(ie),JS=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Sc=function(t){G(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new ZS(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Tr;if(this.isStopped||this.hasError?a=et.EMPTY:(this.observers.push(r),a=new o0(this,r)),s&&r.add(r=new d0(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||f0).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(gt),ZS=function(){function t(e,r){this.time=e,this.value=r}return t}(),Ci=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),et.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),et.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(gt),QS=1,YS=function(){return Promise.resolve()}(),xu={};function Ff(t){return t in xu?(delete xu[t],!0):!1}var jf={setImmediate:function(t){var e=QS++;return xu[e]=!0,YS.then(function(){return Ff(e)&&t()}),e},clearImmediate:function(t){Ff(t)}},KS=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=jf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(jf.clearImmediate(n),r.scheduled=void 0)},e}(gs),XS=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(ys),p0=new XS(KS),js=p0,g0=new ys(gs),It=g0,e3=function(t){G(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(gs),t3=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(ys),y0=new t3(e3),r3=y0,n3=function(t){G(e,t);function e(r,n){r===void 0&&(r=b0),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(ys),b0=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(gs);function ur(){}function i3(t){return!!t&&(t instanceof ve||typeof t.lift=="function"&&typeof t.subscribe=="function")}var s3=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),fi=s3,o3=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),vs=o3,a3=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),v0=a3;function Gt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new u3(t,e))}}var u3=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new c3(e,this.project,this.thisArg))},t}(),c3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ie);function m0(t,e,r){if(e)if(Ot(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return m0(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ve(function(c){if(r){var g={args:n,subscriber:c,params:a};return r.schedule(l3,0,g)}else{if(!o){o=new Ci;var f=function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];o.next(y.length<=1?y[0]:y),o.complete()};try{t.apply(s,n.concat([f]))}catch(y){mc(o)?o.error(y):console.warn(y)}}return o.subscribe(c)}})}}function l3(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Ci;var f=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var m=g.length<=1?g[0]:g;e.add(a.schedule(f3,0,{value:m,subject:c}))};try{s.apply(o,r.concat([f]))}catch(g){c.error(g)}}this.add(c.subscribe(n))}function f3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function w0(t,e,r){if(e)if(Ot(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return w0(t,r).apply(void 0,n).pipe(Gt(function(s){return Ct(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ve(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(h3,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Ci;var f=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var m=g.shift();if(m){c.error(m);return}c.next(g.length<=1?g[0]:g),c.complete()};try{t.apply(a,n.concat([f]))}catch(g){mc(c)?c.error(g):console.warn(g)}}return c.subscribe(o)})}}function h3(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Ci;var f=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var m=g.shift();if(m)e.add(a.schedule(Uf,0,{err:m,subject:c}));else{var A=g.length<=1?g[0]:g;e.add(a.schedule(d3,0,{value:A,subject:c}))}};try{s.apply(i,o.concat([f]))}catch(g){this.add(a.schedule(Uf,0,{err:g,subject:c}))}}this.add(c.subscribe(n))}function d3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Uf(t){var e=t.err,r=t.subject;r.error(e)}var Rn=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ie),p3=function(t){G(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ie),g3=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Gn),e}};function y3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dr=y3(),b3=function(t){return function(e){var r=t[Dr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},v3=function(t){return function(e){var r=t[xi]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},_0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function E0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Gi=function(t){if(t&&typeof t[xi]=="function")return v3(t);if(_0(t))return h0(t);if(E0(t))return g3(t);if(t&&typeof t[Dr]=="function")return b3(t);var e=vc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Sr(t,e,r,n,i){if(i===void 0&&(i=new p3(t,r,n)),!i.closed)return e instanceof ve?e.subscribe(i):Gi(e)(i)}var Wf={};function m3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ot(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0]),bs(t,n).lift(new xc(r))}var xc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new w3(e,this.resultSelector))},t}(),w3=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Wf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Sr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Wf?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rn);function _3(t,e){return new ve(function(r){var n=new et;return n.add(e.schedule(function(){var i=t[xi]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function E3(t,e){return new ve(function(r){var n=new et;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function S3(t,e){if(!t)throw new Error("Iterable cannot be null");return new ve(function(r){var n=new et,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Dr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function x3(t){return t&&typeof t[xi]=="function"}function M3(t){return t&&typeof t[Dr]=="function"}function S0(t,e){if(t!=null){if(x3(t))return _3(t,e);if(E0(t))return E3(t,e);if(_0(t))return _c(t,e);if(M3(t)||typeof t=="string")return S3(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function xr(t,e){return e?S0(t,e):t instanceof ve?t:new ve(Gi(t))}var tt=function(t){G(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ie),rt=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ie);function nt(t,e){if(!e.closed){if(t instanceof ve)return t.subscribe(e);var r;try{r=Gi(t)(e)}catch(n){e.error(n)}return r}}function vn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(vn(function(i,s){return xr(t(i,s)).pipe(Gt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new C3(t,r))})}var C3=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new I3(e,this.project,this.concurrent))},t}(),I3=function(t){G(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(rt),R3=vn;function Mc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),vn($r,t)}function x0(){return Mc(1)}function Ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x0()(Po.apply(void 0,t))}function Cc(t){return new ve(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?xr(r):Mi();return n.subscribe(e)})}function A3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ct(r))return Ns(r,null);if(vc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Ns(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ct(t[0])?t[0]:t,Ns(t,null).pipe(Gt(function(s){return i.apply(void 0,s)}))}return Ns(t,null)}function Ns(t,e){return new ve(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(f){var g=xr(t[f]),y=!1;r.add(g.subscribe({next:function(m){y||(y=!0,o++),i[f]=m},error:function(m){return r.error(m)},complete:function(){s++,(s===n||!y)&&(o===n&&r.next(e?e.reduce(function(m,A,k){return m[A]=i[k],m},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function M0(t,e,r,n){return ci(r)&&(n=r,r=void 0),n?M0(t,e,r).pipe(Gt(function(i){return Ct(i)?n.apply(void 0,i):n(i)})):new ve(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}C0(t,e,s,i,r)})}function C0(t,e,r,n,i){var s;if(N3(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(k3(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(T3(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var f=0,g=t.length;f<g;f++)C0(t[f],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function T3(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function k3(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function N3(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function I0(t,e,r){return r?I0(t,e).pipe(Gt(function(n){return Ct(n)?r.apply(void 0,n):r(n)})):new ve(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(ci(e))return function(){return e(i,s)}})}function O3(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||$r,i=a.scheduler}else n===void 0||Ot(n)?(o=t,s=$r,i=n):(o=t,s=n);return new ve(function(c){var f=o;if(i)return i.schedule(L3,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:f});do{if(e){var g=void 0;try{g=e(f)}catch(m){c.error(m);return}if(!g){c.complete();break}}var y=void 0;try{y=s(f)}catch(m){c.error(m);return}if(c.next(y),c.closed)break;try{f=r(f)}catch(m){c.error(m);return}}while(!0)})}function L3(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function B3(t,e,r){return e===void 0&&(e=li),r===void 0&&(r=li),Cc(function(){return t()?e:r})}function hi(t){return!Ct(t)&&t-parseFloat(t)+1>=0}function P3(t,e){return t===void 0&&(t=0),e===void 0&&(e=It),(!hi(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=It),new ve(function(r){return r.add(e.schedule($3,t,{subscriber:r,counter:0,period:t})),r})}function $3(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function R0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ot(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ve?t[0]:Mc(r)(bs(t,n))}var A0=new ve(ur);function D3(){return A0}function Mu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return li;var r=t[0],n=t.slice(1);return t.length===1&&Ct(r)?Mu.apply(void 0,r):new ve(function(i){var s=function(){return i.add(Mu.apply(void 0,n).subscribe(i))};return xr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function F3(t,e){return e?new ve(function(r){var n=Object.keys(t),i=new et;return i.add(e.schedule(j3,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ve(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function j3(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function T0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Fr(t,e){return function(n){return n.lift(new U3(t,e))}}var U3=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new W3(e,this.predicate,this.thisArg))},t}(),W3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ie);function H3(t,e,r){return[Fr(e,r)(new ve(Gi(t))),Fr(T0(e,r))(new ve(Gi(t)))]}function k0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ct(t[0]))t=t[0];else return t[0];return bs(t,void 0).lift(new V3)}var V3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new z3(e))},t}(),z3=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Sr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Rn);function q3(t,e,r){return t===void 0&&(t=0),new ve(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(G3,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function G3(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function N0(t,e,r){t===void 0&&(t=0);var n=-1;return hi(e)?n=Number(e)<1&&1||Number(e):Ot(e)&&(r=e),Ot(r)||(r=It),new ve(function(i){var s=hi(t)?t:+t-r.now();return r.schedule(J3,s,{index:0,period:n,subscriber:i})})}function J3(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Z3(t,e){return new ve(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?xr(i):li,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function O0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),bs(t,void 0).lift(new L0(r))}var L0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Q3(e,this.resultSelector))},t}(),Q3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ct(r)?n.push(new K3(r)):typeof r[Dr]=="function"?n.push(new Y3(r[Dr]())):n.push(new X3(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],f=o.next();if(o.hasCompleted()&&(a=!0),f.done){i.complete();return}c.push(f.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ie),Y3=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),K3=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Dr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),X3=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Dr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return nt(this.observable,new tt(this))},e}(rt);const e4=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:fi,AsyncSubject:Ci,BehaviorSubject:c0,ConnectableObservable:u0,EMPTY:li,EmptyError:vs,GroupedObservable:_u,NEVER:A0,Notification:_r,get NotificationKind(){return Su},ObjectUnsubscribedError:Tr,Observable:ve,ReplaySubject:Sc,Scheduler:Eu,Subject:gt,Subscriber:ie,Subscription:et,TimeoutError:v0,UnsubscriptionError:Wi,VirtualAction:b0,VirtualTimeScheduler:n3,animationFrame:r3,animationFrameScheduler:y0,asap:js,asapScheduler:p0,async:It,asyncScheduler:g0,bindCallback:m0,bindNodeCallback:w0,combineLatest:m3,concat:Ji,config:Ut,defer:Cc,empty:Mi,forkJoin:A3,from:xr,fromEvent:M0,fromEventPattern:I0,generate:O3,identity:$r,iif:B3,interval:P3,isObservable:i3,merge:R0,never:D3,noop:ur,observable:xi,of:Po,onErrorResumeNext:Mu,pairs:F3,partition:H3,pipe:wu,queue:f0,queueScheduler:l0,race:k0,range:q3,scheduled:S0,throwError:Ec,timer:N0,using:Z3,zip:O0},Symbol.toStringTag,{value:"Module"})),$o=wn(e4);var Do={};function B0(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=B0(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Hf(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=B0(t))&&(n&&(n+=" "),n+=e);return n}const t4=Object.freeze(Object.defineProperty({__proto__:null,clsx:Hf,default:Hf},Symbol.toStringTag,{value:"Module"})),Fo=wn(t4),ms=wn(fp);var pr={},jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.CloseIcon=void 0;const Vf=Lt;function r4(t){return(0,Vf.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Vf.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}jo.CloseIcon=r4;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.QRCodeIcon=void 0;const sr=Lt;function n4(t){return(0,sr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,sr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,sr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,sr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,sr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,sr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,sr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,sr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,sr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,sr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Uo.QRCodeIcon=n4;var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});const i4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Ac.default=i4;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.StatusDotIcon=void 0;const zf=Lt;function s4(t){return(0,zf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,zf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Wo.StatusDotIcon=s4;var Ho={};function P0(t){this.mode=kt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}P0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function gr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}gr.prototype={addData:function(t){var e=new P0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=gr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ke.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,f=this.modules[s][a];f&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ke.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ke.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ke.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var f=Ke.getMask(e,n,o-a);f&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};gr.PAD0=236;gr.PAD1=17;gr.createData=function(t,e,r){for(var n=fr.getRSBlocks(t,e),i=new $0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ke.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(gr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(gr.PAD1,8);return gr.createBytes(i,n)};gr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,f=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,f),s[a]=new Array(c);for(var g=0;g<s[a].length;g++)s[a][g]=255&t.buffer[g+r];r+=c;var y=Ke.getErrorCorrectPolynomial(f),m=new ei(s[a],y.getLength()-1),A=m.mod(y);o[a]=new Array(y.getLength()-1);for(var g=0;g<o[a].length;g++){var k=g+A.getLength()-o[a].length;o[a][g]=k>=0?A.get(k):0}}for(var U=0,g=0;g<e.length;g++)U+=e[g].totalCount;for(var F=new Array(U),R=0,g=0;g<n;g++)for(var a=0;a<e.length;a++)g<s[a].length&&(F[R++]=s[a][g]);for(var g=0;g<i;g++)for(var a=0;a<e.length;a++)g<o[a].length&&(F[R++]=o[a][g]);return F};var kt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Nr={L:1,M:0,Q:3,H:2},Mr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ke={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15)>=0;)e^=Ke.G15<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15);return(t<<10|e)^Ke.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18)>=0;)e^=Ke.G18<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ke.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Mr.PATTERN000:return(e+r)%2==0;case Mr.PATTERN001:return e%2==0;case Mr.PATTERN010:return r%3==0;case Mr.PATTERN011:return(e+r)%3==0;case Mr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Mr.PATTERN101:return e*r%2+e*r%3==0;case Mr.PATTERN110:return(e*r%2+e*r%3)%2==0;case Mr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ei([1],0),r=0;r<t;r++)e=e.multiply(new ei([1,pt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case kt.MODE_NUMBER:return 10;case kt.MODE_ALPHA_NUM:return 9;case kt.MODE_8BIT_BYTE:return 8;case kt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case kt.MODE_NUMBER:return 12;case kt.MODE_ALPHA_NUM:return 11;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case kt.MODE_NUMBER:return 14;case kt.MODE_ALPHA_NUM:return 13;case kt.MODE_8BIT_BYTE:return 16;case kt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var f=0;t.isDark(n,i)&&f++,t.isDark(n+1,i)&&f++,t.isDark(n,i+1)&&f++,t.isDark(n+1,i+1)&&f++,(f==0||f==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var g=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&g++;var y=Math.abs(100*g/e/e-50)/5;return r+=y*10,r}},pt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return pt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return pt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var bt=0;bt<8;bt++)pt.EXP_TABLE[bt]=1<<bt;for(var bt=8;bt<256;bt++)pt.EXP_TABLE[bt]=pt.EXP_TABLE[bt-4]^pt.EXP_TABLE[bt-5]^pt.EXP_TABLE[bt-6]^pt.EXP_TABLE[bt-8];for(var bt=0;bt<255;bt++)pt.LOG_TABLE[pt.EXP_TABLE[bt]]=bt;function ei(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}ei.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=pt.gexp(pt.glog(this.get(r))+pt.glog(t.get(n)));return new ei(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=pt.glog(this.get(0))-pt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=pt.gexp(pt.glog(t.get(n))+e);return new ei(r,0).mod(t)}};function fr(t,e){this.totalCount=t,this.dataCount=e}fr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];fr.getRSBlocks=function(t,e){var r=fr.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],f=0;f<o;f++)i.push(new fr(a,c));return i};fr.getRsBlockTable=function(t,e){switch(e){case Nr.L:return fr.RS_BLOCK_TABLE[(t-1)*4+0];case Nr.M:return fr.RS_BLOCK_TABLE[(t-1)*4+1];case Nr.Q:return fr.RS_BLOCK_TABLE[(t-1)*4+2];case Nr.H:return fr.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function $0(){this.buffer=[],this.length=0}$0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ja=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function D0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Nr.L;case"M":return Nr.M;case"Q":return Nr.Q;case"H":return Nr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,f){for(var g=i(c),y=1,m=0,A=0,k=Ja.length;A<=k;A++){var U=Ja[A];if(!U)throw new Error("Content too long: expected "+m+" but got "+g);switch(f){case"L":m=U[0];break;case"M":m=U[1];break;case"Q":m=U[2];break;case"H":m=U[3];break;default:throw new Error("Unknwon error correction level: "+f)}if(g<=m)break;y++}if(y>Ja.length)throw new Error("Content too long");return y}function i(c){var f=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return f.length+(f.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new gr(o,a),this.qrcode.addData(s),this.qrcode.make()}D0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,f=o/(c+2*e.padding),g=a/(c+2*e.padding),y=typeof e.join<"u"?!!e.join:!1,m=typeof e.swap<"u"?!!e.swap:!1,A=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,k=typeof e.predefined<"u"?!!e.predefined:!1,U=k?i+'<defs><path id="qrmodule" d="M0 0 h'+g+" v"+f+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",F=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,R="",O="",$=0;$<c;$++)for(var H=0;H<c;H++){var j=r[H][$];if(j){var z=H*f+e.padding*f,ee=$*g+e.padding*g;if(m){var K=z;z=ee,ee=K}if(y){var Z=f+z,se=g+ee;z=Number.isInteger(z)?Number(z):z.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),se=Number.isInteger(se)?Number(se):se.toFixed(2),O+="M"+z+","+ee+" V"+se+" H"+Z+" V"+ee+" H"+z+" Z "}else k?R+=i+'<use x="'+z.toString()+'" y="'+ee.toString()+'" href="#qrmodule" />'+s:R+=i+'<rect x="'+z.toString()+'" y="'+ee.toString()+'" width="'+f+'" height="'+g+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}y&&(R=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+O+'" />');let ne="";if(this.options.image!==void 0&&this.options.image.svg){const w=o*this.options.image.width/100,u=a*this.options.image.height/100,p=o/2-w/2,v=a/2-u/2;ne+=`<svg x="${p}" y="${v}" width="${w}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ne+=this.options.image.svg+s,ne+="</svg>"}var oe="";switch(t.container){case"svg":A&&(oe+='<?xml version="1.0" standalone="yes"?>'+s),oe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,oe+=U+F+R,oe+=ne,oe+="</svg>";break;case"svg-viewbox":A&&(oe+='<?xml version="1.0" standalone="yes"?>'+s),oe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,oe+=U+F+R,oe+=ne,oe+="</svg>";break;case"g":oe+='<g width="'+o+'" height="'+a+'">'+s,oe+=U+F+R,oe+=ne,oe+="</g>";break;default:oe+=(U+F+R+ne).replace(/^\s+/,"");break}return oe};var o4=D0,a4=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.QRCode=void 0;const u4=Lt,qf=ms,c4=a4(o4),l4=t=>{const[e,r]=(0,qf.useState)("");return(0,qf.useEffect)(()=>{var n,i;const s=new c4.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,u4.h)("img",{src:e,alt:"QR Code"}):null};Ho.QRCode=l4;var Vo={},kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var f4=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.Spinner=void 0;const Os=Lt,h4=f4(kc),d4=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Os.h)("div",{class:"-cbwsdk-spinner"},(0,Os.h)("style",null,h4.default),(0,Os.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Os.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Vo.Spinner=d4;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ii=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.CoinbaseAppSteps=pr.CoinbaseWalletSteps=pr.ConnectItem=pr.ConnectContent=void 0;const Ht=Ii(Fo),le=Lt,Gf=ms,p4=re,g4=yi,y4=jo,b4=Ii(Ic),v4=Ii(Rc),F0=Uo,m4=Ii(Ac),w4=Ii(Tc),_4=Wo,E4=Ho,S4=Vo,x4=Ii(Nc),Jf={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:v4.default,steps:U0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:b4.default,steps:W0}},M4=t=>{switch(t){case"coinbase-app":return m4.default;case"coinbase-wallet-app":default:return w4.default}},Cu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function C4(t){const{theme:e}=t,[r,n]=(0,Gf.useState)("coinbase-wallet-app"),i=(0,Gf.useCallback)(f=>{n(f)},[]),s=(0,p4.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Jf[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,le.h)("div",{"data-testid":"connect-content",class:(0,Ht.default)("-cbwsdk-connect-content",e)},(0,le.h)("style",null,x4.default),(0,le.h)("div",{class:"-cbwsdk-connect-content-header"},(0,le.h)("h2",{class:(0,Ht.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,le.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,le.h)(y4.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,le.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,le.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,le.h)("div",null,Object.entries(Jf).map(([f,g])=>(0,le.h)(j0,{key:f,title:g.title,description:g.description,icon:g.icon,selected:r===f,onClick:()=>i(f),theme:e}))),c&&(0,le.h)("div",{class:(0,Ht.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,le.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,le.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,le.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,le.h)(E4.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:M4(r),width:25,height:25}}),(0,le.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:g4.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:s})),(0,le.h)(a,{theme:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Ht.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,le.h)(S4.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting...")))))}pr.ConnectContent=C4;function j0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,le.h)("div",{onClick:s,class:(0,Ht.default)("-cbwsdk-connect-item",i,{selected:n})},(0,le.h)("div",null,(0,le.h)("img",{src:r,alt:t})),(0,le.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,le.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,le.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}pr.ConnectItem=j0;function U0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"Scan")," "),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(F0.QRCodeIcon,{fill:Cu(t)})))))}pr.CoinbaseWalletSteps=U0;function W0({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,le.h)("li",{class:(0,Ht.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"More")),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(_4.StatusDotIcon,{fill:Cu(t)})),(0,le.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,le.h)("strong",null,"Scan")),(0,le.h)("span",{class:(0,Ht.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(F0.QRCodeIcon,{fill:Cu(t)})))))}pr.CoinbaseAppSteps=W0;var zo={},qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.ArrowLeftIcon=void 0;const Zf=Lt;function I4(t){return(0,Zf.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Zf.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}qo.ArrowLeftIcon=I4;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.LaptopIcon=void 0;const Za=Lt;function R4(t){return(0,Za.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Za.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Za.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Go.LaptopIcon=R4;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.SafeIcon=void 0;const Qf=Lt;function A4(t){return(0,Qf.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Qf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Jo.SafeIcon=A4;var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var H0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zo,"__esModule",{value:!0});zo.TryExtensionContent=void 0;const rn=H0(Fo),st=Lt,Qa=ms,T4=qo,k4=Go,N4=Jo,O4=H0(Oc);function L4({theme:t}){const[e,r]=(0,Qa.useState)(!1),n=(0,Qa.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Qa.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension",t)},(0,st.h)("style",null,O4.default),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("h3",{class:(0,rn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,st.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,st.h)("button",{class:(0,rn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,st.h)("div",null,!e&&(0,st.h)(T4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,st.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,st.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(k4.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,st.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,st.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,st.h)("span",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,st.h)(N4.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,st.h)("div",{class:(0,rn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}zo.TryExtensionContent=L4;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var V0=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Do,"__esModule",{value:!0});Do.ConnectDialog=void 0;const Ya=V0(Fo),nn=Lt,Ka=ms,B4=pr,P4=zo,$4=V0(Lc),D4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Ka.useState)(!e),[s,o]=(0,Ka.useState)(!e);(0,Ka.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,nn.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,nn.h)("style",null,$4.default),(0,nn.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,nn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,nn.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,nn.h)(B4.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,nn.h)(P4.TryExtensionContent,{theme:a}))))};Do.ConnectDialog=D4;Object.defineProperty(Bo,"__esModule",{value:!0});Bo.LinkFlow=void 0;const Xa=Lt,Yf=$o,F4=Do;class j4{constructor(e){this.extensionUI$=new Yf.BehaviorSubject({}),this.subscriptions=new Yf.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Xa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Xa.render)((0,Xa.h)(F4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Bo.LinkFlow=j4;var z0={},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=te&&te.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Fo),n=Lt,i=ms,s=e(Bc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(y){switch(y){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(m){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=m.darkMode}attach(m){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",m.appendChild(this.root),this.render()}presentItem(m){const A=this.nextItemKey++;return this.items.set(A,m),this.render(),()=>{this.items.delete(A),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([m,A])=>(0,n.h)(t.SnackbarInstance,Object.assign({},A,{key:m}))))),this.root)}}t.Snackbar=c;const f=y=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},y.children));t.SnackbarContainer=f;const g=({autoExpand:y,message:m,menuItems:A,appSrc:k})=>{const[U,F]=(0,i.useState)(!0),[R,O]=(0,i.useState)(y??!1);(0,i.useEffect)(()=>{const H=[window.setTimeout(()=>{F(!1)},1),window.setTimeout(()=>{O(!0)},1e4)];return()=>{H.forEach(window.clearTimeout)}});const $=()=>{O(!R)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",U&&"-cbwsdk-snackbar-instance-hidden",R&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:$},(0,n.h)("img",{src:a(k),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},m),(0,n.h)("div",{class:"-gear-container"},!R&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),A&&A.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},A.map((H,j)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:H.onClick,key:j},(0,n.h)("svg",{width:H.svgWidth,height:H.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":H.defaultFillRule,"clip-rule":H.defaultClipRule,d:H.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},H.info)))))};t.SnackbarInstance=g})(z0);var Zo={},Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var U4=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.injectCssReset=void 0;const W4=U4(Pc);function H4(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(W4.default)),document.documentElement.appendChild(t)}Zo.injectCssReset=H4;Object.defineProperty(Lo,"__esModule",{value:!0});Lo.WalletSDKUI=void 0;const V4=Bo,z4=z0,q4=Zo;class G4{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new z4.Snackbar({darkMode:e.darkMode}),this.linkFlow=new V4.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,q4.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Lo.WalletSDKUI=G4;var Qo={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});var Jn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Jn||(Jn={}));function q0(t,e,r){if(!r||typeof r.value!==Jn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Jn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Jn.boolTrue,writable:Jn.boolTrue}),n}}}Yo.bind=q0;Yo.default=q0;function G0(t){return function(r){return r.lift(new J4(t))}}var J4=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Z4(e,this.durationSelector))},t}(),Z4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=nt(n,new tt(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(rt);function Q4(t,e){return e===void 0&&(e=It),G0(function(){return N0(t,e)})}function Y4(t){return function(r){return r.lift(new K4(t))}}var K4=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new X4(e,this.closingNotifier))},t}(),X4=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(nt(n,new tt(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(rt);function ex(t,e){return e===void 0&&(e=null),function(n){return n.lift(new tx(t,e))}}var tx=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=rx:this.subscriberClass=nx}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),rx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ie),nx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var f=o[c];f.push(r),f.length===i&&(o.splice(c,1),this.destination.next(f))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ie);function ix(t){var e=arguments.length,r=It;Ot(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new sx(t,n,i,r))}}var sx=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ax(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),ox=function(){function t(){this.buffer=[]}return t}(),ax=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var f={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Kf,n,f))}else{var g={subscriber:a,context:c},y={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(J0,n,g)),a.add(o.schedule(ux,i,y))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Kf,i,s))}},e.prototype.openContext=function(){var r=new ox;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ie);function Kf(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ux(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(J0,r,{subscriber:n,context:s})),o.schedule(t,e))}function J0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function cx(t,e){return function(n){return n.lift(new lx(t,e))}}var lx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new fx(e,this.openings,this.closingSelector))},t}(),fx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Sr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new et,o={buffer:i,subscription:s};n.push(o);var a=Sr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Rn);function hx(t){return function(e){return e.lift(new dx(t))}}var dx=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new px(e,this.closingSelector))},t}(),px=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new et,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(nt(i,new tt(this))),this.subscribing=!1},e}(rt);function gx(t){return function(r){var n=new yx(t),i=r.lift(n);return n.caught=i}}var yx=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new bx(e,this.selector,this.caught))},t}(),bx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new tt(this);this.add(i);var s=nt(n,i);s!==i&&this.add(s)}},e}(rt);function vx(t){return function(e){return e.lift(new xc(t))}}function mx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ct(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(xr([n].concat(t)),new xc(r))}}function wx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Ji.apply(void 0,[r].concat(t)))}}function Z0(t,e){return vn(t,e,1)}function _x(t,e){return Z0(function(){return t},e)}function Ex(t){return function(e){return e.lift(new Sx(t,e))}}var Sx=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new xx(e,this.predicate,this.source))},t}(),xx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ie);function Mx(t){return function(e){return e.lift(new Cx(t))}}var Cx=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ix(e,this.durationSelector))},t}(),Ix=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=nt(n,new tt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(rt);function Rx(t,e){return e===void 0&&(e=It),function(r){return r.lift(new Ax(t,e))}}var Ax=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Tx(e,this.dueTime,this.scheduler))},t}(),Tx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(kx,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ie);function kx(t){t.debouncedNext()}function ws(t){return t===void 0&&(t=null),function(e){return e.lift(new Nx(t))}}var Nx=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Ox(e,this.defaultValue))},t}(),Ox=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ie);function Q0(t){return t instanceof Date&&!isNaN(+t)}function Lx(t,e){e===void 0&&(e=It);var r=Q0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Bx(n,e))}}var Bx=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Px(e,this.delay,this.scheduler))},t}(),Px=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new $x(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(_r.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(_r.createComplete()),this.unsubscribe()},e}(ie),$x=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Dx(t,e){return e?function(r){return new jx(r,e).lift(new Xf(t))}:function(r){return r.lift(new Xf(t))}}var Xf=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Fx(e,this.delayDurationSelector))},t}(),Fx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Sr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Rn),jx=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Ux(r,this.source))},e}(ve),Ux=function(t){G(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ie);function Wx(){return function(e){return e.lift(new Hx)}}var Hx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Vx(e))},t}(),Vx=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ie);function zx(t,e){return function(r){return r.lift(new qx(t,e))}}var qx=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Gx(e,this.keySelector,this.flushes))},t}(),Gx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(nt(i,new tt(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(rt);function Y0(t,e){return function(r){return r.lift(new Jx(t,e))}}var Jx=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Zx(e,this.compare,this.keySelector))},t}(),Zx=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ie);function Qx(t,e){return Y0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Ko(t){return t===void 0&&(t=Xx),function(e){return e.lift(new Yx(t))}}var Yx=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new Kx(e,this.errorFactory))},t}(),Kx=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ie);function Xx(){return new vs}function $c(t){return function(e){return t===0?Mi():e.lift(new e5(t))}}var e5=function(){function t(e){if(this.total=e,this.total<0)throw new fi}return t.prototype.call=function(e,r){return r.subscribe(new t5(e,this.total))},t}(),t5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ie);function r5(t,e){if(t<0)throw new fi;var r=arguments.length>=2;return function(n){return n.pipe(Fr(function(i,s){return s===t}),$c(1),r?ws(e):Ko(function(){return new fi}))}}function n5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Ji(r,Po.apply(void 0,t))}}function i5(t,e){return function(r){return r.lift(new s5(t,e,r))}}var s5=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new o5(e,this.predicate,this.thisArg,this.source))},t}(),o5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function a5(){return function(t){return t.lift(new u5)}}var u5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new c5(e))},t}(),c5=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(nt(r,new tt(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function K0(t,e){return e?function(r){return r.pipe(K0(function(n,i){return xr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new l5(t))}}var l5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new f5(e,this.project))},t}(),f5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(rt);function h5(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new d5(t,e,r))}}var d5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new p5(e,this.project,this.concurrent,this.scheduler))},t}(),p5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(f){n.error(f)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(nt(r,new tt(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(rt);function g5(t){return function(e){return e.lift(new y5(t))}}var y5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new b5(e,this.callback))},t}(),b5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new et(n)),i}return e}(ie);function v5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new X0(t,r,!1,e))}}var X0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new m5(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),m5=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ie);function w5(t,e){return function(r){return r.lift(new X0(t,r,!0,e))}}function _5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Fr(function(i,s){return t(i,s,n)}):$r,$c(1),r?ws(e):Ko(function(){return new vs}))}}function E5(){return function(e){return e.lift(new S5)}}var S5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new x5(e))},t}(),x5=function(t){G(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ie);function M5(){return function(t){return t.lift(new C5)}}var C5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new I5(e))},t}(),I5=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ie);function Ys(t){return function(r){return t===0?Mi():r.lift(new R5(t))}}var R5=function(){function t(e){if(this.total=e,this.total<0)throw new fi}return t.prototype.call=function(e,r){return r.subscribe(new A5(e,this.total))},t}(),A5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ie);function T5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Fr(function(i,s){return t(i,s,n)}):$r,Ys(1),r?ws(e):Ko(function(){return new vs}))}}function k5(t){return function(e){return e.lift(new N5(t))}}var N5=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new O5(e,this.value))},t}(),O5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ie);function L5(){return function(e){return e.lift(new B5)}}var B5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new P5(e))},t}(),P5=function(t){G(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(_r.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(_r.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(_r.createComplete()),r.complete()},e}(ie);function Ks(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new $5(t,e,r))}}var $5=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new D5(e,this.accumulator,this.seed,this.hasSeed))},t}(),D5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ie);function Xo(t,e){return arguments.length>=2?function(n){return wu(Ks(t,e),Ys(1),ws(e))(n)}:function(n){return wu(Ks(function(i,s,o){return t(i,s,o+1)}),Ys(1))(n)}}function F5(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Xo(e)}function j5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(R0.apply(void 0,[r].concat(t)))}}function U5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?vn(function(){return t},e,r):(typeof e=="number"&&(r=e),vn(function(){return t},r))}function W5(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new H5(t,e,r))}}var H5=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new V5(e,this.accumulator,this.seed,this.concurrent))},t}(),V5=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(rt);function z5(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Xo(e)}function mn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new q5(i,e));var s=Object.create(n,LS);return s.source=n,s.subjectFactory=i,s}}var q5=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function G5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ct(t[0])&&(t=t[0]),function(r){return r.lift(new J5(t))}}var J5=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Z5(e,this.nextSources))},t}(),Z5=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new tt(this),i=this.destination;i.add(n);var s=nt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(rt);function Q5(){return function(t){return t.lift(new Y5)}}var Y5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new K5(e))},t}(),K5=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ie);function X5(t,e){return function(r){return[Fr(t,e)(r),Fr(T0(t,e))(r)]}}function eM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Gt(tM(t,r))(n)}}function tM(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function rM(t){return t?mn(function(){return new gt},t):mn(new gt)}function nM(t){return function(e){return mn(new c0(t))(e)}}function iM(){return function(t){return mn(new Ci)(t)}}function sM(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Sc(t,e,n);return function(o){return mn(function(){return s},i)(o)}}function oM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ct(t[0])&&(t=t[0]),n.lift.call(k0.apply(void 0,[n].concat(t)))}}function aM(t){return t===void 0&&(t=-1),function(e){return t===0?Mi():t<0?e.lift(new eh(-1,e)):e.lift(new eh(t-1,e))}}var eh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new uM(e,this.count,this.source))},t}(),uM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function cM(t){return function(e){return e.lift(new lM(t))}}var lM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new fM(e,this.notifier,r))},t}(),fM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new gt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=nt(r,new tt(this))},e}(rt);function hM(t){return t===void 0&&(t=-1),function(e){return e.lift(new dM(t,e))}}var dM=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new pM(e,this.count,this.source))},t}(),pM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ie);function gM(t){return function(e){return e.lift(new yM(t,e))}}var yM=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new bM(e,this.notifier,this.source))},t}(),bM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new gt;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=nt(i,new tt(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(rt);function vM(t){return function(e){return e.lift(new mM(t))}}var mM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new wM(e),i=r.subscribe(n);return i.add(nt(this.notifier,new tt(n))),i},t}(),wM=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(rt);function _M(t,e){return e===void 0&&(e=It),function(r){return r.lift(new EM(t,e))}}var EM=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new SM(e,this.period,this.scheduler))},t}(),SM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(xM,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ie);function xM(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function MM(t,e){return function(r){return r.lift(new CM(t,e))}}var CM=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new IM(e,this.compareTo,this.comparator))},t}(),IM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new RM(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(f){this.destination.error(f)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ie),RM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ie);function AM(){return new gt}function TM(){return function(t){return wc()(mn(AM)(t))}}function kM(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(NM(n))}}function NM(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,f,g=!1,y=!1;return function(A){c++;var k;!a||g?(g=!1,a=new Sc(r,i,o),k=a.subscribe(this),f=A.subscribe({next:function(U){a.next(U)},error:function(U){g=!0,a.error(U)},complete:function(){y=!0,f=void 0,a.complete()}}),y&&(f=void 0)):k=a.subscribe(this),this.add(function(){c--,k.unsubscribe(),k=void 0,f&&!y&&s&&c===0&&(f.unsubscribe(),f=void 0,a=void 0)})}}function OM(t){return function(e){return e.lift(new LM(t,e))}}var LM=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new BM(e,this.predicate,this.source))},t}(),BM=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new vs)},e}(ie);function PM(t){return function(e){return e.lift(new $M(t))}}var $M=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new DM(e,this.total))},t}(),DM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ie);function FM(t){return function(e){return e.lift(new jM(t))}}var jM=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new fi}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ie(e)):r.subscribe(new UM(e,this._skipCount))},t}(),UM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ie);function WM(t){return function(e){return e.lift(new HM(t))}}var HM=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new VM(e,this.notifier))},t}(),VM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new tt(i);i.add(s),i.innerSubscription=s;var o=nt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(rt);function zM(t){return function(e){return e.lift(new qM(t))}}var qM=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new GM(e,this.predicate))},t}(),GM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(ie);function JM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ot(r)?(t.pop(),function(n){return Ji(t,n,r)}):function(n){return Ji(t,n)}}var ZM=function(t){G(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=js);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!hi(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=js),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=js),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ve);function QM(t,e){return e===void 0&&(e=0),function(n){return n.lift(new YM(t,e))}}var YM=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new ZM(r,this.delay,this.scheduler).subscribe(e)},t}();function Zi(t,e){return typeof e=="function"?function(r){return r.pipe(Zi(function(n,i){return xr(t(n,i)).pipe(Gt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new KM(t))}}var KM=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new XM(e,this.project))},t}(),XM=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new tt(this),s=this.destination;s.add(i),this.innerSubscription=nt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(rt);function eC(){return Zi($r)}function tC(t,e){return e?Zi(function(){return t},e):Zi(function(){return t})}function rC(t){return function(e){return e.lift(new nC(t))}}var nC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new iC(e),i=nt(this.notifier,new tt(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),iC=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(rt);function sC(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new oC(t,e))}}var oC=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new aC(e,this.predicate,this.inclusive))},t}(),aC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ie);function uC(t,e,r){return function(i){return i.lift(new cC(t,e,r))}}var cC=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new lC(e,this.nextOrObserver,this.error,this.complete))},t}(),lC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ur,o._tapError=ur,o._tapComplete=ur,o._tapError=i||ur,o._tapComplete=s||ur,ci(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ur,o._tapError=n.error||ur,o._tapComplete=n.complete||ur),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ie),ep={leading:!0,trailing:!1};function fC(t,e){return e===void 0&&(e=ep),function(r){return r.lift(new hC(t,!!e.leading,!!e.trailing))}}var hC=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new dC(e,this.durationSelector,this.leading,this.trailing))},t}(),dC=function(t){G(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=nt(n,new tt(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(rt);function pC(t,e,r){return e===void 0&&(e=It),r===void 0&&(r=ep),function(n){return n.lift(new gC(t,e,r.leading,r.trailing))}}var gC=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new yC(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),yC=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(bC,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ie);function bC(t){var e=t.subscriber;e.clearThrottle()}function vC(t){return t===void 0&&(t=It),function(e){return Cc(function(){return e.pipe(Ks(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Gt(function(r){var n=r.current,i=r.last,s=r.value;return new mC(s,n-i)}))})}}var mC=function(){function t(e,r){this.value=e,this.interval=r}return t}();function tp(t,e,r){return r===void 0&&(r=It),function(n){var i=Q0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new wC(s,i,e,r))}}var wC=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new _C(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),_C=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(nt(n,new tt(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(rt);function EC(t,e){return e===void 0&&(e=It),tp(t,Ec(new v0),e)}function SC(t){return t===void 0&&(t=It),Gt(function(e){return new xC(e,t.now())})}var xC=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function MC(t,e,r){return r===0?[e]:(t.push(e),t)}function CC(){return Xo(MC,[])}function IC(t){return function(r){return r.lift(new RC(t))}}var RC=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new AC(e),i=r.subscribe(n);return i.closed||n.add(nt(this.windowBoundaries,new tt(n))),i},t}(),AC=function(t){G(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new gt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new gt;n.next(i)},e}(rt);function TC(t,e){return e===void 0&&(e=0),function(n){return n.lift(new kC(t,e))}}var kC=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new NC(e,this.windowSize,this.startWindowEvery))},t}(),NC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new gt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var f=this.count-s+1;if(f>=0&&f%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var g=new gt;o.push(g),i.next(g)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ie);function OC(t){var e=It,r=null,n=Number.POSITIVE_INFINITY;return Ot(arguments[3])&&(e=arguments[3]),Ot(arguments[2])?e=arguments[2]:hi(arguments[2])&&(n=Number(arguments[2])),Ot(arguments[1])?e=arguments[1]:hi(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new LC(t,r,n,e))}}var LC=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new PC(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),BC=function(t){G(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(gt),PC=function(t){G(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var f={subscriber:a,window:c,context:null},g={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(rp,n,f)),a.add(o.schedule(DC,i,g))}else{var y={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule($C,n,y))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new BC;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ie);function $C(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function DC(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(rp,e,c),o.add(a.subscription),o.schedule(t,i)}function rp(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function FC(t,e){return function(r){return r.lift(new jC(t,e))}}var jC=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new UC(e,this.openings,this.closingSelector))},t}(),UC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Sr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(A){return this.error(A)}var f=new gt,g=new et,y={window:f,subscription:g};this.contexts.push(y);var m=Sr(this,a,y);m.closed?this.closeWindow(this.contexts.length-1):(m.context=y,g.add(m)),this.destination.next(f)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Rn);function WC(t){return function(r){return r.lift(new HC(t))}}var HC=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new VC(e,this.closingSelector))},t}(),VC=function(t){G(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new gt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Sr(this,s))},e}(Rn);function zC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new qC(i,n))}}var qC=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new GC(e,this.observables,this.project))},t}(),GC=function(t){G(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Sr(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Rn);function JC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(O0.apply(void 0,[n].concat(t)))}}function ZC(t){return function(e){return e.lift(new L0(t))}}const QC=Object.freeze(Object.defineProperty({__proto__:null,audit:G0,auditTime:Q4,buffer:Y4,bufferCount:ex,bufferTime:ix,bufferToggle:cx,bufferWhen:hx,catchError:gx,combineAll:vx,combineLatest:mx,concat:wx,concatAll:x0,concatMap:Z0,concatMapTo:_x,count:Ex,debounce:Mx,debounceTime:Rx,defaultIfEmpty:ws,delay:Lx,delayWhen:Dx,dematerialize:Wx,distinct:zx,distinctUntilChanged:Y0,distinctUntilKeyChanged:Qx,elementAt:r5,endWith:n5,every:i5,exhaust:a5,exhaustMap:K0,expand:h5,filter:Fr,finalize:g5,find:v5,findIndex:w5,first:_5,flatMap:R3,groupBy:PS,ignoreElements:E5,isEmpty:M5,last:T5,map:Gt,mapTo:k5,materialize:L5,max:F5,merge:j5,mergeAll:Mc,mergeMap:vn,mergeMapTo:U5,mergeScan:W5,min:z5,multicast:mn,observeOn:qS,onErrorResumeNext:G5,pairwise:Q5,partition:X5,pluck:eM,publish:rM,publishBehavior:nM,publishLast:iM,publishReplay:sM,race:oM,reduce:Xo,refCount:wc,repeat:aM,repeatWhen:cM,retry:hM,retryWhen:gM,sample:vM,sampleTime:_M,scan:Ks,sequenceEqual:MM,share:TM,shareReplay:kM,single:OM,skip:PM,skipLast:FM,skipUntil:WM,skipWhile:zM,startWith:JM,subscribeOn:QM,switchAll:eC,switchMap:Zi,switchMapTo:tC,take:$c,takeLast:Ys,takeUntil:rC,takeWhile:sC,tap:uC,throttle:fC,throttleTime:pC,throwIfEmpty:Ko,timeInterval:vC,timeout:EC,timeoutWith:tp,timestamp:SC,toArray:CC,window:IC,windowCount:TC,windowTime:OC,windowToggle:FC,windowWhen:WC,withLatestFrom:zC,zip:JC,zipAll:ZC},Symbol.toStringTag,{value:"Module"})),Dc=wn(QC);var ea={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ClientMessagePublishEvent=Wt.ClientMessageSetSessionConfig=Wt.ClientMessageGetSessionConfig=Wt.ClientMessageIsLinked=Wt.ClientMessageHostSession=void 0;function YC(t){return Object.assign({type:"HostSession"},t)}Wt.ClientMessageHostSession=YC;function KC(t){return Object.assign({type:"IsLinked"},t)}Wt.ClientMessageIsLinked=KC;function XC(t){return Object.assign({type:"GetSessionConfig"},t)}Wt.ClientMessageGetSessionConfig=XC;function eI(t){return Object.assign({type:"SetSessionConfig"},t)}Wt.ClientMessageSetSessionConfig=eI;function tI(t){return Object.assign({type:"PublishEvent"},t)}Wt.ClientMessagePublishEvent=tI;var np={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=$o,r=Dc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(np);var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.isServerMessageFail=void 0;function rI(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ta.isServerMessageFail=rI;Object.defineProperty(ea,"__esModule",{value:!0});ea.WalletSDKConnection=void 0;const Zt=$o,_e=Dc,Oi=bi,Hn=ns,Li=Wt,Bi=gi,Ls=np,eu=ta,th=1e4,nI=6e4;class iI{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Zt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Hn.IntNumber)(1),this.connectedSubject=new Zt.BehaviorSubject(!1),this.linkedSubject=new Zt.BehaviorSubject(!1),this.sessionConfigSubject=new Zt.ReplaySubject(1);const o=new Ls.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,_e.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Bi.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Oi.Session.hash(e)})}),(0,_e.skip)(1),(0,_e.filter)(a=>a===Ls.ConnectionState.DISCONNECTED&&!this.destroyed),(0,_e.delay)(5e3),(0,_e.filter)(a=>!this.destroyed),(0,_e.flatMap)(a=>o.connect()),(0,_e.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(2),(0,_e.switchMap)(a=>(0,Zt.iif)(()=>a===Ls.ConnectionState.CONNECTED,this.authenticate().pipe((0,_e.tap)(c=>this.sendIsLinked()),(0,_e.tap)(c=>this.sendGetSessionConfig()),(0,_e.map)(c=>!0)),(0,Zt.of)(!1))),(0,_e.distinctUntilChanged)(),(0,_e.catchError)(a=>(0,Zt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,_e.skip)(1),(0,_e.switchMap)(a=>(0,Zt.iif)(()=>a===Ls.ConnectionState.CONNECTED,(0,Zt.timer)(0,th)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,_e.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const f=a;(c=this.diagnostic)===null||c===void 0||c.log(Bi.EVENTS.LINKED,{sessionIdHash:Oi.Session.hash(e),linked:f.linked,type:a.type,onlineGuests:f.onlineGuests}),this.linkedSubject.next(f.linked||f.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,_e.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const f=a;(c=this.diagnostic)===null||c===void 0||c.log(Bi.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Oi.Session.hash(e),metadata_keys:f&&f.metadata?Object.keys(f.metadata):void 0}),this.sessionConfigSubject.next({webhookId:f.webhookId,webhookUrl:f.webhookUrl,metadata:f.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Bi.EVENTS.STARTED_CONNECTING,{sessionIdHash:Oi.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Bi.EVENTS.DISCONNECTED,{sessionIdHash:Oi.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,_e.filter)(e=>e),(0,_e.take)(1),(0,_e.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,_e.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,_e.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Li.ClientMessageSetSessionConfig)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,_e.flatMap)(i=>this.makeRequest(n)),(0,_e.map)(i=>{if((0,eu.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Li.ClientMessagePublishEvent)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,_e.flatMap)(s=>this.makeRequest(i)),(0,_e.map)(s=>{if((0,eu.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>th*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=nI){const n=e.id;try{this.sendData(e)}catch(i){return(0,Zt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,_e.timeoutWith)(r,(0,Zt.throwError)(new Error(`request ${n} timed out`))),(0,_e.filter)(i=>i.id===n),(0,_e.take)(1))}authenticate(){const e=(0,Li.ClientMessageHostSession)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,_e.map)(r=>{if((0,eu.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Li.ClientMessageIsLinked)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Li.ClientMessageGetSessionConfig)({id:(0,Hn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ea.WalletSDKConnection=iI;var di={};Object.defineProperty(di,"__esModule",{value:!0});di.decrypt=di.encrypt=void 0;const Xs=re;async function sI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Xs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),f=new Uint8Array(a),g=new Uint8Array(c),y=new Uint8Array([...r,...f,...g]);return(0,Xs.uint8ArrayToHex)(y)}di.encrypt=sI;function oI(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Xs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Xs.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),f=new Uint8Array([...c,...a]),g={name:"AES-GCM",iv:new Uint8Array(o)};try{const y=await window.crypto.subtle.decrypt(g,i,f),m=new TextDecoder;r(m.decode(y))}catch(y){n(y)}})()})}di.decrypt=oI;var ra={},na={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(na);Object.defineProperty(ra,"__esModule",{value:!0});ra.Web3RequestCanceledMessage=void 0;const aI=na;function uI(t){return{type:aI.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}ra.Web3RequestCanceledMessage=uI;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.Web3RequestMessage=void 0;const cI=na;function lI(t){return Object.assign({type:cI.RelayMessageType.WEB3_REQUEST},t)}ia.Web3RequestMessage=lI;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.isWeb3ResponseMessage=pi.Web3ResponseMessage=void 0;const ip=na;function fI(t){return Object.assign({type:ip.RelayMessageType.WEB3_RESPONSE},t)}pi.Web3ResponseMessage=fI;function hI(t){return t&&t.type===ip.RelayMessageType.WEB3_RESPONSE}pi.isWeb3ResponseMessage=hI;var dI=te&&te.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pI=te&&te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sp=te&&te.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},gI=te&&te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dI(e,t,r);return pI(e,t),e},yI=te&&te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.WalletSDKRelay=void 0;const op=yI(Yo),sn=$o,at=Dc,_t=gi,bI=ea,Vn=Qi,vI=ns,Ye=re,Cr=gI(di),Ir=bi,Bs=Xt,yt=oo,mI=ra,wI=ia,Ft=Oe,At=pi;class Kt extends Bs.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new sn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new sn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ir.Session.load(this.storage)||new Ir.Session(this.storage).save(),r=new bI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,at.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,at.skip)(1),(0,at.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Bs.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const f=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(_t.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:f})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Bs.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Bs.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,at.mergeMap)(i=>(0,sn.zip)(Cr.decrypt(i.metadata.ChainId,e.secret),Cr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,at.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Kt.accountRequestCallbackIds.size>0&&(Array.from(Kt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,At.Web3ResponseMessage)({id:s,response:(0,Ft.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Kt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,at.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,at.mergeMap)(i=>Cr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,at.timeout)(1e3),(0,at.catchError)(e=>(0,sn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(_t.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ir.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(_t.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ir.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new sn.Subscription;const{session:a,ui:c,connection:f}=this.subscribe();this._session=a,this.connection=f,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:yt.Web3Method.signEthereumMessage,params:{message:(0,Ye.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:yt.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ye.hexStringFromBuffer)(e,!0),signature:(0,Ye.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:yt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ye.bigIntStringFromBN)(e.weiValue),data:(0,Ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:yt.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ye.bigIntStringFromBN)(e.weiValue),data:(0,Ye.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ye.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ye.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ye.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ye.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:yt.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ye.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:yt.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ye.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:yt.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,wI.Web3RequestMessage)({id:e,request:r}),s=Ir.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(_t.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ir.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(_t.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ir.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,mI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new sn.Observable(s=>{Cr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,at.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,sn.from)(Cr.decrypt(e.data,this.session.secret)).pipe((0,at.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,At.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(_t.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ft.isRequestEthereumAccountsResponse)(n)){Kt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Kt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Vn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:yt.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ye.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,f=>{if(this.ui.hideRequestEthereumAccounts(),f.errorMessage)return o(new Error(f.errorMessage));s(f)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let f;try{(0,Ye.isInIFrame)()&&window.top?f=window.top.location:f=window.location}catch{f=window.location}f.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(f.href)}`;return}if(this.ui.inlineAccountsResponse()){const f=g=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:r,response:(0,Ft.RequestEthereumAccountsResponse)(g)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:f})}else{const f=Vn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(f)})}Kt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:yt.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ye.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,g=>{if(g.errorMessage)return a(new Error(g.errorMessage));o(g)});const c=g=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(vI.ProviderType.Unselected)}))},f=g=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:n,response:(0,Ft.SelectProviderResponse)(g)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:f,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:yt.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const f=(0,Ye.randomBytesHex)(8),g=m=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,m),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload}));const y=new Promise((m,A)=>{this.relayEventManager.callbacks.set(f,F=>{if(c==null||c(),F.errorMessage)return A(new Error(F.errorMessage));m(F)});const k=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.WatchAssetReponse)(!1)}))},U=()=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:U,onCancel:k,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)});return{cancel:g,promise:y}}addEthereumChain(e,r,n,i,s,o){const a={method:yt.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const f=(0,Ye.randomBytesHex)(8),g=m=>{this.publishWeb3RequestCanceledEvent(f),this.handleErrorResponse(f,a.method,m),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload})),{promise:new Promise((m,A)=>{this.relayEventManager.callbacks.set(f,F=>{if(c==null||c(),F.errorMessage)return A(new Error(F.errorMessage));m(F)});const k=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},U=F=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:f,response:(0,Ft.AddEthereumChainResponse)({isApproved:!0,rpcUrl:F})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:k,onApprove:U,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(f,a)}),cancel:g}}switchEthereumChain(e,r){const n={method:yt.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ye.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,y=>{if((0,Ft.isErrorResponse)(y)&&y.errorCode)return c(Vn.standardErrors.provider.custom({code:y.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(y.errorMessage)return c(new Error(y.errorMessage));a(y)});const f=y=>{var m;if(y){const A=(m=(0,Vn.getErrorCode)(y))!==null&&m!==void 0?m:Vn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,yt.Web3Method.switchEthereumChain,y instanceof Error?y:Vn.standardErrors.provider.unsupportedChain(e),A)}else this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},g=y=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:i,response:(0,Ft.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:y})}))};this.ui.switchEthereumChain({onCancel:f,onApprove:g,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ir.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,At.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case yt.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case yt.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Kt.accountRequestCallbackIds=new Set;sp([op.default],Kt.prototype,"resetAndReload",null);sp([op.default],Kt.prototype,"handleIncomingEvent",null);Qo.WalletSDKRelay=Kt;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.WalletSDKRelayEventManager=void 0;const _I=re;class EI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,_I.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}sa.WalletSDKRelayEventManager=EI;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.CoinbaseWalletSDK=void 0;const SI=to,xI=ro,MI=no,CI=ti,II=Lo,RI=Qo,AI=sa,TI=re,ap=yi;class oa{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||xI.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=f=>new II.WalletSDKUI(f),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new MI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",oa.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new AI.WalletSDKRelayEventManager,this._relay=new RI.WalletSDKRelay({linkAPIUrl:s,version:ap.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new CI.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,TI.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,SI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Hi.CoinbaseWalletSDK=oa;oa.VERSION=ap.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Hi,r=ti;var n=Hi;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=ti;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ru);const kI=cp(Ru),VI=hp({__proto__:null,default:kI},[Ru]);export{VI as i};
